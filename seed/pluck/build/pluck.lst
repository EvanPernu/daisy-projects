ARM GAS  /tmp/ccr0h8qZ.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"pluck.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN7daisysp5PluckD2Ev,"axG",%progbits,_ZN7daisysp5PluckD5Ev,comdat
  17              		.align	1
  18              		.p2align 2,,3
  19              		.weak	_ZN7daisysp5PluckD2Ev
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	_ZN7daisysp5PluckD2Ev:
  27              	.LVL0:
  28              	.LFB3220:
  29              		.file 1 "../../DaisySP/Source/PhysicalModeling/pluck.h"
   1:../../DaisySP/Source/PhysicalModeling/pluck.h **** 
   2:../../DaisySP/Source/PhysicalModeling/pluck.h **** #pragma once
   3:../../DaisySP/Source/PhysicalModeling/pluck.h **** #ifndef DSY_PLUCK_H
   4:../../DaisySP/Source/PhysicalModeling/pluck.h **** #define DSY_PLUCK_H
   5:../../DaisySP/Source/PhysicalModeling/pluck.h **** 
   6:../../DaisySP/Source/PhysicalModeling/pluck.h **** #include <stdint.h>
   7:../../DaisySP/Source/PhysicalModeling/pluck.h **** #ifdef __cplusplus
   8:../../DaisySP/Source/PhysicalModeling/pluck.h **** 
   9:../../DaisySP/Source/PhysicalModeling/pluck.h **** namespace daisysp
  10:../../DaisySP/Source/PhysicalModeling/pluck.h **** {
  11:../../DaisySP/Source/PhysicalModeling/pluck.h **** /** The method of natural decay that the algorithm will use.
  12:../../DaisySP/Source/PhysicalModeling/pluck.h ****     - RECURSIVE: 1st order recursive filter, with coefs .5.
  13:../../DaisySP/Source/PhysicalModeling/pluck.h ****     - WEIGHTED_AVERAGE: weighted averaging. 
  14:../../DaisySP/Source/PhysicalModeling/pluck.h ****     */
  15:../../DaisySP/Source/PhysicalModeling/pluck.h **** enum
  16:../../DaisySP/Source/PhysicalModeling/pluck.h **** {
  17:../../DaisySP/Source/PhysicalModeling/pluck.h ****     PLUCK_MODE_RECURSIVE,
  18:../../DaisySP/Source/PhysicalModeling/pluck.h ****     PLUCK_MODE_WEIGHTED_AVERAGE,
  19:../../DaisySP/Source/PhysicalModeling/pluck.h ****     PLUCK_LAST,
  20:../../DaisySP/Source/PhysicalModeling/pluck.h **** };
  21:../../DaisySP/Source/PhysicalModeling/pluck.h **** 
  22:../../DaisySP/Source/PhysicalModeling/pluck.h **** /** Produces a naturally decaying plucked string or drum sound based on the Karplus-Strong algorith
  23:../../DaisySP/Source/PhysicalModeling/pluck.h **** 
  24:../../DaisySP/Source/PhysicalModeling/pluck.h ****     Ported from soundpipe to DaisySP
  25:../../DaisySP/Source/PhysicalModeling/pluck.h ****     
  26:../../DaisySP/Source/PhysicalModeling/pluck.h ****     This code was originally extracted from the Csound opcode "pluck"
  27:../../DaisySP/Source/PhysicalModeling/pluck.h **** 
  28:../../DaisySP/Source/PhysicalModeling/pluck.h ****     Original Author(s): Barry Vercoe, John ffitch
  29:../../DaisySP/Source/PhysicalModeling/pluck.h ****     Year: 1991
ARM GAS  /tmp/ccr0h8qZ.s 			page 2


  30:../../DaisySP/Source/PhysicalModeling/pluck.h **** 
  31:../../DaisySP/Source/PhysicalModeling/pluck.h ****     Location: OOps/ugens4.c
  32:../../DaisySP/Source/PhysicalModeling/pluck.h ****     */
  33:../../DaisySP/Source/PhysicalModeling/pluck.h **** class Pluck
  34:../../DaisySP/Source/PhysicalModeling/pluck.h **** {
  35:../../DaisySP/Source/PhysicalModeling/pluck.h ****   public:
  36:../../DaisySP/Source/PhysicalModeling/pluck.h ****     Pluck() {}
  37:../../DaisySP/Source/PhysicalModeling/pluck.h ****     ~Pluck() {}
  30              		.loc 1 37 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 37 15 is_stmt 0 view .LVU1
  36 0000 7047     		bx	lr
  37              		.cfi_endproc
  38              	.LFE3220:
  40              		.weak	_ZN7daisysp5PluckD1Ev
  41              		.thumb_set _ZN7daisysp5PluckD1Ev,_ZN7daisysp5PluckD2Ev
  42 0002 00BF     		.section	.text._ZN7daisysp5MetroD2Ev,"axG",%progbits,_ZN7daisysp5MetroD5Ev,comdat
  43              		.align	1
  44              		.p2align 2,,3
  45              		.weak	_ZN7daisysp5MetroD2Ev
  46              		.syntax unified
  47              		.thumb
  48              		.thumb_func
  49              		.fpu fpv5-d16
  51              	_ZN7daisysp5MetroD2Ev:
  52              	.LVL1:
  53              	.LFB3332:
  54              		.file 2 "../../DaisySP/Source/Utility/metro.h"
   1:../../DaisySP/Source/Utility/metro.h **** #pragma once
   2:../../DaisySP/Source/Utility/metro.h **** #ifndef DSY_METRO_H
   3:../../DaisySP/Source/Utility/metro.h **** #define DSY_METRO_H
   4:../../DaisySP/Source/Utility/metro.h **** #include <stdint.h>
   5:../../DaisySP/Source/Utility/metro.h **** #ifdef __cplusplus
   6:../../DaisySP/Source/Utility/metro.h **** 
   7:../../DaisySP/Source/Utility/metro.h **** namespace daisysp
   8:../../DaisySP/Source/Utility/metro.h **** {
   9:../../DaisySP/Source/Utility/metro.h **** /** Creates a clock signal at a specific frequency.
  10:../../DaisySP/Source/Utility/metro.h **** */
  11:../../DaisySP/Source/Utility/metro.h **** class Metro
  12:../../DaisySP/Source/Utility/metro.h **** {
  13:../../DaisySP/Source/Utility/metro.h ****   public:
  14:../../DaisySP/Source/Utility/metro.h ****     Metro() {}
  15:../../DaisySP/Source/Utility/metro.h ****     ~Metro() {}
  55              		.loc 2 15 5 is_stmt 1 view -0
  56              		.cfi_startproc
  57              		@ args = 0, pretend = 0, frame = 0
  58              		@ frame_needed = 0, uses_anonymous_args = 0
  59              		@ link register save eliminated.
  60              		.loc 2 15 15 is_stmt 0 view .LVU3
  61 0000 7047     		bx	lr
  62              		.cfi_endproc
  63              	.LFE3332:
  65              		.weak	_ZN7daisysp5MetroD1Ev
  66              		.thumb_set _ZN7daisysp5MetroD1Ev,_ZN7daisysp5MetroD2Ev
ARM GAS  /tmp/ccr0h8qZ.s 			page 3


  67 0002 00BF     		.section	.text._ZN5daisy9DaisySeedD2Ev,"axG",%progbits,_ZN5daisy9DaisySeedD5Ev,comdat
  68              		.align	1
  69              		.p2align 2,,3
  70              		.weak	_ZN5daisy9DaisySeedD2Ev
  71              		.syntax unified
  72              		.thumb
  73              		.thumb_func
  74              		.fpu fpv5-d16
  76              	_ZN5daisy9DaisySeedD2Ev:
  77              	.LVL2:
  78              	.LFB4207:
  79              		.file 3 "../../libdaisy/src/daisy_seed.h"
   1:../../libdaisy/src/daisy_seed.h **** #pragma once
   2:../../libdaisy/src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../../libdaisy/src/daisy_seed.h **** #define DSY_SEED_H
   4:../../libdaisy/src/daisy_seed.h **** 
   5:../../libdaisy/src/daisy_seed.h **** #include "daisy.h"
   6:../../libdaisy/src/daisy_seed.h **** 
   7:../../libdaisy/src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../../libdaisy/src/daisy_seed.h **** //#define SEED_REV2
   9:../../libdaisy/src/daisy_seed.h **** 
  10:../../libdaisy/src/daisy_seed.h **** namespace daisy
  11:../../libdaisy/src/daisy_seed.h **** {
  12:../../libdaisy/src/daisy_seed.h **** /**
  13:../../libdaisy/src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../../libdaisy/src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../../libdaisy/src/daisy_seed.h **** 
  16:../../libdaisy/src/daisy_seed.h ****    @ingroup boards
  17:../../libdaisy/src/daisy_seed.h **** */
  18:../../libdaisy/src/daisy_seed.h **** class DaisySeed
  19:../../libdaisy/src/daisy_seed.h **** {
  20:../../libdaisy/src/daisy_seed.h ****   public:
  21:../../libdaisy/src/daisy_seed.h ****     DaisySeed() {}
  22:../../libdaisy/src/daisy_seed.h ****     ~DaisySeed() {}
  80              		.loc 3 22 5 is_stmt 1 view -0
  81              		.cfi_startproc
  82              		@ args = 0, pretend = 0, frame = 0
  83              		@ frame_needed = 0, uses_anonymous_args = 0
  84              		@ link register save eliminated.
  85              	.LBB72:
  86              	.LBI72:
  87              		.file 4 "../../libdaisy/src/sys/system.h"
   1:../../libdaisy/src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../libdaisy/src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../libdaisy/src/sys/system.h **** 
   4:../../libdaisy/src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../libdaisy/src/sys/system.h **** 
   6:../../libdaisy/src/sys/system.h **** #include <cstdint>
   7:../../libdaisy/src/sys/system.h **** #include "per/tim.h"
   8:../../libdaisy/src/sys/system.h **** 
   9:../../libdaisy/src/sys/system.h **** namespace daisy
  10:../../libdaisy/src/sys/system.h **** {
  11:../../libdaisy/src/sys/system.h **** /** A handle for interacting with the Core System. 
  12:../../libdaisy/src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../libdaisy/src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../libdaisy/src/sys/system.h ****  **
  15:../../libdaisy/src/sys/system.h ****  ** @author shensley
ARM GAS  /tmp/ccr0h8qZ.s 			page 4


  16:../../libdaisy/src/sys/system.h ****  ** @addtogroup system
  17:../../libdaisy/src/sys/system.h ****  */
  18:../../libdaisy/src/sys/system.h **** class System
  19:../../libdaisy/src/sys/system.h **** {
  20:../../libdaisy/src/sys/system.h ****   public:
  21:../../libdaisy/src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../libdaisy/src/sys/system.h ****     struct Config
  23:../../libdaisy/src/sys/system.h ****     {
  24:../../libdaisy/src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../libdaisy/src/sys/system.h ****         enum class SysClkFreq
  26:../../libdaisy/src/sys/system.h ****         {
  27:../../libdaisy/src/sys/system.h ****             FREQ_400MHZ,
  28:../../libdaisy/src/sys/system.h ****             FREQ_480MHZ,
  29:../../libdaisy/src/sys/system.h ****         };
  30:../../libdaisy/src/sys/system.h **** 
  31:../../libdaisy/src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../libdaisy/src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../libdaisy/src/sys/system.h ****          ** Cache Enabled 
  34:../../libdaisy/src/sys/system.h ****          ** */
  35:../../libdaisy/src/sys/system.h ****         void Defaults()
  36:../../libdaisy/src/sys/system.h ****         {
  37:../../libdaisy/src/sys/system.h ****             cpu_freq   = SysClkFreq::FREQ_400MHZ;
  38:../../libdaisy/src/sys/system.h ****             use_dcache = true;
  39:../../libdaisy/src/sys/system.h ****             use_icache = true;
  40:../../libdaisy/src/sys/system.h ****         }
  41:../../libdaisy/src/sys/system.h **** 
  42:../../libdaisy/src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  43:../../libdaisy/src/sys/system.h ****          ** CPU Freq set to 480MHz
  44:../../libdaisy/src/sys/system.h ****          ** Cache Enabled 
  45:../../libdaisy/src/sys/system.h ****          ** */
  46:../../libdaisy/src/sys/system.h ****         void Boost()
  47:../../libdaisy/src/sys/system.h ****         {
  48:../../libdaisy/src/sys/system.h ****             cpu_freq   = SysClkFreq::FREQ_480MHZ;
  49:../../libdaisy/src/sys/system.h ****             use_dcache = true;
  50:../../libdaisy/src/sys/system.h ****             use_icache = true;
  51:../../libdaisy/src/sys/system.h ****         }
  52:../../libdaisy/src/sys/system.h **** 
  53:../../libdaisy/src/sys/system.h ****         SysClkFreq cpu_freq;
  54:../../libdaisy/src/sys/system.h ****         bool       use_dcache;
  55:../../libdaisy/src/sys/system.h ****         bool       use_icache;
  56:../../libdaisy/src/sys/system.h ****     };
  57:../../libdaisy/src/sys/system.h **** 
  58:../../libdaisy/src/sys/system.h ****     System() {}
  59:../../libdaisy/src/sys/system.h ****     ~System() {}
  88              		.loc 4 59 5 view .LVU5
  89              		.loc 4 59 5 is_stmt 0 view .LVU6
  90              	.LBE72:
  91              	.LBB73:
  92              	.LBI73:
  93              		.file 5 "../../libdaisy/src/hid/usb.h"
   1:../../libdaisy/src/hid/usb.h **** #pragma once
   2:../../libdaisy/src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../../libdaisy/src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../libdaisy/src/hid/usb.h **** #include <stdint.h>
   5:../../libdaisy/src/hid/usb.h **** #include <stdlib.h>
   6:../../libdaisy/src/hid/usb.h **** 
   7:../../libdaisy/src/hid/usb.h **** namespace daisy
ARM GAS  /tmp/ccr0h8qZ.s 			page 5


   8:../../libdaisy/src/hid/usb.h **** /** @addtogroup externals
   9:../../libdaisy/src/hid/usb.h ****     @{
  10:../../libdaisy/src/hid/usb.h **** */
  11:../../libdaisy/src/hid/usb.h **** 
  12:../../libdaisy/src/hid/usb.h **** {
  13:../../libdaisy/src/hid/usb.h **** /** 
  14:../../libdaisy/src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../libdaisy/src/hid/usb.h ****     @author Stephen Hensley
  16:../../libdaisy/src/hid/usb.h ****     @date December 2019
  17:../../libdaisy/src/hid/usb.h **** */
  18:../../libdaisy/src/hid/usb.h **** class UsbHandle
  19:../../libdaisy/src/hid/usb.h **** {
  20:../../libdaisy/src/hid/usb.h ****   public:
  21:../../libdaisy/src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../../libdaisy/src/hid/usb.h ****     enum class Result
  23:../../libdaisy/src/hid/usb.h ****     {
  24:../../libdaisy/src/hid/usb.h ****         OK,
  25:../../libdaisy/src/hid/usb.h ****         ERR,
  26:../../libdaisy/src/hid/usb.h ****     };
  27:../../libdaisy/src/hid/usb.h **** 
  28:../../libdaisy/src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../libdaisy/src/hid/usb.h ****     enum UsbPeriph
  30:../../libdaisy/src/hid/usb.h ****     {
  31:../../libdaisy/src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../libdaisy/src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../libdaisy/src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../libdaisy/src/hid/usb.h ****     };
  35:../../libdaisy/src/hid/usb.h **** 
  36:../../libdaisy/src/hid/usb.h **** 
  37:../../libdaisy/src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../libdaisy/src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../libdaisy/src/hid/usb.h **** 
  40:../../libdaisy/src/hid/usb.h ****     UsbHandle() {}
  41:../../libdaisy/src/hid/usb.h **** 
  42:../../libdaisy/src/hid/usb.h ****     ~UsbHandle() {}
  94              		.loc 5 42 5 is_stmt 1 view .LVU7
  95              		.loc 5 42 5 is_stmt 0 view .LVU8
  96              	.LBE73:
  97              	.LBB74:
  98              	.LBI74:
  99              		.file 6 "../../libdaisy/src/per/adc.h"
   1:../../libdaisy/src/per/adc.h **** #pragma once
   2:../../libdaisy/src/per/adc.h **** #ifndef DSY_ADC_H
   3:../../libdaisy/src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../libdaisy/src/per/adc.h **** #include <stdint.h>
   5:../../libdaisy/src/per/adc.h **** #include <stdlib.h>
   6:../../libdaisy/src/per/adc.h **** #include "daisy_core.h"
   7:../../libdaisy/src/per/adc.h **** #include "per/gpio.h"
   8:../../libdaisy/src/per/adc.h **** 
   9:../../libdaisy/src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 14 /**< Maximum number of ADC channels */
  10:../../libdaisy/src/per/adc.h **** 
  11:../../libdaisy/src/per/adc.h **** namespace daisy
  12:../../libdaisy/src/per/adc.h **** {
  13:../../libdaisy/src/per/adc.h **** /** @addtogroup analog_digital_conversion
  14:../../libdaisy/src/per/adc.h ****     @{
  15:../../libdaisy/src/per/adc.h **** */
  16:../../libdaisy/src/per/adc.h **** 
ARM GAS  /tmp/ccr0h8qZ.s 			page 6


  17:../../libdaisy/src/per/adc.h **** /* While there may not be many configuration options here,
  18:../../libdaisy/src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../libdaisy/src/per/adc.h **** later without breaking existing functionality.
  20:../../libdaisy/src/per/adc.h **** */
  21:../../libdaisy/src/per/adc.h **** 
  22:../../libdaisy/src/per/adc.h **** /** Configuration Structure for a given channel */
  23:../../libdaisy/src/per/adc.h **** struct AdcChannelConfig
  24:../../libdaisy/src/per/adc.h **** {
  25:../../libdaisy/src/per/adc.h ****     /** Which pin to use for multiplexing */
  26:../../libdaisy/src/per/adc.h ****     enum MuxPin
  27:../../libdaisy/src/per/adc.h ****     {
  28:../../libdaisy/src/per/adc.h ****         MUX_SEL_0,    /**< & */
  29:../../libdaisy/src/per/adc.h ****         MUX_SEL_1,    /**< & */
  30:../../libdaisy/src/per/adc.h ****         MUX_SEL_2,    /**< & */
  31:../../libdaisy/src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  32:../../libdaisy/src/per/adc.h ****     };
  33:../../libdaisy/src/per/adc.h **** 
  34:../../libdaisy/src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  35:../../libdaisy/src/per/adc.h ****     \param pin Pin to init.
  36:../../libdaisy/src/per/adc.h ****      */
  37:../../libdaisy/src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin);
  38:../../libdaisy/src/per/adc.h **** 
  39:../../libdaisy/src/per/adc.h ****     /** 
  40:../../libdaisy/src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  41:../../libdaisy/src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  42:../../libdaisy/src/per/adc.h ****     You only need to supply the mux pins that are required,
  43:../../libdaisy/src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  44:../../libdaisy/src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  45:../../libdaisy/src/per/adc.h ****     \param mux_channels must be 1-8
  46:../../libdaisy/src/per/adc.h ****     \param mux_0 First mux pin
  47:../../libdaisy/src/per/adc.h ****     \param mux_1 Second mux pin
  48:../../libdaisy/src/per/adc.h ****     \param mux_2 Third mux pin
  49:../../libdaisy/src/per/adc.h ****     \param adc_pin &
  50:../../libdaisy/src/per/adc.h ****     */
  51:../../libdaisy/src/per/adc.h ****     void InitMux(dsy_gpio_pin adc_pin,
  52:../../libdaisy/src/per/adc.h ****                  size_t       mux_channels,
  53:../../libdaisy/src/per/adc.h ****                  dsy_gpio_pin mux_0,
  54:../../libdaisy/src/per/adc.h ****                  dsy_gpio_pin mux_1 = {DSY_GPIOX, 0},
  55:../../libdaisy/src/per/adc.h ****                  dsy_gpio_pin mux_2 = {DSY_GPIOX, 0});
  56:../../libdaisy/src/per/adc.h **** 
  57:../../libdaisy/src/per/adc.h ****     dsy_gpio pin_;                   /**< & */
  58:../../libdaisy/src/per/adc.h ****     dsy_gpio mux_pin_[MUX_SEL_LAST]; /**< & */
  59:../../libdaisy/src/per/adc.h ****     uint8_t  mux_channels_;          /**< & */
  60:../../libdaisy/src/per/adc.h **** };
  61:../../libdaisy/src/per/adc.h **** 
  62:../../libdaisy/src/per/adc.h **** /**
  63:../../libdaisy/src/per/adc.h ****    Handler for analog to digital conversion
  64:../../libdaisy/src/per/adc.h **** */
  65:../../libdaisy/src/per/adc.h **** class AdcHandle
  66:../../libdaisy/src/per/adc.h **** {
  67:../../libdaisy/src/per/adc.h ****   public:
  68:../../libdaisy/src/per/adc.h ****     /** Supported oversampling amounts */
  69:../../libdaisy/src/per/adc.h ****     enum OverSampling
  70:../../libdaisy/src/per/adc.h ****     {
  71:../../libdaisy/src/per/adc.h ****         OVS_NONE, /**< & */
  72:../../libdaisy/src/per/adc.h ****         OVS_4,    /**< & */
  73:../../libdaisy/src/per/adc.h ****         OVS_8,    /**< & */
ARM GAS  /tmp/ccr0h8qZ.s 			page 7


  74:../../libdaisy/src/per/adc.h ****         OVS_16,   /**< & */
  75:../../libdaisy/src/per/adc.h ****         OVS_32,   /**< & */
  76:../../libdaisy/src/per/adc.h ****         OVS_64,   /**< & */
  77:../../libdaisy/src/per/adc.h ****         OVS_128,  /**< & */
  78:../../libdaisy/src/per/adc.h ****         OVS_256,  /**< & */
  79:../../libdaisy/src/per/adc.h ****         OVS_512,  /**< & */
  80:../../libdaisy/src/per/adc.h ****         OVS_1024, /**< & */
  81:../../libdaisy/src/per/adc.h ****         OVS_LAST, /**< & */
  82:../../libdaisy/src/per/adc.h ****     };
  83:../../libdaisy/src/per/adc.h **** 
  84:../../libdaisy/src/per/adc.h ****     AdcHandle() {}
  85:../../libdaisy/src/per/adc.h ****     ~AdcHandle() {}
 100              		.loc 6 85 5 is_stmt 1 view .LVU9
 101              		.loc 6 85 5 is_stmt 0 view .LVU10
 102              	.LBE74:
 103              	.LBB75:
 104              	.LBI75:
 105              		.file 7 "../../libdaisy/src/hid/audio.h"
   1:../../libdaisy/src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../libdaisy/src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../libdaisy/src/hid/audio.h **** 
   4:../../libdaisy/src/hid/audio.h **** #include "per/sai.h"
   5:../../libdaisy/src/hid/audio.h **** 
   6:../../libdaisy/src/hid/audio.h **** namespace daisy
   7:../../libdaisy/src/hid/audio.h **** {
   8:../../libdaisy/src/hid/audio.h **** class AudioHandle
   9:../../libdaisy/src/hid/audio.h **** {
  10:../../libdaisy/src/hid/audio.h ****   public:
  11:../../libdaisy/src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  12:../../libdaisy/src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  13:../../libdaisy/src/hid/audio.h ****     struct Config
  14:../../libdaisy/src/hid/audio.h ****     {
  15:../../libdaisy/src/hid/audio.h ****         size_t                        blocksize;
  16:../../libdaisy/src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  17:../../libdaisy/src/hid/audio.h ****         float                         postgain;
  18:../../libdaisy/src/hid/audio.h ****     };
  19:../../libdaisy/src/hid/audio.h **** 
  20:../../libdaisy/src/hid/audio.h ****     enum class Result
  21:../../libdaisy/src/hid/audio.h ****     {
  22:../../libdaisy/src/hid/audio.h ****         OK,
  23:../../libdaisy/src/hid/audio.h ****         ERR,
  24:../../libdaisy/src/hid/audio.h ****     };
  25:../../libdaisy/src/hid/audio.h **** 
  26:../../libdaisy/src/hid/audio.h ****     /** Non-Interleaving input buffer
  27:../../libdaisy/src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  28:../../libdaisy/src/hid/audio.h ****      * const so that the user can't modify the input
  29:../../libdaisy/src/hid/audio.h ****     */
  30:../../libdaisy/src/hid/audio.h ****     typedef const float* const* InputBuffer;
  31:../../libdaisy/src/hid/audio.h **** 
  32:../../libdaisy/src/hid/audio.h ****     /** Non-Interleaving output buffer
  33:../../libdaisy/src/hid/audio.h ****      * Arranged by float[chn][sample] 
  34:../../libdaisy/src/hid/audio.h ****     */
  35:../../libdaisy/src/hid/audio.h ****     typedef float** OutputBuffer;
  36:../../libdaisy/src/hid/audio.h **** 
  37:../../libdaisy/src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  38:../../libdaisy/src/hid/audio.h ****    * Non-Interleaving audio callbacks in daisy will be of this type
  39:../../libdaisy/src/hid/audio.h ****   */
ARM GAS  /tmp/ccr0h8qZ.s 			page 8


  40:../../libdaisy/src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  41:../../libdaisy/src/hid/audio.h ****                                   OutputBuffer out,
  42:../../libdaisy/src/hid/audio.h ****                                   size_t       size);
  43:../../libdaisy/src/hid/audio.h **** 
  44:../../libdaisy/src/hid/audio.h ****     /** Interleaving Input buffer
  45:../../libdaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  46:../../libdaisy/src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  47:../../libdaisy/src/hid/audio.h ****     */
  48:../../libdaisy/src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  49:../../libdaisy/src/hid/audio.h **** 
  50:../../libdaisy/src/hid/audio.h ****     /** Interleaving Output buffer 
  51:../../libdaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  52:../../libdaisy/src/hid/audio.h ****     */
  53:../../libdaisy/src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  54:../../libdaisy/src/hid/audio.h **** 
  55:../../libdaisy/src/hid/audio.h ****     /** Interleaving Audio Callback 
  56:../../libdaisy/src/hid/audio.h ****    * Interleaving audio callbacks in daisy must be of this type
  57:../../libdaisy/src/hid/audio.h ****   */
  58:../../libdaisy/src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  59:../../libdaisy/src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  60:../../libdaisy/src/hid/audio.h ****                                               size_t                   size);
  61:../../libdaisy/src/hid/audio.h **** 
  62:../../libdaisy/src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  63:../../libdaisy/src/hid/audio.h ****     ~AudioHandle() {}
 106              		.loc 7 63 5 is_stmt 1 view .LVU11
 107              		.loc 7 63 5 is_stmt 0 view .LVU12
 108              	.LBE75:
 109              		.loc 3 22 19 view .LVU13
 110 0000 7047     		bx	lr
 111              		.cfi_endproc
 112              	.LFE4207:
 114              		.weak	_ZN5daisy9DaisySeedD1Ev
 115              		.thumb_set _ZN5daisy9DaisySeedD1Ev,_ZN5daisy9DaisySeedD2Ev
 116 0002 00BF     		.section	.text._ZL13AudioCallbackPKfPfj,"ax",%progbits
 117              		.align	1
 118              		.p2align 2,,3
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 122              		.fpu fpv5-d16
 124              	_ZL13AudioCallbackPKfPfj:
 125              	.LVL3:
 126              	.LFB4212:
 127              		.file 8 "pluck.cpp"
   1:pluck.cpp     **** #include "daisysp.h"
   2:pluck.cpp     **** #include "daisy_seed.h"
   3:pluck.cpp     **** #include <algorithm>
   4:pluck.cpp     **** 
   5:pluck.cpp     **** // Shortening long macro for sample rate
   6:pluck.cpp     **** #ifndef sample_rate
   7:pluck.cpp     **** 
   8:pluck.cpp     **** #endif
   9:pluck.cpp     **** 
  10:pluck.cpp     **** // Interleaved audio definitions
  11:pluck.cpp     **** #define LEFT (i)
  12:pluck.cpp     **** #define RIGHT (i + 1)
  13:pluck.cpp     **** 
ARM GAS  /tmp/ccr0h8qZ.s 			page 9


  14:pluck.cpp     **** using namespace daisysp;
  15:pluck.cpp     **** using namespace daisy;
  16:pluck.cpp     **** 
  17:pluck.cpp     **** static DaisySeed seed;
  18:pluck.cpp     **** 
  19:pluck.cpp     **** // Helper Modules
  20:pluck.cpp     **** static Metro tick;
  21:pluck.cpp     **** static Pluck plk;
  22:pluck.cpp     **** 
  23:pluck.cpp     **** // MIDI note numbers for a major triad
  24:pluck.cpp     **** const float kArpeggio[3] = {48.0f, 52.0f, 55.0f};
  25:pluck.cpp     **** uint8_t     arp_idx;
  26:pluck.cpp     **** 
  27:pluck.cpp     **** static void AudioCallback(AudioHandle::InterleavingInputBuffer  in,
  28:pluck.cpp     ****                           AudioHandle::InterleavingOutputBuffer out,
  29:pluck.cpp     ****                           size_t                                size)
  30:pluck.cpp     **** {
 128              		.loc 8 30 1 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 8
 131              		@ frame_needed = 0, uses_anonymous_args = 0
  31:pluck.cpp     ****     float sig_out, freq, trig;
 132              		.loc 8 31 5 view .LVU15
  32:pluck.cpp     ****     for(size_t i = 0; i < size; i += 2)
 133              		.loc 8 32 5 view .LVU16
 134              	.LBB76:
 135              		.loc 8 32 25 view .LVU17
 136 0000 002A     		cmp	r2, #0
 137 0002 48D0     		beq	.L17
 138 0004 013A     		subs	r2, r2, #1
 139              	.LVL4:
 140              		.loc 8 32 25 is_stmt 0 view .LVU18
 141              	.LBE76:
  30:pluck.cpp     ****     float sig_out, freq, trig;
 142              		.loc 8 30 1 view .LVU19
 143 0006 F0B5     		push	{r4, r5, r6, r7, lr}
 144              		.cfi_def_cfa_offset 20
 145              		.cfi_offset 4, -20
 146              		.cfi_offset 5, -16
 147              		.cfi_offset 6, -12
 148              		.cfi_offset 7, -8
 149              		.cfi_offset 14, -4
 150 0008 0C46     		mov	r4, r1
 151 000a 83B0     		sub	sp, sp, #12
 152              		.cfi_def_cfa_offset 32
 153              	.LBB97:
 154              		.loc 8 32 16 view .LVU20
 155 000c 0025     		movs	r5, #0
 156 000e 22F00106 		bic	r6, r2, #1
 157 0012 0DE0     		b	.L8
 158              	.LVL5:
 159              	.L7:
  33:pluck.cpp     ****     {
  34:pluck.cpp     ****         // When the Metro ticks:
  35:pluck.cpp     ****         // advance the kArpeggio, and trigger the Pluck.
  36:pluck.cpp     ****         trig = 0.0f;
  37:pluck.cpp     ****         if(tick.Process())
ARM GAS  /tmp/ccr0h8qZ.s 			page 10


  38:pluck.cpp     ****         {
  39:pluck.cpp     ****             freq    = mtof(kArpeggio[arp_idx]); // convert midi nn to frequency.
  40:pluck.cpp     ****             arp_idx = (arp_idx + 1)
  41:pluck.cpp     ****                       % 3; // advance the kArpeggio, wrapping at the end.
  42:pluck.cpp     ****             plk.SetFreq(freq);
  43:pluck.cpp     ****             trig = 1.0f;
  44:pluck.cpp     ****         }
  45:pluck.cpp     ****         sig_out = plk.Process(trig);
 160              		.loc 8 45 9 is_stmt 1 discriminator 2 view .LVU21
 161              		.loc 8 45 30 is_stmt 0 discriminator 2 view .LVU22
 162 0014 01A9     		add	r1, sp, #4
 163 0016 2048     		ldr	r0, .L21
 164 0018 FFF7FEFF 		bl	_ZN7daisysp5Pluck7ProcessERf
 165              	.LVL6:
  32:pluck.cpp     ****     {
 166              		.loc 8 32 35 discriminator 2 view .LVU23
 167 001c AB1C     		adds	r3, r5, #2
 168              	.LVL7:
  46:pluck.cpp     ****         // Output
  47:pluck.cpp     ****         out[LEFT]  = sig_out;
 169              		.loc 8 47 9 is_stmt 1 discriminator 2 view .LVU24
  32:pluck.cpp     ****     {
 170              		.loc 8 32 25 is_stmt 0 discriminator 2 view .LVU25
 171 001e B542     		cmp	r5, r6
 172              		.loc 8 47 20 discriminator 2 view .LVU26
 173 0020 84ED000A 		vstr.32	s0, [r4]
  48:pluck.cpp     ****         out[RIGHT] = sig_out;
 174              		.loc 8 48 9 is_stmt 1 discriminator 2 view .LVU27
 175              		.loc 8 48 20 is_stmt 0 discriminator 2 view .LVU28
 176 0024 84ED010A 		vstr.32	s0, [r4, #4]
  32:pluck.cpp     ****     {
 177              		.loc 8 32 5 is_stmt 1 discriminator 2 view .LVU29
 178              	.LVL8:
  32:pluck.cpp     ****     {
 179              		.loc 8 32 25 discriminator 2 view .LVU30
 180 0028 1D46     		mov	r5, r3
 181 002a 04F10804 		add	r4, r4, #8
 182 002e 30D0     		beq	.L20
 183              	.LVL9:
 184              	.L8:
  36:pluck.cpp     ****         if(tick.Process())
 185              		.loc 8 36 9 view .LVU31
  36:pluck.cpp     ****         if(tick.Process())
 186              		.loc 8 36 14 is_stmt 0 view .LVU32
 187 0030 0023     		movs	r3, #0
  37:pluck.cpp     ****         {
 188              		.loc 8 37 24 view .LVU33
 189 0032 1A48     		ldr	r0, .L21+4
  36:pluck.cpp     ****         if(tick.Process())
 190              		.loc 8 36 14 view .LVU34
 191 0034 0193     		str	r3, [sp, #4]	@ float
  37:pluck.cpp     ****         {
 192              		.loc 8 37 9 is_stmt 1 view .LVU35
  37:pluck.cpp     ****         {
 193              		.loc 8 37 24 is_stmt 0 view .LVU36
 194 0036 FFF7FEFF 		bl	_ZN7daisysp5Metro7ProcessEv
 195              	.LVL10:
ARM GAS  /tmp/ccr0h8qZ.s 			page 11


  37:pluck.cpp     ****         {
 196              		.loc 8 37 9 view .LVU37
 197 003a 0028     		cmp	r0, #0
 198 003c EAD0     		beq	.L7
  39:pluck.cpp     ****             arp_idx = (arp_idx + 1)
 199              		.loc 8 39 13 is_stmt 1 view .LVU38
 200              	.LVL11:
 201              	.LBB77:
 202              	.LBI77:
 203              		.file 9 "../../DaisySP/Source/Utility/dsp.h"
   1:../../DaisySP/Source/Utility/dsp.h **** /** Helpful defines, functions, and other utilities for use in/with daisysp modules.
   2:../../DaisySP/Source/Utility/dsp.h **** */
   3:../../DaisySP/Source/Utility/dsp.h **** #pragma once
   4:../../DaisySP/Source/Utility/dsp.h **** #ifndef DSY_CORE_DSP
   5:../../DaisySP/Source/Utility/dsp.h **** #define DSY_CORE_DSP
   6:../../DaisySP/Source/Utility/dsp.h **** #include <cassert>
   7:../../DaisySP/Source/Utility/dsp.h **** #include <cstdint>
   8:../../DaisySP/Source/Utility/dsp.h **** #include <random>
   9:../../DaisySP/Source/Utility/dsp.h **** #include <cmath>
  10:../../DaisySP/Source/Utility/dsp.h **** 
  11:../../DaisySP/Source/Utility/dsp.h **** /** PIs
  12:../../DaisySP/Source/Utility/dsp.h **** */
  13:../../DaisySP/Source/Utility/dsp.h **** #define PI_F 3.1415927410125732421875f
  14:../../DaisySP/Source/Utility/dsp.h **** #define TWOPI_F (2.0f * PI_F)
  15:../../DaisySP/Source/Utility/dsp.h **** #define HALFPI_F (PI_F * 0.5f)
  16:../../DaisySP/Source/Utility/dsp.h **** #define DSY_MIN(in, mn) (in < mn ? in : mn)
  17:../../DaisySP/Source/Utility/dsp.h **** #define DSY_MAX(in, mx) (in > mx ? in : mx)
  18:../../DaisySP/Source/Utility/dsp.h **** #define DSY_CLAMP(in, mn, mx) (DSY_MIN(DSY_MAX(in, mn), mx))
  19:../../DaisySP/Source/Utility/dsp.h **** #define DSY_COUNTOF(_arr) (sizeof(_arr) / sizeof(_arr[0]))
  20:../../DaisySP/Source/Utility/dsp.h **** 
  21:../../DaisySP/Source/Utility/dsp.h **** namespace daisysp
  22:../../DaisySP/Source/Utility/dsp.h **** {
  23:../../DaisySP/Source/Utility/dsp.h **** //Avoids division for random floats. e.g. rand() * kRandFrac
  24:../../DaisySP/Source/Utility/dsp.h **** static constexpr float kRandFrac = 1.f / (float)RAND_MAX;
  25:../../DaisySP/Source/Utility/dsp.h **** 
  26:../../DaisySP/Source/Utility/dsp.h **** //Convert from semitones to other units. e.g. 2 ^ (kOneTwelfth * x)
  27:../../DaisySP/Source/Utility/dsp.h **** static constexpr float kOneTwelfth = 1.f / 12.f;
  28:../../DaisySP/Source/Utility/dsp.h **** 
  29:../../DaisySP/Source/Utility/dsp.h **** /** efficient floating point min/max
  30:../../DaisySP/Source/Utility/dsp.h **** c/o stephen mccaul
  31:../../DaisySP/Source/Utility/dsp.h **** */
  32:../../DaisySP/Source/Utility/dsp.h **** inline float fmax(float a, float b)
  33:../../DaisySP/Source/Utility/dsp.h **** {
  34:../../DaisySP/Source/Utility/dsp.h ****     float r;
  35:../../DaisySP/Source/Utility/dsp.h **** #ifdef __arm__
  36:../../DaisySP/Source/Utility/dsp.h ****     asm("vmaxnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
  37:../../DaisySP/Source/Utility/dsp.h **** #else
  38:../../DaisySP/Source/Utility/dsp.h ****     r = (a > b) ? a : b;
  39:../../DaisySP/Source/Utility/dsp.h **** #endif // __arm__
  40:../../DaisySP/Source/Utility/dsp.h ****     return r;
  41:../../DaisySP/Source/Utility/dsp.h **** }
  42:../../DaisySP/Source/Utility/dsp.h **** 
  43:../../DaisySP/Source/Utility/dsp.h **** inline float fmin(float a, float b)
  44:../../DaisySP/Source/Utility/dsp.h **** {
  45:../../DaisySP/Source/Utility/dsp.h ****     float r;
  46:../../DaisySP/Source/Utility/dsp.h **** #ifdef __arm__
  47:../../DaisySP/Source/Utility/dsp.h ****     asm("vminnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
ARM GAS  /tmp/ccr0h8qZ.s 			page 12


  48:../../DaisySP/Source/Utility/dsp.h **** #else
  49:../../DaisySP/Source/Utility/dsp.h ****     r = (a < b) ? a : b;
  50:../../DaisySP/Source/Utility/dsp.h **** #endif // __arm__
  51:../../DaisySP/Source/Utility/dsp.h ****     return r;
  52:../../DaisySP/Source/Utility/dsp.h **** }
  53:../../DaisySP/Source/Utility/dsp.h **** 
  54:../../DaisySP/Source/Utility/dsp.h **** /** quick fp clamp
  55:../../DaisySP/Source/Utility/dsp.h **** */
  56:../../DaisySP/Source/Utility/dsp.h **** inline float fclamp(float in, float min, float max)
  57:../../DaisySP/Source/Utility/dsp.h **** {
  58:../../DaisySP/Source/Utility/dsp.h ****     return fmin(fmax(in, min), max);
  59:../../DaisySP/Source/Utility/dsp.h **** }
  60:../../DaisySP/Source/Utility/dsp.h **** 
  61:../../DaisySP/Source/Utility/dsp.h **** /** From Musicdsp.org "Fast power and root estimates for 32bit floats)
  62:../../DaisySP/Source/Utility/dsp.h **** Original code by Stefan Stenzel
  63:../../DaisySP/Source/Utility/dsp.h **** These are approximations
  64:../../DaisySP/Source/Utility/dsp.h **** */
  65:../../DaisySP/Source/Utility/dsp.h **** inline float fastpower(float f, int n)
  66:../../DaisySP/Source/Utility/dsp.h **** {
  67:../../DaisySP/Source/Utility/dsp.h ****     long *lp, l;
  68:../../DaisySP/Source/Utility/dsp.h ****     lp = (long *)(&f);
  69:../../DaisySP/Source/Utility/dsp.h ****     l  = *lp;
  70:../../DaisySP/Source/Utility/dsp.h ****     l -= 0x3F800000;
  71:../../DaisySP/Source/Utility/dsp.h ****     l <<= (n - 1);
  72:../../DaisySP/Source/Utility/dsp.h ****     l += 0x3F800000;
  73:../../DaisySP/Source/Utility/dsp.h ****     *lp = l;
  74:../../DaisySP/Source/Utility/dsp.h ****     return f;
  75:../../DaisySP/Source/Utility/dsp.h **** }
  76:../../DaisySP/Source/Utility/dsp.h **** 
  77:../../DaisySP/Source/Utility/dsp.h **** inline float fastroot(float f, int n)
  78:../../DaisySP/Source/Utility/dsp.h **** {
  79:../../DaisySP/Source/Utility/dsp.h ****     long *lp, l;
  80:../../DaisySP/Source/Utility/dsp.h ****     lp = (long *)(&f);
  81:../../DaisySP/Source/Utility/dsp.h ****     l  = *lp;
  82:../../DaisySP/Source/Utility/dsp.h ****     l -= 0x3F800000;
  83:../../DaisySP/Source/Utility/dsp.h ****     l >>= (n = 1);
  84:../../DaisySP/Source/Utility/dsp.h ****     l += 0x3F800000;
  85:../../DaisySP/Source/Utility/dsp.h ****     *lp = l;
  86:../../DaisySP/Source/Utility/dsp.h ****     return f;
  87:../../DaisySP/Source/Utility/dsp.h **** }
  88:../../DaisySP/Source/Utility/dsp.h **** 
  89:../../DaisySP/Source/Utility/dsp.h **** /** From http://openaudio.blogspot.com/2017/02/faster-log10-and-pow.html
  90:../../DaisySP/Source/Utility/dsp.h **** No approximation, pow10f(x) gives a 90% speed increase over powf(10.f, x)
  91:../../DaisySP/Source/Utility/dsp.h **** */
  92:../../DaisySP/Source/Utility/dsp.h **** inline float pow10f(float f)
  93:../../DaisySP/Source/Utility/dsp.h **** {
  94:../../DaisySP/Source/Utility/dsp.h ****     return expf(2.302585092994046f * f);
  95:../../DaisySP/Source/Utility/dsp.h **** }
  96:../../DaisySP/Source/Utility/dsp.h **** 
  97:../../DaisySP/Source/Utility/dsp.h **** /* Original code for fastlog2f by Dr. Paul Beckmann from the ARM community forum, adapted from the 
  98:../../DaisySP/Source/Utility/dsp.h **** About 25% performance increase over std::log10f
  99:../../DaisySP/Source/Utility/dsp.h **** */
 100:../../DaisySP/Source/Utility/dsp.h **** inline float fastlog2f(float f)
 101:../../DaisySP/Source/Utility/dsp.h **** {
 102:../../DaisySP/Source/Utility/dsp.h ****     float frac;
 103:../../DaisySP/Source/Utility/dsp.h ****     int   exp;
 104:../../DaisySP/Source/Utility/dsp.h ****     frac = frexpf(fabsf(f), &exp);
ARM GAS  /tmp/ccr0h8qZ.s 			page 13


 105:../../DaisySP/Source/Utility/dsp.h ****     f    = 1.23149591368684f;
 106:../../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 107:../../DaisySP/Source/Utility/dsp.h ****     f += -4.11852516267426f;
 108:../../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 109:../../DaisySP/Source/Utility/dsp.h ****     f += 6.02197014179219f;
 110:../../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 111:../../DaisySP/Source/Utility/dsp.h ****     f += -3.13396450166353f;
 112:../../DaisySP/Source/Utility/dsp.h ****     f += exp;
 113:../../DaisySP/Source/Utility/dsp.h ****     return (f);
 114:../../DaisySP/Source/Utility/dsp.h **** }
 115:../../DaisySP/Source/Utility/dsp.h **** 
 116:../../DaisySP/Source/Utility/dsp.h **** inline float fastlog10f(float f)
 117:../../DaisySP/Source/Utility/dsp.h **** {
 118:../../DaisySP/Source/Utility/dsp.h ****     return fastlog2f(f) * 0.3010299956639812f;
 119:../../DaisySP/Source/Utility/dsp.h **** }
 120:../../DaisySP/Source/Utility/dsp.h **** 
 121:../../DaisySP/Source/Utility/dsp.h **** /** Midi to frequency helper
 122:../../DaisySP/Source/Utility/dsp.h **** */
 123:../../DaisySP/Source/Utility/dsp.h **** inline float mtof(float m)
 204              		.loc 9 123 14 view .LVU39
 205              	.LBB78:
 124:../../DaisySP/Source/Utility/dsp.h **** {
 125:../../DaisySP/Source/Utility/dsp.h ****     return powf(2, (m - 69.0f) / 12.0f) * 440.0f;
 206              		.loc 9 125 5 view .LVU40
 207              	.LBE78:
 208              	.LBE77:
  39:pluck.cpp     ****             arp_idx = (arp_idx + 1)
 209              		.loc 8 39 38 is_stmt 0 view .LVU41
 210 003e 184F     		ldr	r7, .L21+8
 211              	.LBB85:
 212              	.LBB79:
 213              		.loc 9 125 16 view .LVU42
 214 0040 F2EE080A 		vmov.f32	s1, #1.2e+1
 215              	.LBE79:
 216              	.LBE85:
  39:pluck.cpp     ****             arp_idx = (arp_idx + 1)
 217              		.loc 8 39 45 view .LVU43
 218 0044 174B     		ldr	r3, .L21+12
 219              	.LBB86:
 220              	.LBB80:
 221              		.loc 9 125 16 view .LVU44
 222 0046 B0EE000A 		vmov.f32	s0, #2.0e+0
 223              	.LBE80:
 224              	.LBE86:
  39:pluck.cpp     ****             arp_idx = (arp_idx + 1)
 225              		.loc 8 39 38 view .LVU45
 226 004a 3A78     		ldrb	r2, [r7]	@ zero_extendqisi2
 227              	.LBB87:
 228              	.LBB81:
 229              		.loc 9 125 23 view .LVU46
 230 004c 9FED167A 		vldr.32	s14, .L21+16
 231              	.LBE81:
 232              	.LBE87:
  39:pluck.cpp     ****             arp_idx = (arp_idx + 1)
 233              		.loc 8 39 45 view .LVU47
 234 0050 03EB8203 		add	r3, r3, r2, lsl #2
 235              	.LBB88:
ARM GAS  /tmp/ccr0h8qZ.s 			page 14


 236              	.LBB82:
 237              		.loc 9 125 23 view .LVU48
 238 0054 D3ED007A 		vldr.32	s15, [r3]
 239 0058 77EEC77A 		vsub.f32	s15, s15, s14
 240              		.loc 9 125 16 view .LVU49
 241 005c C7EEA00A 		vdiv.f32	s1, s15, s1
 242 0060 FFF7FEFF 		bl	powf
 243              	.LVL12:
 244              		.loc 9 125 16 view .LVU50
 245              	.LBE82:
 246              	.LBE88:
  40:pluck.cpp     ****                       % 3; // advance the kArpeggio, wrapping at the end.
 247              		.loc 8 40 13 is_stmt 1 view .LVU51
  40:pluck.cpp     ****                       % 3; // advance the kArpeggio, wrapping at the end.
 248              		.loc 8 40 24 is_stmt 0 view .LVU52
 249 0064 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
  41:pluck.cpp     ****             plk.SetFreq(freq);
 250              		.loc 8 41 23 view .LVU53
 251 0066 114A     		ldr	r2, .L21+20
  43:pluck.cpp     ****         }
 252              		.loc 8 43 18 view .LVU54
 253 0068 4FF07E5C 		mov	ip, #1065353216
  40:pluck.cpp     ****                       % 3; // advance the kArpeggio, wrapping at the end.
 254              		.loc 8 40 32 view .LVU55
 255 006c 0133     		adds	r3, r3, #1
 256              	.LBB89:
 257              	.LBB83:
 258              		.loc 9 125 43 view .LVU56
 259 006e DFED107A 		vldr.32	s15, .L21+24
 260              	.LBE83:
 261              	.LBE89:
 262              	.LBB90:
 263              	.LBB91:
  38:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Initializes the Pluck module.
  39:../../DaisySP/Source/PhysicalModeling/pluck.h **** 
  40:../../DaisySP/Source/PhysicalModeling/pluck.h ****             \param sample_rate: Sample rate of the audio engine being run.
  41:../../DaisySP/Source/PhysicalModeling/pluck.h ****             \param buf: buffer used as an impulse when triggering the Pluck algorithm
  42:../../DaisySP/Source/PhysicalModeling/pluck.h ****             \param npt: number of elementes in buf.
  43:../../DaisySP/Source/PhysicalModeling/pluck.h ****             \param mode: Sets the mode of the algorithm.
  44:../../DaisySP/Source/PhysicalModeling/pluck.h ****     */
  45:../../DaisySP/Source/PhysicalModeling/pluck.h ****     void Init(float sample_rate, float *buf, int32_t npt, int32_t mode);
  46:../../DaisySP/Source/PhysicalModeling/pluck.h **** 
  47:../../DaisySP/Source/PhysicalModeling/pluck.h **** 
  48:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Processes the waveform to be generated, returning one sample. This should be called once pe
  49:../../DaisySP/Source/PhysicalModeling/pluck.h ****     */
  50:../../DaisySP/Source/PhysicalModeling/pluck.h ****     float Process(float &trig);
  51:../../DaisySP/Source/PhysicalModeling/pluck.h **** 
  52:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** 
  53:../../DaisySP/Source/PhysicalModeling/pluck.h ****         Sets the amplitude of the output signal.
  54:../../DaisySP/Source/PhysicalModeling/pluck.h ****         Input range: 0-1?
  55:../../DaisySP/Source/PhysicalModeling/pluck.h ****     */
  56:../../DaisySP/Source/PhysicalModeling/pluck.h ****     inline void SetAmp(float amp) { amp_ = amp; }
  57:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Sets the frequency of the output signal in Hz.
  58:../../DaisySP/Source/PhysicalModeling/pluck.h ****         Input range: Any positive value
  59:../../DaisySP/Source/PhysicalModeling/pluck.h ****     */
  60:../../DaisySP/Source/PhysicalModeling/pluck.h ****     inline void SetFreq(float freq) { freq_ = freq; }
 264              		.loc 1 60 45 view .LVU57
ARM GAS  /tmp/ccr0h8qZ.s 			page 15


 265 0072 0948     		ldr	r0, .L21
 266              	.LBE91:
 267              	.LBE90:
  41:pluck.cpp     ****             plk.SetFreq(freq);
 268              		.loc 8 41 23 view .LVU58
 269 0074 A2FB0312 		umull	r1, r2, r2, r3
 270              	.LBB94:
 271              	.LBB84:
 272              		.loc 9 125 43 view .LVU59
 273 0078 20EE270A 		vmul.f32	s0, s0, s15
 274              	.LVL13:
 275              		.loc 9 125 43 view .LVU60
 276              	.LBE84:
 277              	.LBE94:
  43:pluck.cpp     ****         }
 278              		.loc 8 43 18 view .LVU61
 279 007c CDF804C0 		str	ip, [sp, #4]	@ float
  41:pluck.cpp     ****             plk.SetFreq(freq);
 280              		.loc 8 41 23 view .LVU62
 281 0080 02F4FF71 		and	r1, r2, #510
 282              	.LBB95:
 283              	.LBB92:
 284              		.loc 1 60 45 view .LVU63
 285 0084 80ED010A 		vstr.32	s0, [r0, #4]
 286              	.LBE92:
 287              	.LBE95:
  41:pluck.cpp     ****             plk.SetFreq(freq);
 288              		.loc 8 41 23 view .LVU64
 289 0088 01EB5202 		add	r2, r1, r2, lsr #1
 290 008c 9B1A     		subs	r3, r3, r2
  40:pluck.cpp     ****                       % 3; // advance the kArpeggio, wrapping at the end.
 291              		.loc 8 40 21 view .LVU65
 292 008e 3B70     		strb	r3, [r7]
  42:pluck.cpp     ****             trig = 1.0f;
 293              		.loc 8 42 13 is_stmt 1 view .LVU66
 294              	.LVL14:
 295              	.LBB96:
 296              	.LBI90:
 297              		.loc 1 60 17 view .LVU67
 298              	.LBB93:
 299              		.loc 1 60 39 view .LVU68
 300              		.loc 1 60 39 is_stmt 0 view .LVU69
 301              	.LBE93:
 302              	.LBE96:
  43:pluck.cpp     ****         }
 303              		.loc 8 43 13 is_stmt 1 view .LVU70
 304 0090 C0E7     		b	.L7
 305              	.LVL15:
 306              	.L20:
  43:pluck.cpp     ****         }
 307              		.loc 8 43 13 is_stmt 0 view .LVU71
 308              	.LBE97:
  49:pluck.cpp     ****     }
  50:pluck.cpp     **** }
 309              		.loc 8 50 1 view .LVU72
 310 0092 03B0     		add	sp, sp, #12
 311              		.cfi_def_cfa_offset 20
ARM GAS  /tmp/ccr0h8qZ.s 			page 16


 312              		@ sp needed
 313 0094 F0BD     		pop	{r4, r5, r6, r7, pc}
 314              	.LVL16:
 315              	.L17:
 316              		.cfi_def_cfa_offset 0
 317              		.cfi_restore 4
 318              		.cfi_restore 5
 319              		.cfi_restore 6
 320              		.cfi_restore 7
 321              		.cfi_restore 14
 322              		.loc 8 50 1 view .LVU73
 323 0096 7047     		bx	lr
 324              	.L22:
 325              		.align	2
 326              	.L21:
 327 0098 00000000 		.word	.LANCHOR3
 328 009c 00000000 		.word	.LANCHOR0
 329 00a0 00000000 		.word	.LANCHOR2
 330 00a4 00000000 		.word	.LANCHOR1
 331 00a8 00008A42 		.word	1116340224
 332 00ac ABAAAAAA 		.word	-1431655765
 333 00b0 0000DC43 		.word	1138491392
 334              		.cfi_endproc
 335              	.LFE4212:
 337              		.section	.text.startup.main,"ax",%progbits
 338              		.align	1
 339              		.p2align 2,,3
 340              		.global	main
 341              		.syntax unified
 342              		.thumb
 343              		.thumb_func
 344              		.fpu fpv5-d16
 346              	main:
 347              	.LFB4213:
  51:pluck.cpp     **** 
  52:pluck.cpp     **** int main(void)
  53:pluck.cpp     **** {
 348              		.loc 8 53 1 is_stmt 1 view -0
 349              		.cfi_startproc
 350              		@ args = 0, pretend = 0, frame = 1024
 351              		@ frame_needed = 0, uses_anonymous_args = 0
  54:pluck.cpp     ****     float init_buff[256]; // buffer for Pluck impulse
 352              		.loc 8 54 5 view .LVU75
  55:pluck.cpp     **** 
  56:pluck.cpp     ****     // initialize seed hardware and daisysp modules
  57:pluck.cpp     ****     float sample_rate;
 353              		.loc 8 57 5 view .LVU76
  58:pluck.cpp     ****     seed.Configure();
 354              		.loc 8 58 5 view .LVU77
  53:pluck.cpp     ****     float init_buff[256]; // buffer for Pluck impulse
 355              		.loc 8 53 1 is_stmt 0 view .LVU78
 356 0000 30B5     		push	{r4, r5, lr}
 357              		.cfi_def_cfa_offset 12
 358              		.cfi_offset 4, -12
 359              		.cfi_offset 5, -8
 360              		.cfi_offset 14, -4
 361              		.loc 8 58 19 view .LVU79
ARM GAS  /tmp/ccr0h8qZ.s 			page 17


 362 0002 1748     		ldr	r0, .L26
  59:pluck.cpp     ****     seed.Init();
  60:pluck.cpp     ****     sample_rate = seed.AudioSampleRate();
  61:pluck.cpp     **** 
  62:pluck.cpp     ****     // Set up Metro to pulse every second
  63:pluck.cpp     ****     tick.Init(1.0f, sample_rate);
  64:pluck.cpp     ****     // Set up Pluck algo
  65:pluck.cpp     ****     plk.Init(sample_rate, init_buff, 256, PLUCK_MODE_RECURSIVE);
 363              		.loc 8 65 13 view .LVU80
 364 0004 174C     		ldr	r4, .L26+4
 365              	.LBB98:
 366              	.LBB99:
  56:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Sets the frequency of the output signal in Hz.
 367              		.loc 1 56 42 view .LVU81
 368 0006 184D     		ldr	r5, .L26+8
 369              	.LBE99:
 370              	.LBE98:
  53:pluck.cpp     ****     float init_buff[256]; // buffer for Pluck impulse
 371              		.loc 8 53 1 view .LVU82
 372 0008 2DED028B 		vpush.64	{d8}
 373              		.cfi_def_cfa_offset 20
 374              		.cfi_offset 80, -20
 375              		.cfi_offset 81, -16
 376 000c ADF2044D 		subw	sp, sp, #1028
 377              		.cfi_def_cfa_offset 1048
  58:pluck.cpp     ****     seed.Init();
 378              		.loc 8 58 19 view .LVU83
 379 0010 FFF7FEFF 		bl	_ZN5daisy9DaisySeed9ConfigureEv
 380              	.LVL17:
  59:pluck.cpp     ****     seed.Init();
 381              		.loc 8 59 5 is_stmt 1 view .LVU84
  59:pluck.cpp     ****     seed.Init();
 382              		.loc 8 59 14 is_stmt 0 view .LVU85
 383 0014 0021     		movs	r1, #0
 384 0016 1248     		ldr	r0, .L26
 385 0018 FFF7FEFF 		bl	_ZN5daisy9DaisySeed4InitEb
 386              	.LVL18:
  60:pluck.cpp     **** 
 387              		.loc 8 60 5 is_stmt 1 view .LVU86
  60:pluck.cpp     **** 
 388              		.loc 8 60 39 is_stmt 0 view .LVU87
 389 001c 1048     		ldr	r0, .L26
 390 001e FFF7FEFF 		bl	_ZN5daisy9DaisySeed15AudioSampleRateEv
 391              	.LVL19:
 392 0022 B0EE408A 		vmov.f32	s16, s0
  63:pluck.cpp     ****     // Set up Pluck algo
 393              		.loc 8 63 14 view .LVU88
 394 0026 1148     		ldr	r0, .L26+12
 395 0028 B7EE000A 		vmov.f32	s0, #1.0e+0
 396              	.LVL20:
  63:pluck.cpp     ****     // Set up Pluck algo
 397              		.loc 8 63 5 is_stmt 1 view .LVU89
  63:pluck.cpp     ****     // Set up Pluck algo
 398              		.loc 8 63 14 is_stmt 0 view .LVU90
 399 002c F0EE480A 		vmov.f32	s1, s16
 400 0030 FFF7FEFF 		bl	_ZN7daisysp5Metro4InitEff
 401              	.LVL21:
ARM GAS  /tmp/ccr0h8qZ.s 			page 18


 402              		.loc 8 65 5 is_stmt 1 view .LVU91
 403              		.loc 8 65 13 is_stmt 0 view .LVU92
 404 0034 2046     		mov	r0, r4
 405 0036 0023     		movs	r3, #0
 406 0038 4FF48072 		mov	r2, #256
 407 003c 6946     		mov	r1, sp
 408 003e B0EE480A 		vmov.f32	s0, s16
 409 0042 FFF7FEFF 		bl	_ZN7daisysp5Pluck4InitEfPfll
 410              	.LVL22:
  66:pluck.cpp     ****     plk.SetDecay(0.95f);
 411              		.loc 8 66 5 is_stmt 1 view .LVU93
 412              	.LBB102:
 413              	.LBI102:
  61:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Sets the time it takes for a triggered note to end in seconds.
  62:../../DaisySP/Source/PhysicalModeling/pluck.h ****         Input range: 0-1
  63:../../DaisySP/Source/PhysicalModeling/pluck.h ****     */
  64:../../DaisySP/Source/PhysicalModeling/pluck.h ****     inline void SetDecay(float decay) { decay_ = decay; }
 414              		.loc 1 64 17 view .LVU94
 415              	.LBB103:
 416              		.loc 1 64 41 view .LVU95
 417              		.loc 1 64 48 is_stmt 0 view .LVU96
 418 0046 0A49     		ldr	r1, .L26+16
 419              	.LBE103:
 420              	.LBE102:
 421              	.LBB105:
 422              	.LBB106:
  65:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Sets the dampening factor applied by the filter (based on PLUCK_MODE)
  66:../../DaisySP/Source/PhysicalModeling/pluck.h ****         Input range: 0-1
  67:../../DaisySP/Source/PhysicalModeling/pluck.h ****     */
  68:../../DaisySP/Source/PhysicalModeling/pluck.h ****     inline void SetDamp(float damp) { damp_ = damp; }
 423              		.loc 1 68 45 view .LVU97
 424 0048 0A48     		ldr	r0, .L26+20
 425              	.LBE106:
 426              	.LBE105:
  67:pluck.cpp     ****     plk.SetDamp(0.9f);
  68:pluck.cpp     ****     plk.SetAmp(0.3f);
  69:pluck.cpp     **** 
  70:pluck.cpp     ****     arp_idx = 0;
 427              		.loc 8 70 13 view .LVU98
 428 004a 0022     		movs	r2, #0
 429 004c 0A4B     		ldr	r3, .L26+24
 430              	.LBB108:
 431              	.LBB104:
  64:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Sets the dampening factor applied by the filter (based on PLUCK_MODE)
 432              		.loc 1 64 48 view .LVU99
 433 004e A160     		str	r1, [r4, #8]	@ float
 434              	.LVL23:
  64:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Sets the dampening factor applied by the filter (based on PLUCK_MODE)
 435              		.loc 1 64 48 view .LVU100
 436              	.LBE104:
 437              	.LBE108:
  67:pluck.cpp     ****     plk.SetDamp(0.9f);
 438              		.loc 8 67 5 is_stmt 1 view .LVU101
 439              	.LBB109:
 440              	.LBI105:
 441              		.loc 1 68 17 view .LVU102
 442              	.LBB107:
ARM GAS  /tmp/ccr0h8qZ.s 			page 19


 443              		.loc 1 68 39 view .LVU103
 444              		.loc 1 68 45 is_stmt 0 view .LVU104
 445 0050 E060     		str	r0, [r4, #12]	@ float
 446              	.LVL24:
 447              		.loc 1 68 45 view .LVU105
 448              	.LBE107:
 449              	.LBE109:
  68:pluck.cpp     **** 
 450              		.loc 8 68 5 is_stmt 1 view .LVU106
 451              	.LBB110:
 452              	.LBI98:
  56:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Sets the frequency of the output signal in Hz.
 453              		.loc 1 56 17 view .LVU107
 454              	.LBB100:
  56:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Sets the frequency of the output signal in Hz.
 455              		.loc 1 56 37 view .LVU108
 456              	.LBE100:
 457              	.LBE110:
  71:pluck.cpp     **** 
  72:pluck.cpp     **** 
  73:pluck.cpp     ****     // start callback
  74:pluck.cpp     ****     seed.StartAudio(AudioCallback);
 458              		.loc 8 74 20 is_stmt 0 view .LVU109
 459 0052 0A49     		ldr	r1, .L26+28
 460 0054 0248     		ldr	r0, .L26
 461              	.LBB111:
 462              	.LBB101:
  56:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Sets the frequency of the output signal in Hz.
 463              		.loc 1 56 42 view .LVU110
 464 0056 2560     		str	r5, [r4]	@ float
 465              	.LVL25:
  56:../../DaisySP/Source/PhysicalModeling/pluck.h ****     /** Sets the frequency of the output signal in Hz.
 466              		.loc 1 56 42 view .LVU111
 467              	.LBE101:
 468              	.LBE111:
  70:pluck.cpp     **** 
 469              		.loc 8 70 5 is_stmt 1 view .LVU112
  70:pluck.cpp     **** 
 470              		.loc 8 70 13 is_stmt 0 view .LVU113
 471 0058 1A70     		strb	r2, [r3]
 472              		.loc 8 74 5 is_stmt 1 view .LVU114
 473              		.loc 8 74 20 is_stmt 0 view .LVU115
 474 005a FFF7FEFF 		bl	_ZN5daisy9DaisySeed10StartAudioEPFvPKfPfjE
 475              	.LVL26:
 476              	.L24:
  75:pluck.cpp     **** 
  76:pluck.cpp     **** 
  77:pluck.cpp     ****     while(1) {}
 477              		.loc 8 77 5 is_stmt 1 discriminator 1 view .LVU116
 478              		.loc 8 77 5 discriminator 1 view .LVU117
 479              		.loc 8 77 5 discriminator 1 view .LVU118
 480              		.loc 8 77 5 discriminator 1 view .LVU119
 481 005e FEE7     		b	.L24
 482              	.L27:
 483              		.align	2
 484              	.L26:
 485 0060 00000000 		.word	.LANCHOR4
ARM GAS  /tmp/ccr0h8qZ.s 			page 20


 486 0064 00000000 		.word	.LANCHOR3
 487 0068 9A99993E 		.word	1050253722
 488 006c 00000000 		.word	.LANCHOR0
 489 0070 3333733F 		.word	1064514355
 490 0074 6666663F 		.word	1063675494
 491 0078 00000000 		.word	.LANCHOR2
 492 007c 00000000 		.word	_ZL13AudioCallbackPKfPfj
 493              		.cfi_endproc
 494              	.LFE4213:
 496              		.section	.text.startup._GLOBAL__sub_I_arp_idx,"ax",%progbits
 497              		.align	1
 498              		.p2align 2,,3
 499              		.syntax unified
 500              		.thumb
 501              		.thumb_func
 502              		.fpu fpv5-d16
 504              	_GLOBAL__sub_I_arp_idx:
 505              	.LFB4759:
  78:pluck.cpp     **** }
 506              		.loc 8 78 1 view -0
 507              		.cfi_startproc
 508              		@ args = 0, pretend = 0, frame = 0
 509              		@ frame_needed = 0, uses_anonymous_args = 0
 510              	.LBB131:
 511              	.LBI131:
 512              		.loc 8 78 1 view .LVU121
 513              	.LVL27:
 514              	.LBB132:
 515              	.LBB133:
 516              	.LBI133:
  21:../../libdaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 517              		.loc 3 21 5 view .LVU122
 518              	.LBB134:
 519              	.LBB135:
 520              	.LBI135:
  62:../../libdaisy/src/hid/audio.h ****     ~AudioHandle() {}
 521              		.loc 7 62 5 view .LVU123
 522              	.LBE135:
 523              	.LBE134:
 524              	.LBE133:
 525              	.LBE132:
 526              	.LBE131:
 527              		.loc 8 78 1 is_stmt 0 view .LVU124
 528 0000 08B5     		push	{r3, lr}
 529              		.cfi_def_cfa_offset 8
 530              		.cfi_offset 3, -8
 531              		.cfi_offset 14, -4
 532              	.LBB156:
 533              	.LBB154:
 534              	.LBB150:
 535              	.LBB148:
 536              	.LBB140:
 537              	.LBB136:
 538              	.LBB137:
  62:../../libdaisy/src/hid/audio.h ****     ~AudioHandle() {}
 539              		.loc 7 62 35 view .LVU125
 540 0002 0A48     		ldr	r0, .L30
ARM GAS  /tmp/ccr0h8qZ.s 			page 21


 541 0004 0023     		movs	r3, #0
 542              	.LBE137:
 543              	.LBE136:
 544              	.LBE140:
 545              	.LBE148:
 546              	.LBE150:
  17:pluck.cpp     **** 
 547              		.loc 8 17 18 view .LVU126
 548 0006 0A4A     		ldr	r2, .L30+4
 549              	.LBB151:
 550              	.LBB149:
 551              	.LBB141:
 552              	.LBB139:
 553              	.LBB138:
  62:../../libdaisy/src/hid/audio.h ****     ~AudioHandle() {}
 554              		.loc 7 62 35 view .LVU127
 555 0008 4361     		str	r3, [r0, #20]
 556              	.LVL28:
  62:../../libdaisy/src/hid/audio.h ****     ~AudioHandle() {}
 557              		.loc 7 62 35 view .LVU128
 558              	.LBE138:
 559              	.LBE139:
 560              	.LBE141:
 561              	.LBB142:
 562              	.LBI142:
  84:../../libdaisy/src/per/adc.h ****     ~AdcHandle() {}
 563              		.loc 6 84 5 is_stmt 1 view .LVU129
  84:../../libdaisy/src/per/adc.h ****     ~AdcHandle() {}
 564              		.loc 6 84 5 is_stmt 0 view .LVU130
 565              	.LBE142:
 566              	.LBB143:
 567              	.LBI143:
 568              		.file 10 "../../libdaisy/src/per/dac.h"
   1:../../libdaisy/src/per/dac.h **** #pragma once
   2:../../libdaisy/src/per/dac.h **** #ifndef DSY_DAC_H
   3:../../libdaisy/src/per/dac.h **** #define DSY_DAC_H
   4:../../libdaisy/src/per/dac.h **** 
   5:../../libdaisy/src/per/dac.h **** #include "daisy_core.h"
   6:../../libdaisy/src/per/dac.h **** 
   7:../../libdaisy/src/per/dac.h **** namespace daisy
   8:../../libdaisy/src/per/dac.h **** {
   9:../../libdaisy/src/per/dac.h **** /** DAC handle for Built-in DAC Peripheral 
  10:../../libdaisy/src/per/dac.h ****  ** 
  11:../../libdaisy/src/per/dac.h ****  ** For now only Normal Mode is supported,
  12:../../libdaisy/src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  13:../../libdaisy/src/per/dac.h ****  **
  14:../../libdaisy/src/per/dac.h ****  ** For now connecting the DAC through other internal periphearls is also not supported.
  15:../../libdaisy/src/per/dac.h ****  **
  16:../../libdaisy/src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  17:../../libdaisy/src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  18:../../libdaisy/src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  19:../../libdaisy/src/per/dac.h ****  ***/
  20:../../libdaisy/src/per/dac.h **** class DacHandle
  21:../../libdaisy/src/per/dac.h **** {
  22:../../libdaisy/src/per/dac.h ****   public:
  23:../../libdaisy/src/per/dac.h ****     /** Return Values for the DacHandle class */
  24:../../libdaisy/src/per/dac.h ****     enum class Result
ARM GAS  /tmp/ccr0h8qZ.s 			page 22


  25:../../libdaisy/src/per/dac.h ****     {
  26:../../libdaisy/src/per/dac.h ****         OK,
  27:../../libdaisy/src/per/dac.h ****         ERR,
  28:../../libdaisy/src/per/dac.h ****     };
  29:../../libdaisy/src/per/dac.h **** 
  30:../../libdaisy/src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  31:../../libdaisy/src/per/dac.h ****     enum class Channel
  32:../../libdaisy/src/per/dac.h ****     {
  33:../../libdaisy/src/per/dac.h ****         ONE,
  34:../../libdaisy/src/per/dac.h ****         TWO,
  35:../../libdaisy/src/per/dac.h ****         BOTH,
  36:../../libdaisy/src/per/dac.h ****     };
  37:../../libdaisy/src/per/dac.h **** 
  38:../../libdaisy/src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  39:../../libdaisy/src/per/dac.h ****      **
  40:../../libdaisy/src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  41:../../libdaisy/src/per/dac.h ****      **
  42:../../libdaisy/src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  43:../../libdaisy/src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  44:../../libdaisy/src/per/dac.h ****      ***/
  45:../../libdaisy/src/per/dac.h ****     enum class Mode
  46:../../libdaisy/src/per/dac.h ****     {
  47:../../libdaisy/src/per/dac.h ****         POLLING,
  48:../../libdaisy/src/per/dac.h ****         DMA,
  49:../../libdaisy/src/per/dac.h ****     };
  50:../../libdaisy/src/per/dac.h **** 
  51:../../libdaisy/src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  52:../../libdaisy/src/per/dac.h ****      ** The output range will be: 0V - VDDA
  53:../../libdaisy/src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  54:../../libdaisy/src/per/dac.h ****      ***/
  55:../../libdaisy/src/per/dac.h ****     enum class BitDepth
  56:../../libdaisy/src/per/dac.h ****     {
  57:../../libdaisy/src/per/dac.h ****         BITS_8,
  58:../../libdaisy/src/per/dac.h ****         BITS_12
  59:../../libdaisy/src/per/dac.h ****     };
  60:../../libdaisy/src/per/dac.h **** 
  61:../../libdaisy/src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  62:../../libdaisy/src/per/dac.h ****     enum class BufferState
  63:../../libdaisy/src/per/dac.h ****     {
  64:../../libdaisy/src/per/dac.h ****         ENABLED,
  65:../../libdaisy/src/per/dac.h ****         DISABLED,
  66:../../libdaisy/src/per/dac.h ****     };
  67:../../libdaisy/src/per/dac.h **** 
  68:../../libdaisy/src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  69:../../libdaisy/src/per/dac.h ****     struct Config
  70:../../libdaisy/src/per/dac.h ****     {
  71:../../libdaisy/src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  72:../../libdaisy/src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  73:../../libdaisy/src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  74:../../libdaisy/src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  75:../../libdaisy/src/per/dac.h ****         uint32_t target_samplerate;
  76:../../libdaisy/src/per/dac.h **** 
  77:../../libdaisy/src/per/dac.h ****         Channel     chn;
  78:../../libdaisy/src/per/dac.h ****         Mode        mode;
  79:../../libdaisy/src/per/dac.h ****         BitDepth    bitdepth;
  80:../../libdaisy/src/per/dac.h ****         BufferState buff_state;
  81:../../libdaisy/src/per/dac.h ****     };
ARM GAS  /tmp/ccr0h8qZ.s 			page 23


  82:../../libdaisy/src/per/dac.h **** 
  83:../../libdaisy/src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 569              		.loc 10 83 5 is_stmt 1 view .LVU131
 570              	.LBB144:
 571              	.LBB145:
 572              		.loc 10 83 33 is_stmt 0 view .LVU132
 573 000a 0362     		str	r3, [r0, #32]
 574              	.LVL29:
 575              		.loc 10 83 33 view .LVU133
 576              	.LBE145:
 577              	.LBE144:
 578              	.LBE143:
 579              	.LBB146:
 580              	.LBI146:
  40:../../libdaisy/src/hid/usb.h **** 
 581              		.loc 5 40 5 is_stmt 1 view .LVU134
  40:../../libdaisy/src/hid/usb.h **** 
 582              		.loc 5 40 5 is_stmt 0 view .LVU135
 583              	.LBE146:
 584              	.LBB147:
 585              	.LBI147:
  58:../../libdaisy/src/sys/system.h ****     ~System() {}
 586              		.loc 4 58 5 is_stmt 1 view .LVU136
  58:../../libdaisy/src/sys/system.h ****     ~System() {}
 587              		.loc 4 58 5 is_stmt 0 view .LVU137
 588              	.LBE147:
 589              	.LBE149:
 590              	.LBE151:
  17:pluck.cpp     **** 
 591              		.loc 8 17 18 view .LVU138
 592 000c 0949     		ldr	r1, .L30+8
 593 000e FFF7FEFF 		bl	__aeabi_atexit
 594              	.LVL30:
 595              	.LBB152:
 596              	.LBI152:
  14:../../DaisySP/Source/Utility/metro.h ****     ~Metro() {}
 597              		.loc 2 14 5 is_stmt 1 view .LVU139
  14:../../DaisySP/Source/Utility/metro.h ****     ~Metro() {}
 598              		.loc 2 14 5 is_stmt 0 view .LVU140
 599              	.LBE152:
  20:pluck.cpp     **** static Pluck plk;
 600              		.loc 8 20 14 view .LVU141
 601 0012 074A     		ldr	r2, .L30+4
 602 0014 0849     		ldr	r1, .L30+12
 603 0016 0948     		ldr	r0, .L30+16
 604 0018 FFF7FEFF 		bl	__aeabi_atexit
 605              	.LVL31:
 606              	.LBB153:
 607              	.LBI153:
  36:../../DaisySP/Source/PhysicalModeling/pluck.h ****     ~Pluck() {}
 608              		.loc 1 36 5 is_stmt 1 view .LVU142
  36:../../DaisySP/Source/PhysicalModeling/pluck.h ****     ~Pluck() {}
 609              		.loc 1 36 5 is_stmt 0 view .LVU143
 610              	.LBE153:
  21:pluck.cpp     **** 
 611              		.loc 8 21 14 view .LVU144
 612 001c 044A     		ldr	r2, .L30+4
ARM GAS  /tmp/ccr0h8qZ.s 			page 24


 613 001e 0849     		ldr	r1, .L30+20
 614 0020 0848     		ldr	r0, .L30+24
 615              	.LBE154:
 616              	.LBE156:
 617              		.loc 8 78 1 view .LVU145
 618 0022 BDE80840 		pop	{r3, lr}
 619              		.cfi_restore 14
 620              		.cfi_restore 3
 621              		.cfi_def_cfa_offset 0
 622              	.LBB157:
 623              	.LBB155:
  21:pluck.cpp     **** 
 624              		.loc 8 21 14 view .LVU146
 625 0026 FFF7FEBF 		b	__aeabi_atexit
 626              	.LVL32:
 627              	.L31:
 628 002a 00BF     		.align	2
 629              	.L30:
 630 002c 00000000 		.word	.LANCHOR4
 631 0030 00000000 		.word	__dso_handle
 632 0034 00000000 		.word	_ZN5daisy9DaisySeedD1Ev
 633 0038 00000000 		.word	_ZN7daisysp5MetroD1Ev
 634 003c 00000000 		.word	.LANCHOR0
 635 0040 00000000 		.word	_ZN7daisysp5PluckD1Ev
 636 0044 00000000 		.word	.LANCHOR3
 637              	.LBE155:
 638              	.LBE157:
 639              		.cfi_endproc
 640              	.LFE4759:
 642              		.section	.init_array,"aw",%init_array
 643              		.align	2
 644 0000 00000000 		.word	_GLOBAL__sub_I_arp_idx(target1)
 645              		.global	arp_idx
 646              		.section	.bss._ZL3plk,"aw",%nobits
 647              		.align	2
 648              		.set	.LANCHOR3,. + 0
 651              	_ZL3plk:
 652 0000 00000000 		.space	52
 652      00000000 
 652      00000000 
 652      00000000 
 652      00000000 
 653              		.section	.bss._ZL4seed,"aw",%nobits
 654              		.align	2
 655              		.set	.LANCHOR4,. + 0
 658              	_ZL4seed:
 659 0000 00000000 		.space	60
 659      00000000 
 659      00000000 
 659      00000000 
 659      00000000 
 660              		.section	.bss._ZL4tick,"aw",%nobits
 661              		.align	2
 662              		.set	.LANCHOR0,. + 0
 665              	_ZL4tick:
 666 0000 00000000 		.space	16
 666      00000000 
ARM GAS  /tmp/ccr0h8qZ.s 			page 25


 666      00000000 
 666      00000000 
 667              		.section	.bss.arp_idx,"aw",%nobits
 668              		.set	.LANCHOR2,. + 0
 671              	arp_idx:
 672 0000 00       		.space	1
 673              		.section	.rodata._ZL9kArpeggio,"a"
 674              		.align	2
 675              		.set	.LANCHOR1,. + 0
 678              	_ZL9kArpeggio:
 679 0000 00004042 		.word	1111490560
 680 0004 00005042 		.word	1112539136
 681 0008 00005C42 		.word	1113325568
 682              		.text
 683              	.Letext0:
 684              		.file 11 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 685              		.file 12 "../../libdaisy/Drivers/CMSIS/Include/core_cm7.h"
 686              		.file 13 "../../libdaisy/Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 687              		.file 14 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 688              		.file 15 "/usr/include/newlib/c++/9.2.1/cmath"
 689              		.file 16 "/usr/include/newlib/c++/9.2.1/bits/std_abs.h"
 690              		.file 17 "/usr/include/newlib/c++/9.2.1/cstdint"
 691              		.file 18 "/usr/include/newlib/c++/9.2.1/cstdlib"
 692              		.file 19 "/usr/include/newlib/c++/9.2.1/type_traits"
 693              		.file 20 "/usr/include/newlib/c++/9.2.1/arm-none-eabi/thumb/v7e-m+dp/hard/bits/c++config.h"
 694              		.file 21 "/usr/include/newlib/c++/9.2.1/bits/stl_pair.h"
 695              		.file 22 "/usr/include/newlib/c++/9.2.1/debug/debug.h"
 696              		.file 23 "/usr/include/newlib/c++/9.2.1/cwchar"
 697              		.file 24 "/usr/include/newlib/c++/9.2.1/bits/exception_ptr.h"
 698              		.file 25 "/usr/include/newlib/c++/9.2.1/new"
 699              		.file 26 "/usr/include/newlib/c++/9.2.1/clocale"
 700              		.file 27 "/usr/include/newlib/c++/9.2.1/cstdio"
 701              		.file 28 "/usr/include/newlib/c++/9.2.1/bits/basic_string.h"
 702              		.file 29 "/usr/include/newlib/c++/9.2.1/bits/uniform_int_dist.h"
 703              		.file 30 "/usr/include/newlib/c++/9.2.1/bits/random.h"
 704              		.file 31 "/usr/include/newlib/c++/9.2.1/cstring"
 705              		.file 32 "/usr/include/newlib/c++/9.2.1/bits/algorithmfwd.h"
 706              		.file 33 "/usr/include/newlib/c++/9.2.1/cstdarg"
 707              		.file 34 "/usr/include/newlib/c++/9.2.1/bits/predefined_ops.h"
 708              		.file 35 "/usr/include/newlib/c++/9.2.1/ext/new_allocator.h"
 709              		.file 36 "/usr/include/newlib/c++/9.2.1/ext/numeric_traits.h"
 710              		.file 37 "/usr/include/newlib/sys/_types.h"
 711              		.file 38 "<built-in>"
 712              		.file 39 "/usr/include/newlib/sys/reent.h"
 713              		.file 40 "/usr/include/newlib/sys/lock.h"
 714              		.file 41 "/usr/include/newlib/math.h"
 715              		.file 42 "/usr/include/newlib/stdlib.h"
 716              		.file 43 "/usr/include/newlib/c++/9.2.1/math.h"
 717              		.file 44 "../../libdaisy/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 718              		.file 45 "../../libdaisy/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 719              		.file 46 "../../DaisySP/Source/Control/adenv.h"
 720              		.file 47 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdarg.h"
 721              		.file 48 "/usr/include/newlib/wchar.h"
 722              		.file 49 "/usr/include/newlib/locale.h"
 723              		.file 50 "/usr/include/newlib/ctype.h"
 724              		.file 51 "/usr/include/newlib/stdio.h"
 725              		.file 52 "/usr/include/newlib/sys/errno.h"
ARM GAS  /tmp/ccr0h8qZ.s 			page 26


 726              		.file 53 "/usr/include/newlib/c++/9.2.1/stdlib.h"
 727              		.file 54 "/usr/include/newlib/string.h"
 728              		.file 55 "../../libdaisy/src/daisy_core.h"
 729              		.file 56 "../../libdaisy/src/per/tim.h"
 730              		.file 57 "../../libdaisy/src/per/sai.h"
 731              		.file 58 "../../libdaisy/src/util/wav_format.h"
 732              		.file 59 "../../libdaisy/src/per/qspi.h"
 733              		.file 60 "../../libdaisy/src/per/gpio.h"
 734              		.file 61 "../../libdaisy/src/dev/sdram.h"
 735              		.file 62 "/usr/include/newlib/sys/unistd.h"
 736              		.file 63 "../../libdaisy/src/util/oled_fonts.h"
 737              		.file 64 "../../libdaisy/Middlewares/Third_Party/FatFs/src/integer.h"
 738              		.file 65 "../../libdaisy/Middlewares/Third_Party/FatFs/src/ff.h"
 739              		.file 66 "../../libdaisy/Middlewares/Third_Party/FatFs/src/diskio.h"
 740              		.file 67 "../../libdaisy/Middlewares/Third_Party/FatFs/src/ff_gen_drv.h"
 741              		.file 68 "../../libdaisy/src/util/sd_diskio.h"
 742              		.file 69 "../../libdaisy/src/sys/fatfs.h"
 743              		.file 70 "../../libdaisy/src/dev/sr_595.h"
ARM GAS  /tmp/ccr0h8qZ.s 			page 27


DEFINED SYMBOLS
                            *ABS*:0000000000000000 pluck.cpp
     /tmp/ccr0h8qZ.s:17     .text._ZN7daisysp5PluckD2Ev:0000000000000000 $t
     /tmp/ccr0h8qZ.s:26     .text._ZN7daisysp5PluckD2Ev:0000000000000000 _ZN7daisysp5PluckD2Ev
     /tmp/ccr0h8qZ.s:26     .text._ZN7daisysp5PluckD2Ev:0000000000000000 _ZN7daisysp5PluckD1Ev
     /tmp/ccr0h8qZ.s:43     .text._ZN7daisysp5MetroD2Ev:0000000000000000 $t
     /tmp/ccr0h8qZ.s:51     .text._ZN7daisysp5MetroD2Ev:0000000000000000 _ZN7daisysp5MetroD2Ev
     /tmp/ccr0h8qZ.s:51     .text._ZN7daisysp5MetroD2Ev:0000000000000000 _ZN7daisysp5MetroD1Ev
     /tmp/ccr0h8qZ.s:68     .text._ZN5daisy9DaisySeedD2Ev:0000000000000000 $t
     /tmp/ccr0h8qZ.s:76     .text._ZN5daisy9DaisySeedD2Ev:0000000000000000 _ZN5daisy9DaisySeedD2Ev
     /tmp/ccr0h8qZ.s:76     .text._ZN5daisy9DaisySeedD2Ev:0000000000000000 _ZN5daisy9DaisySeedD1Ev
     /tmp/ccr0h8qZ.s:117    .text._ZL13AudioCallbackPKfPfj:0000000000000000 $t
     /tmp/ccr0h8qZ.s:124    .text._ZL13AudioCallbackPKfPfj:0000000000000000 _ZL13AudioCallbackPKfPfj
     /tmp/ccr0h8qZ.s:327    .text._ZL13AudioCallbackPKfPfj:0000000000000098 $d
     /tmp/ccr0h8qZ.s:338    .text.startup.main:0000000000000000 $t
     /tmp/ccr0h8qZ.s:346    .text.startup.main:0000000000000000 main
     /tmp/ccr0h8qZ.s:485    .text.startup.main:0000000000000060 $d
     /tmp/ccr0h8qZ.s:497    .text.startup._GLOBAL__sub_I_arp_idx:0000000000000000 $t
     /tmp/ccr0h8qZ.s:504    .text.startup._GLOBAL__sub_I_arp_idx:0000000000000000 _GLOBAL__sub_I_arp_idx
     /tmp/ccr0h8qZ.s:630    .text.startup._GLOBAL__sub_I_arp_idx:000000000000002c $d
     /tmp/ccr0h8qZ.s:643    .init_array:0000000000000000 $d
     /tmp/ccr0h8qZ.s:671    .bss.arp_idx:0000000000000000 arp_idx
     /tmp/ccr0h8qZ.s:647    .bss._ZL3plk:0000000000000000 $d
     /tmp/ccr0h8qZ.s:651    .bss._ZL3plk:0000000000000000 _ZL3plk
     /tmp/ccr0h8qZ.s:654    .bss._ZL4seed:0000000000000000 $d
     /tmp/ccr0h8qZ.s:658    .bss._ZL4seed:0000000000000000 _ZL4seed
     /tmp/ccr0h8qZ.s:661    .bss._ZL4tick:0000000000000000 $d
     /tmp/ccr0h8qZ.s:665    .bss._ZL4tick:0000000000000000 _ZL4tick
     /tmp/ccr0h8qZ.s:672    .bss.arp_idx:0000000000000000 $d
     /tmp/ccr0h8qZ.s:674    .rodata._ZL9kArpeggio:0000000000000000 $d
     /tmp/ccr0h8qZ.s:678    .rodata._ZL9kArpeggio:0000000000000000 _ZL9kArpeggio
                           .group:0000000000000000 _ZN7daisysp5PluckD5Ev
                           .group:0000000000000000 _ZN7daisysp5MetroD5Ev
                           .group:0000000000000000 _ZN5daisy9DaisySeedD5Ev

UNDEFINED SYMBOLS
_ZN7daisysp5Pluck7ProcessERf
_ZN7daisysp5Metro7ProcessEv
powf
_ZN5daisy9DaisySeed9ConfigureEv
_ZN5daisy9DaisySeed4InitEb
_ZN5daisy9DaisySeed15AudioSampleRateEv
_ZN7daisysp5Metro4InitEff
_ZN7daisysp5Pluck4InitEfPfll
_ZN5daisy9DaisySeed10StartAudioEPFvPKfPfjE
__aeabi_atexit
__dso_handle
