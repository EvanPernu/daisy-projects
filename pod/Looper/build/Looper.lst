ARM GAS  /tmp/ccbdW5h5.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"Looper.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN5daisy8DaisyPodD2Ev,"axG",%progbits,_ZN5daisy8DaisyPodD5Ev,comdat
  17              		.align	1
  18              		.p2align 2,,3
  19              		.weak	_ZN5daisy8DaisyPodD2Ev
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	_ZN5daisy8DaisyPodD2Ev:
  27              	.LVL0:
  28              	.LFB4216:
  29              		.file 1 "../../libdaisy/src/daisy_pod.h"
   1:../../libdaisy/src/daisy_pod.h **** #pragma once
   2:../../libdaisy/src/daisy_pod.h **** #ifndef DSY_POD_BSP_H
   3:../../libdaisy/src/daisy_pod.h **** #define DSY_POD_BSP_H
   4:../../libdaisy/src/daisy_pod.h **** 
   5:../../libdaisy/src/daisy_pod.h **** #include "daisy_seed.h"
   6:../../libdaisy/src/daisy_pod.h **** 
   7:../../libdaisy/src/daisy_pod.h **** namespace daisy
   8:../../libdaisy/src/daisy_pod.h **** {
   9:../../libdaisy/src/daisy_pod.h **** /**
  10:../../libdaisy/src/daisy_pod.h ****     @brief Class that handles initializing all of the hardware specific to the Daisy Patch Board. \
  11:../../libdaisy/src/daisy_pod.h ****     Helper funtions are also in place to provide easy access to built-in controls and peripherals.
  12:../../libdaisy/src/daisy_pod.h ****     @author Stephen Hensley
  13:../../libdaisy/src/daisy_pod.h ****     @date November 2019
  14:../../libdaisy/src/daisy_pod.h ****     @ingroup boards
  15:../../libdaisy/src/daisy_pod.h **** */
  16:../../libdaisy/src/daisy_pod.h **** class DaisyPod
  17:../../libdaisy/src/daisy_pod.h **** {
  18:../../libdaisy/src/daisy_pod.h ****   public:
  19:../../libdaisy/src/daisy_pod.h ****     /** Switches */
  20:../../libdaisy/src/daisy_pod.h ****     enum Sw
  21:../../libdaisy/src/daisy_pod.h ****     {
  22:../../libdaisy/src/daisy_pod.h ****         BUTTON_1,    /** & */
  23:../../libdaisy/src/daisy_pod.h ****         BUTTON_2,    /** & */
  24:../../libdaisy/src/daisy_pod.h ****         BUTTON_LAST, /** &  */
  25:../../libdaisy/src/daisy_pod.h ****     };
  26:../../libdaisy/src/daisy_pod.h **** 
  27:../../libdaisy/src/daisy_pod.h ****     /** Knobs */
  28:../../libdaisy/src/daisy_pod.h ****     enum Knob
  29:../../libdaisy/src/daisy_pod.h ****     {
ARM GAS  /tmp/ccbdW5h5.s 			page 2


  30:../../libdaisy/src/daisy_pod.h ****         KNOB_1,    /** &  */
  31:../../libdaisy/src/daisy_pod.h ****         KNOB_2,    /** & */
  32:../../libdaisy/src/daisy_pod.h ****         KNOB_LAST, /** & */
  33:../../libdaisy/src/daisy_pod.h ****     };
  34:../../libdaisy/src/daisy_pod.h **** 
  35:../../libdaisy/src/daisy_pod.h ****     DaisyPod() {}
  36:../../libdaisy/src/daisy_pod.h ****     ~DaisyPod() {}
  30              		.loc 1 36 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              	.LBB309:
  36              	.LBI309:
  37              		.file 2 "../../libdaisy/src/hid/midi.h"
   1:../../libdaisy/src/hid/midi.h **** #pragma once
   2:../../libdaisy/src/hid/midi.h **** #ifndef DSY_MIDI_H
   3:../../libdaisy/src/hid/midi.h **** #define DSY_MIDI_H
   4:../../libdaisy/src/hid/midi.h **** 
   5:../../libdaisy/src/hid/midi.h **** // TODO: make this adjustable
   6:../../libdaisy/src/hid/midi.h **** #define SYSEX_BUFFER_LEN 128
   7:../../libdaisy/src/hid/midi.h **** 
   8:../../libdaisy/src/hid/midi.h **** #include <stdint.h>
   9:../../libdaisy/src/hid/midi.h **** #include <stdlib.h>
  10:../../libdaisy/src/hid/midi.h **** #include "per/uart.h"
  11:../../libdaisy/src/hid/midi.h **** #include "util/ringbuffer.h"
  12:../../libdaisy/src/hid/midi.h **** #include "hid/MidiEvent.h"
  13:../../libdaisy/src/hid/midi.h **** #include "sys/system.h"
  14:../../libdaisy/src/hid/midi.h **** 
  15:../../libdaisy/src/hid/midi.h **** namespace daisy
  16:../../libdaisy/src/hid/midi.h **** {
  17:../../libdaisy/src/hid/midi.h **** /** @addtogroup external 
  18:../../libdaisy/src/hid/midi.h ****     @{ 
  19:../../libdaisy/src/hid/midi.h **** */
  20:../../libdaisy/src/hid/midi.h **** 
  21:../../libdaisy/src/hid/midi.h **** class MidiUartTransport
  22:../../libdaisy/src/hid/midi.h **** {
  23:../../libdaisy/src/hid/midi.h ****   public:
  24:../../libdaisy/src/hid/midi.h ****     MidiUartTransport() {}
  25:../../libdaisy/src/hid/midi.h ****     ~MidiUartTransport() {}
  26:../../libdaisy/src/hid/midi.h **** 
  27:../../libdaisy/src/hid/midi.h ****     struct Config
  28:../../libdaisy/src/hid/midi.h ****     {
  29:../../libdaisy/src/hid/midi.h ****         UartHandler::Config::Peripheral periph;
  30:../../libdaisy/src/hid/midi.h ****         dsy_gpio_pin                    rx;
  31:../../libdaisy/src/hid/midi.h ****         dsy_gpio_pin                    tx;
  32:../../libdaisy/src/hid/midi.h **** 
  33:../../libdaisy/src/hid/midi.h ****         Config()
  34:../../libdaisy/src/hid/midi.h ****         {
  35:../../libdaisy/src/hid/midi.h ****             periph = UartHandler::Config::Peripheral::USART_1;
  36:../../libdaisy/src/hid/midi.h ****             rx     = {DSY_GPIOB, 7};
  37:../../libdaisy/src/hid/midi.h ****             tx     = {DSY_GPIOB, 6};
  38:../../libdaisy/src/hid/midi.h ****         }
  39:../../libdaisy/src/hid/midi.h ****     };
  40:../../libdaisy/src/hid/midi.h **** 
  41:../../libdaisy/src/hid/midi.h ****     inline void Init(Config config)
  42:../../libdaisy/src/hid/midi.h ****     {
ARM GAS  /tmp/ccbdW5h5.s 			page 3


  43:../../libdaisy/src/hid/midi.h ****         UartHandler::Config uart_config;
  44:../../libdaisy/src/hid/midi.h **** 
  45:../../libdaisy/src/hid/midi.h ****         //defaults
  46:../../libdaisy/src/hid/midi.h ****         uart_config.baudrate   = 31250;
  47:../../libdaisy/src/hid/midi.h ****         uart_config.stopbits   = UartHandler::Config::StopBits::BITS_1;
  48:../../libdaisy/src/hid/midi.h ****         uart_config.parity     = UartHandler::Config::Parity::NONE;
  49:../../libdaisy/src/hid/midi.h ****         uart_config.mode       = UartHandler::Config::Mode::TX_RX;
  50:../../libdaisy/src/hid/midi.h ****         uart_config.wordlength = UartHandler::Config::WordLength::BITS_8;
  51:../../libdaisy/src/hid/midi.h **** 
  52:../../libdaisy/src/hid/midi.h ****         //user settings
  53:../../libdaisy/src/hid/midi.h ****         uart_config.periph        = config.periph;
  54:../../libdaisy/src/hid/midi.h ****         uart_config.pin_config.rx = config.rx;
  55:../../libdaisy/src/hid/midi.h ****         uart_config.pin_config.tx = config.tx;
  56:../../libdaisy/src/hid/midi.h **** 
  57:../../libdaisy/src/hid/midi.h ****         uart_.Init(uart_config);
  58:../../libdaisy/src/hid/midi.h ****     }
  59:../../libdaisy/src/hid/midi.h **** 
  60:../../libdaisy/src/hid/midi.h ****     inline void    StartRx() { uart_.StartRx(); }
  61:../../libdaisy/src/hid/midi.h ****     inline size_t  Readable() { return uart_.Readable(); }
  62:../../libdaisy/src/hid/midi.h ****     inline uint8_t Rx() { return uart_.PopRx(); }
  63:../../libdaisy/src/hid/midi.h ****     inline bool    RxActive() { return uart_.RxActive(); }
  64:../../libdaisy/src/hid/midi.h ****     inline void    FlushRx() { uart_.FlushRx(); }
  65:../../libdaisy/src/hid/midi.h ****     inline void    Tx(uint8_t* buff, size_t size) { uart_.PollTx(buff, size); }
  66:../../libdaisy/src/hid/midi.h **** 
  67:../../libdaisy/src/hid/midi.h ****   private:
  68:../../libdaisy/src/hid/midi.h ****     UartHandler uart_;
  69:../../libdaisy/src/hid/midi.h **** };
  70:../../libdaisy/src/hid/midi.h **** 
  71:../../libdaisy/src/hid/midi.h **** /** 
  72:../../libdaisy/src/hid/midi.h ****     @brief Simple MIDI Handler \n 
  73:../../libdaisy/src/hid/midi.h ****     Parses bytes from an input into valid MidiEvents. \n 
  74:../../libdaisy/src/hid/midi.h ****     The MidiEvents fill a FIFO queue that the user can pop messages from.
  75:../../libdaisy/src/hid/midi.h ****     @author shensley
  76:../../libdaisy/src/hid/midi.h ****     @date March 2020
  77:../../libdaisy/src/hid/midi.h **** */
  78:../../libdaisy/src/hid/midi.h **** template <typename Transport>
  79:../../libdaisy/src/hid/midi.h **** class MidiHandler
  80:../../libdaisy/src/hid/midi.h **** {
  81:../../libdaisy/src/hid/midi.h ****   public:
  82:../../libdaisy/src/hid/midi.h ****     MidiHandler() {}
  83:../../libdaisy/src/hid/midi.h ****     ~MidiHandler() {}
  38              		.loc 2 83 5 view .LVU1
  39              	.LBB310:
  40              	.LBI310:
  25:../../libdaisy/src/hid/midi.h **** 
  41              		.loc 2 25 5 view .LVU2
  25:../../libdaisy/src/hid/midi.h **** 
  42              		.loc 2 25 5 is_stmt 0 view .LVU3
  43              	.LBE310:
  44              	.LBE309:
  45              	.LBB311:
  46              	.LBI311:
  47              		.file 3 "../../libdaisy/src/hid/rgb_led.h"
   1:../../libdaisy/src/hid/rgb_led.h **** #pragma once
   2:../../libdaisy/src/hid/rgb_led.h **** #ifndef DSY_RGB_LED_H
   3:../../libdaisy/src/hid/rgb_led.h **** #define DSY_RGB_LED_H
   4:../../libdaisy/src/hid/rgb_led.h **** #include "hid/led.h"
ARM GAS  /tmp/ccbdW5h5.s 			page 4


   5:../../libdaisy/src/hid/rgb_led.h **** #include "util/color.h"
   6:../../libdaisy/src/hid/rgb_led.h **** 
   7:../../libdaisy/src/hid/rgb_led.h **** namespace daisy
   8:../../libdaisy/src/hid/rgb_led.h **** {
   9:../../libdaisy/src/hid/rgb_led.h **** /** @addtogroup feedback
  10:../../libdaisy/src/hid/rgb_led.h ****     @{
  11:../../libdaisy/src/hid/rgb_led.h **** */
  12:../../libdaisy/src/hid/rgb_led.h **** 
  13:../../libdaisy/src/hid/rgb_led.h **** /** 3x LEDs configured as an RGB for ease of use. */
  14:../../libdaisy/src/hid/rgb_led.h **** class RgbLed
  15:../../libdaisy/src/hid/rgb_led.h **** {
  16:../../libdaisy/src/hid/rgb_led.h ****   public:
  17:../../libdaisy/src/hid/rgb_led.h ****     RgbLed() {}
  18:../../libdaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
  48              		.loc 3 18 5 is_stmt 1 view .LVU4
  49              	.LBB312:
  50              	.LBI312:
  51              		.file 4 "../../libdaisy/src/hid/led.h"
   1:../../libdaisy/src/hid/led.h **** 
   2:../../libdaisy/src/hid/led.h **** #pragma once
   3:../../libdaisy/src/hid/led.h **** #ifndef DSY_LED_H
   4:../../libdaisy/src/hid/led.h **** #define DSY_LED_H
   5:../../libdaisy/src/hid/led.h **** #include "daisy_core.h"
   6:../../libdaisy/src/hid/led.h **** #include "per/gpio.h"
   7:../../libdaisy/src/hid/led.h **** 
   8:../../libdaisy/src/hid/led.h **** /* TODO - Get this set up to work with the dev_leddriver stuff as well
   9:../../libdaisy/src/hid/led.h **** - Setup Hardware PWM for pins that have it
  10:../../libdaisy/src/hid/led.h **** */
  11:../../libdaisy/src/hid/led.h **** 
  12:../../libdaisy/src/hid/led.h **** namespace daisy
  13:../../libdaisy/src/hid/led.h **** {
  14:../../libdaisy/src/hid/led.h **** /**
  15:../../libdaisy/src/hid/led.h ****     @brief LED Class providing simple Software PWM ability, etc \n 
  16:../../libdaisy/src/hid/led.h ****     Eventually this will work with hardware PWM, and external LED Driver devices as well.
  17:../../libdaisy/src/hid/led.h ****     @author shensley
  18:../../libdaisy/src/hid/led.h ****     @date March 2020
  19:../../libdaisy/src/hid/led.h ****     @ingroup feedback
  20:../../libdaisy/src/hid/led.h **** */
  21:../../libdaisy/src/hid/led.h **** class Led
  22:../../libdaisy/src/hid/led.h **** {
  23:../../libdaisy/src/hid/led.h ****   public:
  24:../../libdaisy/src/hid/led.h ****     Led() {}
  25:../../libdaisy/src/hid/led.h ****     ~Led() {}
  52              		.loc 4 25 5 view .LVU5
  53              		.loc 4 25 5 is_stmt 0 view .LVU6
  54              	.LBE312:
  55              	.LBB313:
  56              	.LBI313:
  57              		.loc 4 25 5 is_stmt 1 view .LVU7
  58              		.loc 4 25 5 is_stmt 0 view .LVU8
  59              	.LBE313:
  60              	.LBB314:
  61              	.LBI314:
  62              		.loc 4 25 5 is_stmt 1 view .LVU9
  63              		.loc 4 25 5 is_stmt 0 view .LVU10
  64              	.LBE314:
  65              	.LBE311:
ARM GAS  /tmp/ccbdW5h5.s 			page 5


  66              	.LBB315:
  67              	.LBI315:
  68              		.loc 3 18 5 is_stmt 1 view .LVU11
  69              	.LBB316:
  70              	.LBI316:
  71              		.loc 4 25 5 view .LVU12
  72              		.loc 4 25 5 is_stmt 0 view .LVU13
  73              	.LBE316:
  74              	.LBB317:
  75              	.LBI317:
  76              		.loc 4 25 5 is_stmt 1 view .LVU14
  77              		.loc 4 25 5 is_stmt 0 view .LVU15
  78              	.LBE317:
  79              	.LBB318:
  80              	.LBI318:
  81              		.loc 4 25 5 is_stmt 1 view .LVU16
  82              		.loc 4 25 5 is_stmt 0 view .LVU17
  83              	.LBE318:
  84              	.LBE315:
  85              	.LBB319:
  86              	.LBI319:
  87              		.file 5 "../../libdaisy/src/hid/switch.h"
   1:../../libdaisy/src/hid/switch.h **** #pragma once
   2:../../libdaisy/src/hid/switch.h **** #ifndef DSY_SWITCH_H
   3:../../libdaisy/src/hid/switch.h **** #define DSY_SWITCH_H
   4:../../libdaisy/src/hid/switch.h **** #include "daisy_core.h"
   5:../../libdaisy/src/hid/switch.h **** #include "per/gpio.h"
   6:../../libdaisy/src/hid/switch.h **** 
   7:../../libdaisy/src/hid/switch.h **** namespace daisy
   8:../../libdaisy/src/hid/switch.h **** {
   9:../../libdaisy/src/hid/switch.h **** /** 
  10:../../libdaisy/src/hid/switch.h ****     Generic Class for handling momentary/latching switches \n 
  11:../../libdaisy/src/hid/switch.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Switch classes
  12:../../libdaisy/src/hid/switch.h ****     @author Stephen Hensley
  13:../../libdaisy/src/hid/switch.h ****     @date December 2019
  14:../../libdaisy/src/hid/switch.h ****     @ingroup controls
  15:../../libdaisy/src/hid/switch.h **** */
  16:../../libdaisy/src/hid/switch.h **** class Switch
  17:../../libdaisy/src/hid/switch.h **** {
  18:../../libdaisy/src/hid/switch.h ****   public:
  19:../../libdaisy/src/hid/switch.h ****     /** Specifies the expected behavior of the switch */
  20:../../libdaisy/src/hid/switch.h ****     enum Type
  21:../../libdaisy/src/hid/switch.h ****     {
  22:../../libdaisy/src/hid/switch.h ****         TYPE_TOGGLE,    /**< & */
  23:../../libdaisy/src/hid/switch.h ****         TYPE_MOMENTARY, /**< & */
  24:../../libdaisy/src/hid/switch.h ****     };
  25:../../libdaisy/src/hid/switch.h ****     /** Specifies whether the pressed is HIGH or LOW. */
  26:../../libdaisy/src/hid/switch.h ****     enum Polarity
  27:../../libdaisy/src/hid/switch.h ****     {
  28:../../libdaisy/src/hid/switch.h ****         POLARITY_NORMAL,   /**< & */
  29:../../libdaisy/src/hid/switch.h ****         POLARITY_INVERTED, /**< & */
  30:../../libdaisy/src/hid/switch.h ****     };
  31:../../libdaisy/src/hid/switch.h **** 
  32:../../libdaisy/src/hid/switch.h ****     /** Specifies whether to use built-in Pull Up/Down resistors to hold button at a given state wh
  33:../../libdaisy/src/hid/switch.h ****     enum Pull
  34:../../libdaisy/src/hid/switch.h ****     {
  35:../../libdaisy/src/hid/switch.h ****         PULL_UP,   /**< & */
ARM GAS  /tmp/ccbdW5h5.s 			page 6


  36:../../libdaisy/src/hid/switch.h ****         PULL_DOWN, /**< & */
  37:../../libdaisy/src/hid/switch.h ****         PULL_NONE, /**< & */
  38:../../libdaisy/src/hid/switch.h ****     };
  39:../../libdaisy/src/hid/switch.h **** 
  40:../../libdaisy/src/hid/switch.h ****     Switch() {}
  41:../../libdaisy/src/hid/switch.h ****     ~Switch() {}
  88              		.loc 5 41 5 is_stmt 1 view .LVU18
  89              		.loc 5 41 5 is_stmt 0 view .LVU19
  90              	.LBE319:
  91              	.LBB320:
  92              	.LBI320:
  93              		.loc 5 41 5 is_stmt 1 view .LVU20
  94              		.loc 5 41 5 is_stmt 0 view .LVU21
  95              	.LBE320:
  96              	.LBB321:
  97              	.LBI321:
  98              		.file 6 "../../libdaisy/src/hid/ctrl.h"
   1:../../libdaisy/src/hid/ctrl.h **** #pragma once
   2:../../libdaisy/src/hid/ctrl.h **** #ifndef DSY_KNOB_H
   3:../../libdaisy/src/hid/ctrl.h **** #define DSY_KNOB_H /**< & */
   4:../../libdaisy/src/hid/ctrl.h **** #include <stdint.h>
   5:../../libdaisy/src/hid/ctrl.h **** 
   6:../../libdaisy/src/hid/ctrl.h **** #ifdef __cplusplus
   7:../../libdaisy/src/hid/ctrl.h **** namespace daisy
   8:../../libdaisy/src/hid/ctrl.h **** {
   9:../../libdaisy/src/hid/ctrl.h **** /**
  10:../../libdaisy/src/hid/ctrl.h ****     @brief Hardware Interface for control inputs \n 
  11:../../libdaisy/src/hid/ctrl.h ****     Primarily designed for ADC input controls such as \n 
  12:../../libdaisy/src/hid/ctrl.h ****     potentiometers, and control voltage. \n 
  13:../../libdaisy/src/hid/ctrl.h ****     @author Stephen Hensley
  14:../../libdaisy/src/hid/ctrl.h ****     @date November 2019
  15:../../libdaisy/src/hid/ctrl.h ****     @ingroup controls
  16:../../libdaisy/src/hid/ctrl.h **** */
  17:../../libdaisy/src/hid/ctrl.h **** class AnalogControl
  18:../../libdaisy/src/hid/ctrl.h **** {
  19:../../libdaisy/src/hid/ctrl.h ****   public:
  20:../../libdaisy/src/hid/ctrl.h ****     /** Constructor */
  21:../../libdaisy/src/hid/ctrl.h ****     AnalogControl() {}
  22:../../libdaisy/src/hid/ctrl.h ****     /** destructor */
  23:../../libdaisy/src/hid/ctrl.h ****     ~AnalogControl() {}
  99              		.loc 6 23 5 is_stmt 1 view .LVU22
 100              		.loc 6 23 5 is_stmt 0 view .LVU23
 101              	.LBE321:
 102              	.LBB322:
 103              	.LBI322:
 104              		.loc 6 23 5 is_stmt 1 view .LVU24
 105              		.loc 6 23 5 is_stmt 0 view .LVU25
 106              	.LBE322:
 107              	.LBB323:
 108              	.LBI323:
 109              		.file 7 "../../libdaisy/src/hid/encoder.h"
   1:../../libdaisy/src/hid/encoder.h **** #pragma once
   2:../../libdaisy/src/hid/encoder.h **** #ifndef DSY_ENCODER_H
   3:../../libdaisy/src/hid/encoder.h **** #define DSY_ENCODER_H
   4:../../libdaisy/src/hid/encoder.h **** #include "daisy_core.h"
   5:../../libdaisy/src/hid/encoder.h **** #include "per/gpio.h"
   6:../../libdaisy/src/hid/encoder.h **** #include "hid/switch.h"
ARM GAS  /tmp/ccbdW5h5.s 			page 7


   7:../../libdaisy/src/hid/encoder.h **** 
   8:../../libdaisy/src/hid/encoder.h **** namespace daisy
   9:../../libdaisy/src/hid/encoder.h **** {
  10:../../libdaisy/src/hid/encoder.h **** /** 
  11:../../libdaisy/src/hid/encoder.h ****     @brief Generic Class for handling Quadrature Encoders \n 
  12:../../libdaisy/src/hid/encoder.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Encoder classes
  13:../../libdaisy/src/hid/encoder.h ****     @author Stephen Hensley
  14:../../libdaisy/src/hid/encoder.h ****     @date December 2019
  15:../../libdaisy/src/hid/encoder.h ****     @ingroup controls
  16:../../libdaisy/src/hid/encoder.h **** */
  17:../../libdaisy/src/hid/encoder.h **** class Encoder
  18:../../libdaisy/src/hid/encoder.h **** {
  19:../../libdaisy/src/hid/encoder.h ****   public:
  20:../../libdaisy/src/hid/encoder.h ****     Encoder() {}
  21:../../libdaisy/src/hid/encoder.h ****     ~Encoder() {}
 110              		.loc 7 21 5 is_stmt 1 view .LVU26
 111              	.LBB324:
 112              	.LBI324:
 113              		.loc 5 41 5 view .LVU27
 114              		.loc 5 41 5 is_stmt 0 view .LVU28
 115              	.LBE324:
 116              	.LBE323:
 117              	.LBB325:
 118              	.LBI325:
 119              		.file 8 "../../libdaisy/src/daisy_seed.h"
   1:../../libdaisy/src/daisy_seed.h **** #pragma once
   2:../../libdaisy/src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../../libdaisy/src/daisy_seed.h **** #define DSY_SEED_H
   4:../../libdaisy/src/daisy_seed.h **** 
   5:../../libdaisy/src/daisy_seed.h **** #include "daisy.h"
   6:../../libdaisy/src/daisy_seed.h **** 
   7:../../libdaisy/src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../../libdaisy/src/daisy_seed.h **** //#define SEED_REV2
   9:../../libdaisy/src/daisy_seed.h **** 
  10:../../libdaisy/src/daisy_seed.h **** namespace daisy
  11:../../libdaisy/src/daisy_seed.h **** {
  12:../../libdaisy/src/daisy_seed.h **** /**
  13:../../libdaisy/src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../../libdaisy/src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../../libdaisy/src/daisy_seed.h **** 
  16:../../libdaisy/src/daisy_seed.h ****    @ingroup boards
  17:../../libdaisy/src/daisy_seed.h **** */
  18:../../libdaisy/src/daisy_seed.h **** class DaisySeed
  19:../../libdaisy/src/daisy_seed.h **** {
  20:../../libdaisy/src/daisy_seed.h ****   public:
  21:../../libdaisy/src/daisy_seed.h ****     DaisySeed() {}
  22:../../libdaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 120              		.loc 8 22 5 is_stmt 1 view .LVU29
 121              	.LBB326:
 122              	.LBI326:
 123              		.file 9 "../../libdaisy/src/sys/system.h"
   1:../../libdaisy/src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../libdaisy/src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../libdaisy/src/sys/system.h **** 
   4:../../libdaisy/src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../libdaisy/src/sys/system.h **** 
   6:../../libdaisy/src/sys/system.h **** #include <cstdint>
ARM GAS  /tmp/ccbdW5h5.s 			page 8


   7:../../libdaisy/src/sys/system.h **** #include "per/tim.h"
   8:../../libdaisy/src/sys/system.h **** 
   9:../../libdaisy/src/sys/system.h **** namespace daisy
  10:../../libdaisy/src/sys/system.h **** {
  11:../../libdaisy/src/sys/system.h **** /** A handle for interacting with the Core System. 
  12:../../libdaisy/src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../libdaisy/src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../libdaisy/src/sys/system.h ****  **
  15:../../libdaisy/src/sys/system.h ****  ** @author shensley
  16:../../libdaisy/src/sys/system.h ****  ** @addtogroup system
  17:../../libdaisy/src/sys/system.h ****  */
  18:../../libdaisy/src/sys/system.h **** class System
  19:../../libdaisy/src/sys/system.h **** {
  20:../../libdaisy/src/sys/system.h ****   public:
  21:../../libdaisy/src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../libdaisy/src/sys/system.h ****     struct Config
  23:../../libdaisy/src/sys/system.h ****     {
  24:../../libdaisy/src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../libdaisy/src/sys/system.h ****         enum class SysClkFreq
  26:../../libdaisy/src/sys/system.h ****         {
  27:../../libdaisy/src/sys/system.h ****             FREQ_400MHZ,
  28:../../libdaisy/src/sys/system.h ****             FREQ_480MHZ,
  29:../../libdaisy/src/sys/system.h ****         };
  30:../../libdaisy/src/sys/system.h **** 
  31:../../libdaisy/src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../libdaisy/src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../libdaisy/src/sys/system.h ****          ** Cache Enabled 
  34:../../libdaisy/src/sys/system.h ****          ** */
  35:../../libdaisy/src/sys/system.h ****         void Defaults()
  36:../../libdaisy/src/sys/system.h ****         {
  37:../../libdaisy/src/sys/system.h ****             cpu_freq   = SysClkFreq::FREQ_400MHZ;
  38:../../libdaisy/src/sys/system.h ****             use_dcache = true;
  39:../../libdaisy/src/sys/system.h ****             use_icache = true;
  40:../../libdaisy/src/sys/system.h ****         }
  41:../../libdaisy/src/sys/system.h **** 
  42:../../libdaisy/src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  43:../../libdaisy/src/sys/system.h ****          ** CPU Freq set to 480MHz
  44:../../libdaisy/src/sys/system.h ****          ** Cache Enabled 
  45:../../libdaisy/src/sys/system.h ****          ** */
  46:../../libdaisy/src/sys/system.h ****         void Boost()
  47:../../libdaisy/src/sys/system.h ****         {
  48:../../libdaisy/src/sys/system.h ****             cpu_freq   = SysClkFreq::FREQ_480MHZ;
  49:../../libdaisy/src/sys/system.h ****             use_dcache = true;
  50:../../libdaisy/src/sys/system.h ****             use_icache = true;
  51:../../libdaisy/src/sys/system.h ****         }
  52:../../libdaisy/src/sys/system.h **** 
  53:../../libdaisy/src/sys/system.h ****         SysClkFreq cpu_freq;
  54:../../libdaisy/src/sys/system.h ****         bool       use_dcache;
  55:../../libdaisy/src/sys/system.h ****         bool       use_icache;
  56:../../libdaisy/src/sys/system.h ****     };
  57:../../libdaisy/src/sys/system.h **** 
  58:../../libdaisy/src/sys/system.h ****     System() {}
  59:../../libdaisy/src/sys/system.h ****     ~System() {}
 124              		.loc 9 59 5 view .LVU30
 125              		.loc 9 59 5 is_stmt 0 view .LVU31
 126              	.LBE326:
 127              	.LBB327:
ARM GAS  /tmp/ccbdW5h5.s 			page 9


 128              	.LBI327:
 129              		.file 10 "../../libdaisy/src/hid/usb.h"
   1:../../libdaisy/src/hid/usb.h **** #pragma once
   2:../../libdaisy/src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../../libdaisy/src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../libdaisy/src/hid/usb.h **** #include <stdint.h>
   5:../../libdaisy/src/hid/usb.h **** #include <stdlib.h>
   6:../../libdaisy/src/hid/usb.h **** 
   7:../../libdaisy/src/hid/usb.h **** namespace daisy
   8:../../libdaisy/src/hid/usb.h **** /** @addtogroup externals
   9:../../libdaisy/src/hid/usb.h ****     @{
  10:../../libdaisy/src/hid/usb.h **** */
  11:../../libdaisy/src/hid/usb.h **** 
  12:../../libdaisy/src/hid/usb.h **** {
  13:../../libdaisy/src/hid/usb.h **** /** 
  14:../../libdaisy/src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../libdaisy/src/hid/usb.h ****     @author Stephen Hensley
  16:../../libdaisy/src/hid/usb.h ****     @date December 2019
  17:../../libdaisy/src/hid/usb.h **** */
  18:../../libdaisy/src/hid/usb.h **** class UsbHandle
  19:../../libdaisy/src/hid/usb.h **** {
  20:../../libdaisy/src/hid/usb.h ****   public:
  21:../../libdaisy/src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../../libdaisy/src/hid/usb.h ****     enum class Result
  23:../../libdaisy/src/hid/usb.h ****     {
  24:../../libdaisy/src/hid/usb.h ****         OK,
  25:../../libdaisy/src/hid/usb.h ****         ERR,
  26:../../libdaisy/src/hid/usb.h ****     };
  27:../../libdaisy/src/hid/usb.h **** 
  28:../../libdaisy/src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../libdaisy/src/hid/usb.h ****     enum UsbPeriph
  30:../../libdaisy/src/hid/usb.h ****     {
  31:../../libdaisy/src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../libdaisy/src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../libdaisy/src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../libdaisy/src/hid/usb.h ****     };
  35:../../libdaisy/src/hid/usb.h **** 
  36:../../libdaisy/src/hid/usb.h **** 
  37:../../libdaisy/src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../libdaisy/src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../libdaisy/src/hid/usb.h **** 
  40:../../libdaisy/src/hid/usb.h ****     UsbHandle() {}
  41:../../libdaisy/src/hid/usb.h **** 
  42:../../libdaisy/src/hid/usb.h ****     ~UsbHandle() {}
 130              		.loc 10 42 5 is_stmt 1 view .LVU32
 131              		.loc 10 42 5 is_stmt 0 view .LVU33
 132              	.LBE327:
 133              	.LBB328:
 134              	.LBI328:
 135              		.file 11 "../../libdaisy/src/per/adc.h"
   1:../../libdaisy/src/per/adc.h **** #pragma once
   2:../../libdaisy/src/per/adc.h **** #ifndef DSY_ADC_H
   3:../../libdaisy/src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../libdaisy/src/per/adc.h **** #include <stdint.h>
   5:../../libdaisy/src/per/adc.h **** #include <stdlib.h>
   6:../../libdaisy/src/per/adc.h **** #include "daisy_core.h"
   7:../../libdaisy/src/per/adc.h **** #include "per/gpio.h"
ARM GAS  /tmp/ccbdW5h5.s 			page 10


   8:../../libdaisy/src/per/adc.h **** 
   9:../../libdaisy/src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 14 /**< Maximum number of ADC channels */
  10:../../libdaisy/src/per/adc.h **** 
  11:../../libdaisy/src/per/adc.h **** namespace daisy
  12:../../libdaisy/src/per/adc.h **** {
  13:../../libdaisy/src/per/adc.h **** /** @addtogroup analog_digital_conversion
  14:../../libdaisy/src/per/adc.h ****     @{
  15:../../libdaisy/src/per/adc.h **** */
  16:../../libdaisy/src/per/adc.h **** 
  17:../../libdaisy/src/per/adc.h **** /* While there may not be many configuration options here,
  18:../../libdaisy/src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../libdaisy/src/per/adc.h **** later without breaking existing functionality.
  20:../../libdaisy/src/per/adc.h **** */
  21:../../libdaisy/src/per/adc.h **** 
  22:../../libdaisy/src/per/adc.h **** /** Configuration Structure for a given channel */
  23:../../libdaisy/src/per/adc.h **** struct AdcChannelConfig
  24:../../libdaisy/src/per/adc.h **** {
  25:../../libdaisy/src/per/adc.h ****     /** Which pin to use for multiplexing */
  26:../../libdaisy/src/per/adc.h ****     enum MuxPin
  27:../../libdaisy/src/per/adc.h ****     {
  28:../../libdaisy/src/per/adc.h ****         MUX_SEL_0,    /**< & */
  29:../../libdaisy/src/per/adc.h ****         MUX_SEL_1,    /**< & */
  30:../../libdaisy/src/per/adc.h ****         MUX_SEL_2,    /**< & */
  31:../../libdaisy/src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  32:../../libdaisy/src/per/adc.h ****     };
  33:../../libdaisy/src/per/adc.h **** 
  34:../../libdaisy/src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  35:../../libdaisy/src/per/adc.h ****     \param pin Pin to init.
  36:../../libdaisy/src/per/adc.h ****      */
  37:../../libdaisy/src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin);
  38:../../libdaisy/src/per/adc.h **** 
  39:../../libdaisy/src/per/adc.h ****     /** 
  40:../../libdaisy/src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  41:../../libdaisy/src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  42:../../libdaisy/src/per/adc.h ****     You only need to supply the mux pins that are required,
  43:../../libdaisy/src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  44:../../libdaisy/src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  45:../../libdaisy/src/per/adc.h ****     \param mux_channels must be 1-8
  46:../../libdaisy/src/per/adc.h ****     \param mux_0 First mux pin
  47:../../libdaisy/src/per/adc.h ****     \param mux_1 Second mux pin
  48:../../libdaisy/src/per/adc.h ****     \param mux_2 Third mux pin
  49:../../libdaisy/src/per/adc.h ****     \param adc_pin &
  50:../../libdaisy/src/per/adc.h ****     */
  51:../../libdaisy/src/per/adc.h ****     void InitMux(dsy_gpio_pin adc_pin,
  52:../../libdaisy/src/per/adc.h ****                  size_t       mux_channels,
  53:../../libdaisy/src/per/adc.h ****                  dsy_gpio_pin mux_0,
  54:../../libdaisy/src/per/adc.h ****                  dsy_gpio_pin mux_1 = {DSY_GPIOX, 0},
  55:../../libdaisy/src/per/adc.h ****                  dsy_gpio_pin mux_2 = {DSY_GPIOX, 0});
  56:../../libdaisy/src/per/adc.h **** 
  57:../../libdaisy/src/per/adc.h ****     dsy_gpio pin_;                   /**< & */
  58:../../libdaisy/src/per/adc.h ****     dsy_gpio mux_pin_[MUX_SEL_LAST]; /**< & */
  59:../../libdaisy/src/per/adc.h ****     uint8_t  mux_channels_;          /**< & */
  60:../../libdaisy/src/per/adc.h **** };
  61:../../libdaisy/src/per/adc.h **** 
  62:../../libdaisy/src/per/adc.h **** /**
  63:../../libdaisy/src/per/adc.h ****    Handler for analog to digital conversion
  64:../../libdaisy/src/per/adc.h **** */
ARM GAS  /tmp/ccbdW5h5.s 			page 11


  65:../../libdaisy/src/per/adc.h **** class AdcHandle
  66:../../libdaisy/src/per/adc.h **** {
  67:../../libdaisy/src/per/adc.h ****   public:
  68:../../libdaisy/src/per/adc.h ****     /** Supported oversampling amounts */
  69:../../libdaisy/src/per/adc.h ****     enum OverSampling
  70:../../libdaisy/src/per/adc.h ****     {
  71:../../libdaisy/src/per/adc.h ****         OVS_NONE, /**< & */
  72:../../libdaisy/src/per/adc.h ****         OVS_4,    /**< & */
  73:../../libdaisy/src/per/adc.h ****         OVS_8,    /**< & */
  74:../../libdaisy/src/per/adc.h ****         OVS_16,   /**< & */
  75:../../libdaisy/src/per/adc.h ****         OVS_32,   /**< & */
  76:../../libdaisy/src/per/adc.h ****         OVS_64,   /**< & */
  77:../../libdaisy/src/per/adc.h ****         OVS_128,  /**< & */
  78:../../libdaisy/src/per/adc.h ****         OVS_256,  /**< & */
  79:../../libdaisy/src/per/adc.h ****         OVS_512,  /**< & */
  80:../../libdaisy/src/per/adc.h ****         OVS_1024, /**< & */
  81:../../libdaisy/src/per/adc.h ****         OVS_LAST, /**< & */
  82:../../libdaisy/src/per/adc.h ****     };
  83:../../libdaisy/src/per/adc.h **** 
  84:../../libdaisy/src/per/adc.h ****     AdcHandle() {}
  85:../../libdaisy/src/per/adc.h ****     ~AdcHandle() {}
 136              		.loc 11 85 5 is_stmt 1 view .LVU34
 137              		.loc 11 85 5 is_stmt 0 view .LVU35
 138              	.LBE328:
 139              	.LBB329:
 140              	.LBI329:
 141              		.file 12 "../../libdaisy/src/hid/audio.h"
   1:../../libdaisy/src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../libdaisy/src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../libdaisy/src/hid/audio.h **** 
   4:../../libdaisy/src/hid/audio.h **** #include "per/sai.h"
   5:../../libdaisy/src/hid/audio.h **** 
   6:../../libdaisy/src/hid/audio.h **** namespace daisy
   7:../../libdaisy/src/hid/audio.h **** {
   8:../../libdaisy/src/hid/audio.h **** class AudioHandle
   9:../../libdaisy/src/hid/audio.h **** {
  10:../../libdaisy/src/hid/audio.h ****   public:
  11:../../libdaisy/src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  12:../../libdaisy/src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  13:../../libdaisy/src/hid/audio.h ****     struct Config
  14:../../libdaisy/src/hid/audio.h ****     {
  15:../../libdaisy/src/hid/audio.h ****         size_t                        blocksize;
  16:../../libdaisy/src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  17:../../libdaisy/src/hid/audio.h ****         float                         postgain;
  18:../../libdaisy/src/hid/audio.h ****     };
  19:../../libdaisy/src/hid/audio.h **** 
  20:../../libdaisy/src/hid/audio.h ****     enum class Result
  21:../../libdaisy/src/hid/audio.h ****     {
  22:../../libdaisy/src/hid/audio.h ****         OK,
  23:../../libdaisy/src/hid/audio.h ****         ERR,
  24:../../libdaisy/src/hid/audio.h ****     };
  25:../../libdaisy/src/hid/audio.h **** 
  26:../../libdaisy/src/hid/audio.h ****     /** Non-Interleaving input buffer
  27:../../libdaisy/src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  28:../../libdaisy/src/hid/audio.h ****      * const so that the user can't modify the input
  29:../../libdaisy/src/hid/audio.h ****     */
  30:../../libdaisy/src/hid/audio.h ****     typedef const float* const* InputBuffer;
ARM GAS  /tmp/ccbdW5h5.s 			page 12


  31:../../libdaisy/src/hid/audio.h **** 
  32:../../libdaisy/src/hid/audio.h ****     /** Non-Interleaving output buffer
  33:../../libdaisy/src/hid/audio.h ****      * Arranged by float[chn][sample] 
  34:../../libdaisy/src/hid/audio.h ****     */
  35:../../libdaisy/src/hid/audio.h ****     typedef float** OutputBuffer;
  36:../../libdaisy/src/hid/audio.h **** 
  37:../../libdaisy/src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  38:../../libdaisy/src/hid/audio.h ****    * Non-Interleaving audio callbacks in daisy will be of this type
  39:../../libdaisy/src/hid/audio.h ****   */
  40:../../libdaisy/src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  41:../../libdaisy/src/hid/audio.h ****                                   OutputBuffer out,
  42:../../libdaisy/src/hid/audio.h ****                                   size_t       size);
  43:../../libdaisy/src/hid/audio.h **** 
  44:../../libdaisy/src/hid/audio.h ****     /** Interleaving Input buffer
  45:../../libdaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  46:../../libdaisy/src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  47:../../libdaisy/src/hid/audio.h ****     */
  48:../../libdaisy/src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  49:../../libdaisy/src/hid/audio.h **** 
  50:../../libdaisy/src/hid/audio.h ****     /** Interleaving Output buffer 
  51:../../libdaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  52:../../libdaisy/src/hid/audio.h ****     */
  53:../../libdaisy/src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  54:../../libdaisy/src/hid/audio.h **** 
  55:../../libdaisy/src/hid/audio.h ****     /** Interleaving Audio Callback 
  56:../../libdaisy/src/hid/audio.h ****    * Interleaving audio callbacks in daisy must be of this type
  57:../../libdaisy/src/hid/audio.h ****   */
  58:../../libdaisy/src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  59:../../libdaisy/src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  60:../../libdaisy/src/hid/audio.h ****                                               size_t                   size);
  61:../../libdaisy/src/hid/audio.h **** 
  62:../../libdaisy/src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  63:../../libdaisy/src/hid/audio.h ****     ~AudioHandle() {}
 142              		.loc 12 63 5 is_stmt 1 view .LVU36
 143              		.loc 12 63 5 is_stmt 0 view .LVU37
 144              	.LBE329:
 145              	.LBE325:
 146              		.loc 1 36 18 view .LVU38
 147 0000 7047     		bx	lr
 148              		.cfi_endproc
 149              	.LFE4216:
 151              		.weak	_ZN5daisy8DaisyPodD1Ev
 152              		.thumb_set _ZN5daisy8DaisyPodD1Ev,_ZN5daisy8DaisyPodD2Ev
 153 0002 00BF     		.section	.text.startup.main,"ax",%progbits
 154              		.align	1
 155              		.p2align 2,,3
 156              		.global	main
 157              		.syntax unified
 158              		.thumb
 159              		.thumb_func
 160              		.fpu fpv5-d16
 162              	main:
 163              	.LFB4220:
 164              		.file 13 "Looper.cpp"
   1:Looper.cpp    **** #include "daisysp.h"
   2:Looper.cpp    **** #include "daisy_pod.h"
   3:Looper.cpp    **** 
ARM GAS  /tmp/ccbdW5h5.s 			page 13


   4:Looper.cpp    **** #define MAX_SIZE (48000 * 60 * 5) // 5 minutes of floats at 48 khz
   5:Looper.cpp    **** 
   6:Looper.cpp    **** using namespace daisysp;
   7:Looper.cpp    **** using namespace daisy;
   8:Looper.cpp    **** 
   9:Looper.cpp    **** static DaisyPod pod;
  10:Looper.cpp    **** 
  11:Looper.cpp    **** bool first = true;  //first loop (sets length)
  12:Looper.cpp    **** bool rec   = false; //currently recording
  13:Looper.cpp    **** bool play  = false; //currently playing
  14:Looper.cpp    **** 
  15:Looper.cpp    **** int                 pos = 0;
  16:Looper.cpp    **** float DSY_SDRAM_BSS buf[MAX_SIZE];
  17:Looper.cpp    **** int                 mod    = MAX_SIZE;
  18:Looper.cpp    **** int                 len    = 0;
  19:Looper.cpp    **** float               drywet = 0;
  20:Looper.cpp    **** bool                res    = false;
  21:Looper.cpp    **** 
  22:Looper.cpp    **** void ResetBuffer();
  23:Looper.cpp    **** void Controls();
  24:Looper.cpp    **** 
  25:Looper.cpp    **** void NextSamples(float&                               output,
  26:Looper.cpp    ****                  AudioHandle::InterleavingInputBuffer in,
  27:Looper.cpp    ****                  size_t                               i);
  28:Looper.cpp    **** 
  29:Looper.cpp    **** static void AudioCallback(AudioHandle::InterleavingInputBuffer  in,
  30:Looper.cpp    ****                           AudioHandle::InterleavingOutputBuffer out,
  31:Looper.cpp    ****                           size_t                                size)
  32:Looper.cpp    **** {
  33:Looper.cpp    ****     float output = 0;
  34:Looper.cpp    **** 
  35:Looper.cpp    ****     Controls();
  36:Looper.cpp    **** 
  37:Looper.cpp    ****     for(size_t i = 0; i < size; i += 2)
  38:Looper.cpp    ****     {
  39:Looper.cpp    ****         NextSamples(output, in, i);
  40:Looper.cpp    **** 
  41:Looper.cpp    ****         // left and right outs
  42:Looper.cpp    ****         out[i] = out[i + 1] = output;
  43:Looper.cpp    ****     }
  44:Looper.cpp    **** }
  45:Looper.cpp    **** 
  46:Looper.cpp    **** int main(void)
  47:Looper.cpp    **** {
 165              		.loc 13 47 1 is_stmt 1 view -0
 166              		.cfi_startproc
 167              		@ Volatile: function does not return.
 168              		@ args = 0, pretend = 0, frame = 0
 169              		@ frame_needed = 0, uses_anonymous_args = 0
  48:Looper.cpp    ****     // initialize pod hardware and oscillator daisysp module
  49:Looper.cpp    **** 
  50:Looper.cpp    ****     pod.Init();
 170              		.loc 13 50 5 view .LVU40
 171              		.loc 13 50 13 is_stmt 0 view .LVU41
 172 0000 0021     		movs	r1, #0
 173 0002 1348     		ldr	r0, .L9
 174              	.LBB330:
ARM GAS  /tmp/ccbdW5h5.s 			page 14


 175              	.LBB331:
  51:Looper.cpp    ****     ResetBuffer();
  52:Looper.cpp    **** 
  53:Looper.cpp    ****     // start callback
  54:Looper.cpp    ****     pod.StartAdc();
  55:Looper.cpp    ****     pod.StartAudio(AudioCallback);
  56:Looper.cpp    **** 
  57:Looper.cpp    ****     while(1) {}
  58:Looper.cpp    **** }
  59:Looper.cpp    **** 
  60:Looper.cpp    **** //Resets the buffer
  61:Looper.cpp    **** void ResetBuffer()
  62:Looper.cpp    **** {
  63:Looper.cpp    ****     play  = false;
  64:Looper.cpp    ****     rec   = false;
 176              		.loc 13 64 11 view .LVU42
 177 0004 134D     		ldr	r5, .L9+4
  65:Looper.cpp    ****     first = true;
 178              		.loc 13 65 11 view .LVU43
 179 0006 0124     		movs	r4, #1
 180              	.LBE331:
 181              	.LBE330:
  47:Looper.cpp    ****     // initialize pod hardware and oscillator daisysp module
 182              		.loc 13 47 1 view .LVU44
 183 0008 08B5     		push	{r3, lr}
 184              		.cfi_def_cfa_offset 8
 185              		.cfi_offset 3, -8
 186              		.cfi_offset 14, -4
  50:Looper.cpp    ****     ResetBuffer();
 187              		.loc 13 50 13 view .LVU45
 188 000a FFF7FEFF 		bl	_ZN5daisy8DaisyPod4InitEb
 189              	.LVL1:
  51:Looper.cpp    **** 
 190              		.loc 13 51 5 is_stmt 1 view .LVU46
 191              	.LBB338:
 192              	.LBI330:
  61:Looper.cpp    **** {
 193              		.loc 13 61 6 view .LVU47
 194              	.LBB336:
  63:Looper.cpp    ****     rec   = false;
 195              		.loc 13 63 5 view .LVU48
  63:Looper.cpp    ****     rec   = false;
 196              		.loc 13 63 11 is_stmt 0 view .LVU49
 197 000e 0022     		movs	r2, #0
 198 0010 1148     		ldr	r0, .L9+8
 199              	.LBB332:
  66:Looper.cpp    ****     pos   = 0;
  67:Looper.cpp    ****     len   = 0;
  68:Looper.cpp    ****     for(int i = 0; i < mod; i++)
 200              		.loc 13 68 22 view .LVU50
 201 0012 1249     		ldr	r1, .L9+12
 202              	.LBE332:
  63:Looper.cpp    ****     rec   = false;
 203              		.loc 13 63 11 view .LVU51
 204 0014 0270     		strb	r2, [r0]
  64:Looper.cpp    ****     first = true;
 205              		.loc 13 64 5 is_stmt 1 view .LVU52
ARM GAS  /tmp/ccbdW5h5.s 			page 15


 206              	.LBB333:
 207              		.loc 13 68 22 is_stmt 0 view .LVU53
 208 0016 0B68     		ldr	r3, [r1]
 209              	.LBE333:
  66:Looper.cpp    ****     pos   = 0;
 210              		.loc 13 66 11 view .LVU54
 211 0018 1148     		ldr	r0, .L9+16
  64:Looper.cpp    ****     first = true;
 212              		.loc 13 64 11 view .LVU55
 213 001a 2A70     		strb	r2, [r5]
  65:Looper.cpp    ****     pos   = 0;
 214              		.loc 13 65 5 is_stmt 1 view .LVU56
 215              	.LBB334:
 216              		.loc 13 68 22 is_stmt 0 view .LVU57
 217 001c 9342     		cmp	r3, r2
 218              	.LBE334:
  66:Looper.cpp    ****     pos   = 0;
 219              		.loc 13 66 11 view .LVU58
 220 001e 0260     		str	r2, [r0]
  67:Looper.cpp    ****     for(int i = 0; i < mod; i++)
 221              		.loc 13 67 11 view .LVU59
 222 0020 104D     		ldr	r5, .L9+20
  65:Looper.cpp    ****     pos   = 0;
 223              		.loc 13 65 11 view .LVU60
 224 0022 1148     		ldr	r0, .L9+24
  67:Looper.cpp    ****     for(int i = 0; i < mod; i++)
 225              		.loc 13 67 11 view .LVU61
 226 0024 2A60     		str	r2, [r5]
  65:Looper.cpp    ****     pos   = 0;
 227              		.loc 13 65 11 view .LVU62
 228 0026 0470     		strb	r4, [r0]
  66:Looper.cpp    ****     len   = 0;
 229              		.loc 13 66 5 is_stmt 1 view .LVU63
  67:Looper.cpp    ****     for(int i = 0; i < mod; i++)
 230              		.loc 13 67 5 view .LVU64
 231              		.loc 13 68 5 view .LVU65
 232              	.LVL2:
 233              	.LBB335:
 234              		.loc 13 68 22 view .LVU66
 235 0028 07DD     		ble	.L4
 236 002a 104A     		ldr	r2, .L9+28
 237 002c 02EB8303 		add	r3, r2, r3, lsl #2
 238              	.LVL3:
 239              	.L5:
  69:Looper.cpp    ****     {
  70:Looper.cpp    ****         buf[i] = 0;
 240              		.loc 13 70 9 view .LVU67
 241              		.loc 13 70 16 is_stmt 0 view .LVU68
 242 0030 0020     		movs	r0, #0
 243 0032 42F8040B 		str	r0, [r2], #4	@ float
  68:Looper.cpp    ****     {
 244              		.loc 13 68 5 is_stmt 1 view .LVU69
  68:Looper.cpp    ****     {
 245              		.loc 13 68 22 view .LVU70
 246 0036 9A42     		cmp	r2, r3
 247 0038 FAD1     		bne	.L5
 248              	.L4:
ARM GAS  /tmp/ccbdW5h5.s 			page 16


 249              	.LBE335:
  71:Looper.cpp    ****     }
  72:Looper.cpp    ****     mod = MAX_SIZE;
 250              		.loc 13 72 5 view .LVU71
 251              		.loc 13 72 9 is_stmt 0 view .LVU72
 252 003a 0D4B     		ldr	r3, .L9+32
 253              	.LBE336:
 254              	.LBE338:
  54:Looper.cpp    ****     pod.StartAudio(AudioCallback);
 255              		.loc 13 54 17 view .LVU73
 256 003c 0448     		ldr	r0, .L9
 257              	.LBB339:
 258              	.LBB337:
 259              		.loc 13 72 9 view .LVU74
 260 003e 0B60     		str	r3, [r1]
 261              	.LBE337:
 262              	.LBE339:
  54:Looper.cpp    ****     pod.StartAudio(AudioCallback);
 263              		.loc 13 54 5 is_stmt 1 view .LVU75
  54:Looper.cpp    ****     pod.StartAudio(AudioCallback);
 264              		.loc 13 54 17 is_stmt 0 view .LVU76
 265 0040 FFF7FEFF 		bl	_ZN5daisy8DaisyPod8StartAdcEv
 266              	.LVL4:
  55:Looper.cpp    **** 
 267              		.loc 13 55 5 is_stmt 1 view .LVU77
  55:Looper.cpp    **** 
 268              		.loc 13 55 19 is_stmt 0 view .LVU78
 269 0044 0B49     		ldr	r1, .L9+36
 270 0046 0248     		ldr	r0, .L9
 271 0048 FFF7FEFF 		bl	_ZN5daisy8DaisyPod10StartAudioEPFvPKfPfjE
 272              	.LVL5:
 273              	.L6:
  57:Looper.cpp    **** }
 274              		.loc 13 57 5 is_stmt 1 discriminator 1 view .LVU79
  57:Looper.cpp    **** }
 275              		.loc 13 57 5 discriminator 1 view .LVU80
  57:Looper.cpp    **** }
 276              		.loc 13 57 5 discriminator 1 view .LVU81
  57:Looper.cpp    **** }
 277              		.loc 13 57 5 discriminator 1 view .LVU82
 278 004c FEE7     		b	.L6
 279              	.L10:
 280 004e 00BF     		.align	2
 281              	.L9:
 282 0050 00000000 		.word	_ZL3pod
 283 0054 00000000 		.word	.LANCHOR1
 284 0058 00000000 		.word	.LANCHOR0
 285 005c 00000000 		.word	.LANCHOR5
 286 0060 00000000 		.word	.LANCHOR3
 287 0064 00000000 		.word	.LANCHOR4
 288 0068 00000000 		.word	.LANCHOR2
 289 006c 00000000 		.word	buf
 290 0070 00BADB00 		.word	14400000
 291 0074 00000000 		.word	_ZL13AudioCallbackPKfPfj
 292              		.cfi_endproc
 293              	.LFE4220:
 295              		.section	.text._Z11ResetBufferv,"ax",%progbits
ARM GAS  /tmp/ccbdW5h5.s 			page 17


 296              		.align	1
 297              		.p2align 2,,3
 298              		.global	_Z11ResetBufferv
 299              		.syntax unified
 300              		.thumb
 301              		.thumb_func
 302              		.fpu fpv5-d16
 304              	_Z11ResetBufferv:
 305              	.LFB4221:
  62:Looper.cpp    ****     play  = false;
 306              		.loc 13 62 1 view -0
 307              		.cfi_startproc
 308              		@ args = 0, pretend = 0, frame = 0
 309              		@ frame_needed = 0, uses_anonymous_args = 0
 310              		@ link register save eliminated.
  63:Looper.cpp    ****     rec   = false;
 311              		.loc 13 63 5 view .LVU84
  63:Looper.cpp    ****     rec   = false;
 312              		.loc 13 63 11 is_stmt 0 view .LVU85
 313 0000 0023     		movs	r3, #0
 314 0002 0E4A     		ldr	r2, .L16
 315              	.LBB340:
  68:Looper.cpp    ****     {
 316              		.loc 13 68 22 view .LVU86
 317 0004 0E48     		ldr	r0, .L16+4
 318              	.LBE340:
  62:Looper.cpp    ****     play  = false;
 319              		.loc 13 62 1 view .LVU87
 320 0006 30B4     		push	{r4, r5}
 321              		.cfi_def_cfa_offset 8
 322              		.cfi_offset 4, -8
 323              		.cfi_offset 5, -4
 324              	.LBB341:
  68:Looper.cpp    ****     {
 325              		.loc 13 68 22 view .LVU88
 326 0008 0168     		ldr	r1, [r0]
 327              	.LBE341:
  65:Looper.cpp    ****     pos   = 0;
 328              		.loc 13 65 11 view .LVU89
 329 000a 0124     		movs	r4, #1
  63:Looper.cpp    ****     rec   = false;
 330              		.loc 13 63 11 view .LVU90
 331 000c 1370     		strb	r3, [r2]
  64:Looper.cpp    ****     first = true;
 332              		.loc 13 64 5 is_stmt 1 view .LVU91
  64:Looper.cpp    ****     first = true;
 333              		.loc 13 64 11 is_stmt 0 view .LVU92
 334 000e 0D4D     		ldr	r5, .L16+8
 335              	.LBB342:
  68:Looper.cpp    ****     {
 336              		.loc 13 68 22 view .LVU93
 337 0010 9942     		cmp	r1, r3
 338              	.LBE342:
  66:Looper.cpp    ****     len   = 0;
 339              		.loc 13 66 11 view .LVU94
 340 0012 0D4A     		ldr	r2, .L16+12
  64:Looper.cpp    ****     first = true;
ARM GAS  /tmp/ccbdW5h5.s 			page 18


 341              		.loc 13 64 11 view .LVU95
 342 0014 2B70     		strb	r3, [r5]
  65:Looper.cpp    ****     pos   = 0;
 343              		.loc 13 65 5 is_stmt 1 view .LVU96
  66:Looper.cpp    ****     len   = 0;
 344              		.loc 13 66 11 is_stmt 0 view .LVU97
 345 0016 1360     		str	r3, [r2]
  67:Looper.cpp    ****     for(int i = 0; i < mod; i++)
 346              		.loc 13 67 11 view .LVU98
 347 0018 0C4D     		ldr	r5, .L16+16
  65:Looper.cpp    ****     pos   = 0;
 348              		.loc 13 65 11 view .LVU99
 349 001a 0D4A     		ldr	r2, .L16+20
  67:Looper.cpp    ****     for(int i = 0; i < mod; i++)
 350              		.loc 13 67 11 view .LVU100
 351 001c 2B60     		str	r3, [r5]
  65:Looper.cpp    ****     pos   = 0;
 352              		.loc 13 65 11 view .LVU101
 353 001e 1470     		strb	r4, [r2]
  66:Looper.cpp    ****     len   = 0;
 354              		.loc 13 66 5 is_stmt 1 view .LVU102
  67:Looper.cpp    ****     for(int i = 0; i < mod; i++)
 355              		.loc 13 67 5 view .LVU103
  68:Looper.cpp    ****     {
 356              		.loc 13 68 5 view .LVU104
 357              	.LVL6:
 358              	.LBB343:
  68:Looper.cpp    ****     {
 359              		.loc 13 68 22 view .LVU105
 360 0020 07DD     		ble	.L12
 361 0022 0C4B     		ldr	r3, .L16+24
 362 0024 03EB8101 		add	r1, r3, r1, lsl #2
 363              	.LVL7:
 364              	.L13:
  70:Looper.cpp    ****     }
 365              		.loc 13 70 9 discriminator 2 view .LVU106
  70:Looper.cpp    ****     }
 366              		.loc 13 70 16 is_stmt 0 discriminator 2 view .LVU107
 367 0028 0022     		movs	r2, #0
 368 002a 43F8042B 		str	r2, [r3], #4	@ float
  68:Looper.cpp    ****     {
 369              		.loc 13 68 5 is_stmt 1 discriminator 2 view .LVU108
  68:Looper.cpp    ****     {
 370              		.loc 13 68 22 discriminator 2 view .LVU109
 371 002e 8B42     		cmp	r3, r1
 372 0030 FAD1     		bne	.L13
 373              	.L12:
 374              	.LBE343:
 375              		.loc 13 72 5 view .LVU110
 376              		.loc 13 72 9 is_stmt 0 view .LVU111
 377 0032 094B     		ldr	r3, .L16+28
  73:Looper.cpp    **** }
 378              		.loc 13 73 1 view .LVU112
 379 0034 30BC     		pop	{r4, r5}
 380              		.cfi_restore 5
 381              		.cfi_restore 4
 382              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/ccbdW5h5.s 			page 19


  72:Looper.cpp    **** }
 383              		.loc 13 72 9 view .LVU113
 384 0036 0360     		str	r3, [r0]
 385              		.loc 13 73 1 view .LVU114
 386 0038 7047     		bx	lr
 387              	.L17:
 388 003a 00BF     		.align	2
 389              	.L16:
 390 003c 00000000 		.word	.LANCHOR0
 391 0040 00000000 		.word	.LANCHOR5
 392 0044 00000000 		.word	.LANCHOR1
 393 0048 00000000 		.word	.LANCHOR3
 394 004c 00000000 		.word	.LANCHOR4
 395 0050 00000000 		.word	.LANCHOR2
 396 0054 00000000 		.word	buf
 397 0058 00BADB00 		.word	14400000
 398              		.cfi_endproc
 399              	.LFE4221:
 401              		.section	.text._Z13UpdateButtonsv,"ax",%progbits
 402              		.align	1
 403              		.p2align 2,,3
 404              		.global	_Z13UpdateButtonsv
 405              		.syntax unified
 406              		.thumb
 407              		.thumb_func
 408              		.fpu fpv5-d16
 410              	_Z13UpdateButtonsv:
 411              	.LFB4222:
  74:Looper.cpp    **** 
  75:Looper.cpp    **** void UpdateButtons()
  76:Looper.cpp    **** {
 412              		.loc 13 76 1 is_stmt 1 view -0
 413              		.cfi_startproc
 414              		@ args = 0, pretend = 0, frame = 0
 415              		@ frame_needed = 0, uses_anonymous_args = 0
 416              		@ link register save eliminated.
  77:Looper.cpp    ****     //button1 pressed
  78:Looper.cpp    ****     if(pod.button2.RisingEdge())
 417              		.loc 13 78 5 view .LVU116
 418              		.loc 13 78 30 is_stmt 0 view .LVU117
 419 0000 304B     		ldr	r3, .L41
  76:Looper.cpp    ****     //button1 pressed
 420              		.loc 13 76 1 view .LVU118
 421 0002 F0B4     		push	{r4, r5, r6, r7}
 422              		.cfi_def_cfa_offset 16
 423              		.cfi_offset 4, -16
 424              		.cfi_offset 5, -12
 425              		.cfi_offset 6, -8
 426              		.cfi_offset 7, -4
 427              		.loc 13 78 30 view .LVU119
 428 0004 93F8B920 		ldrb	r2, [r3, #185]	@ zero_extendqisi2
 429              	.LVL8:
  42:../../libdaisy/src/hid/switch.h **** 
  43:../../libdaisy/src/hid/switch.h ****     /** 
  44:../../libdaisy/src/hid/switch.h ****     Initializes the switch object with a given port/pin combo.
  45:../../libdaisy/src/hid/switch.h ****     \param pin port/pin object to tell the switch which hardware pin to use.
  46:../../libdaisy/src/hid/switch.h ****     \param update_rate the rate at which the Debounce() function will be called. (used for timing).
ARM GAS  /tmp/ccbdW5h5.s 			page 20


  47:../../libdaisy/src/hid/switch.h ****     \param t switch type -- Default: TYPE_MOMENTARY
  48:../../libdaisy/src/hid/switch.h ****     \param pol switch polarity -- Default: POLARITY_INVERTED
  49:../../libdaisy/src/hid/switch.h ****     \param pu switch pull up/down -- Default: PULL_UP
  50:../../libdaisy/src/hid/switch.h ****     */
  51:../../libdaisy/src/hid/switch.h ****     void
  52:../../libdaisy/src/hid/switch.h ****     Init(dsy_gpio_pin pin, float update_rate, Type t, Polarity pol, Pull pu);
  53:../../libdaisy/src/hid/switch.h **** 
  54:../../libdaisy/src/hid/switch.h ****     /**
  55:../../libdaisy/src/hid/switch.h ****        Simplified Init.
  56:../../libdaisy/src/hid/switch.h ****        \param pin port/pin object to tell the switch which hardware pin to use.
  57:../../libdaisy/src/hid/switch.h ****        \param update_rate the rate at which the Debounce() function will be called. (used for timin
  58:../../libdaisy/src/hid/switch.h ****     */
  59:../../libdaisy/src/hid/switch.h ****     void Init(dsy_gpio_pin pin, float update_rate);
  60:../../libdaisy/src/hid/switch.h **** 
  61:../../libdaisy/src/hid/switch.h ****     /** 
  62:../../libdaisy/src/hid/switch.h ****     Called at update_rate to debounce and handle timing for the switch.
  63:../../libdaisy/src/hid/switch.h ****     In order for events not to be missed, its important that the Edge/Pressed checks
  64:../../libdaisy/src/hid/switch.h ****     be made at the same rate as the debounce function is being called.
  65:../../libdaisy/src/hid/switch.h ****     */
  66:../../libdaisy/src/hid/switch.h ****     void Debounce();
  67:../../libdaisy/src/hid/switch.h **** 
  68:../../libdaisy/src/hid/switch.h ****     /** \return true if a button was just pressed. */
  69:../../libdaisy/src/hid/switch.h ****     inline bool RisingEdge() const { return state_ == 0x7f; }
 430              		.loc 5 69 38 is_stmt 1 view .LVU120
 431              		.loc 13 78 5 is_stmt 0 view .LVU121
 432 0008 7F2A     		cmp	r2, #127
 433 000a 2DD0     		beq	.L40
  79:Looper.cpp    ****     {
  80:Looper.cpp    ****         if(first && rec)
  81:Looper.cpp    ****         {
  82:Looper.cpp    ****             first = false;
  83:Looper.cpp    ****             mod   = len;
  84:Looper.cpp    ****             len   = 0;
  85:Looper.cpp    ****         }
  86:Looper.cpp    **** 
  87:Looper.cpp    ****         res  = true;
  88:Looper.cpp    ****         play = true;
  89:Looper.cpp    ****         rec  = !rec;
  90:Looper.cpp    ****     }
  91:Looper.cpp    **** 
  92:Looper.cpp    ****     //button1 held
  93:Looper.cpp    ****     if(pod.button2.TimeHeldMs() >= 1000 && res)
 434              		.loc 13 93 5 is_stmt 1 view .LVU122
 435              	.LVL9:
 436              	.LBB344:
 437              	.LBI344:
  70:../../libdaisy/src/hid/switch.h **** 
  71:../../libdaisy/src/hid/switch.h ****     /** \return true if the button was just released */
  72:../../libdaisy/src/hid/switch.h ****     inline bool FallingEdge() const { return state_ == 0x80; }
  73:../../libdaisy/src/hid/switch.h **** 
  74:../../libdaisy/src/hid/switch.h ****     /** \return true if the button is held down (or if the toggle is on) */
  75:../../libdaisy/src/hid/switch.h ****     inline bool Pressed() const { return state_ == 0xff; }
  76:../../libdaisy/src/hid/switch.h **** 
  77:../../libdaisy/src/hid/switch.h ****     /** \return true if the button is held down, without debouncing */
  78:../../libdaisy/src/hid/switch.h ****     inline bool RawState()
  79:../../libdaisy/src/hid/switch.h ****     {
  80:../../libdaisy/src/hid/switch.h ****         return flip_ ? !dsy_gpio_read(&hw_gpio_) : dsy_gpio_read(&hw_gpio_);
ARM GAS  /tmp/ccbdW5h5.s 			page 21


  81:../../libdaisy/src/hid/switch.h ****     }
  82:../../libdaisy/src/hid/switch.h **** 
  83:../../libdaisy/src/hid/switch.h ****     /** \return the time in milliseconds that the button has been held (or toggle has been on) */
  84:../../libdaisy/src/hid/switch.h ****     inline float TimeHeldMs() const
 438              		.loc 5 84 18 view .LVU123
 439              	.LBB345:
  85:../../libdaisy/src/hid/switch.h ****     {
  86:../../libdaisy/src/hid/switch.h ****         return Pressed() ? time_held_ * 1000.0f : 0;
 440              		.loc 5 86 9 view .LVU124
 441              		.loc 5 86 9 is_stmt 0 view .LVU125
 442              	.LBE345:
 443              	.LBE344:
  75:../../libdaisy/src/hid/switch.h **** 
 444              		.loc 5 75 35 is_stmt 1 view .LVU126
 445              	.LBB348:
 446              	.LBB346:
 447              		.loc 5 86 26 is_stmt 0 view .LVU127
 448 000c FF2A     		cmp	r2, #255
 449 000e 38D1     		bne	.L22
 450              	.LVL10:
 451              		.loc 5 86 26 view .LVU128
 452 0010 9FED2D7A 		vldr.32	s14, .L41+4
 453 0014 D3ED307A 		vldr.32	s15, [r3, #192]
 454 0018 67EE877A 		vmul.f32	s15, s15, s14
 455              	.LBE346:
 456              	.LBE348:
 457              		.loc 13 93 41 view .LVU129
 458 001c F4EEC77A 		vcmpe.f32	s15, s14
 459 0020 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 460 0024 2DDB     		blt	.L22
 461              		.loc 13 93 41 discriminator 1 view .LVU130
 462 0026 2948     		ldr	r0, .L41+8
 463 0028 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 464 002a 52B3     		cbz	r2, .L22
  94:Looper.cpp    ****     {
  95:Looper.cpp    ****         ResetBuffer();
 465              		.loc 13 95 9 is_stmt 1 view .LVU131
 466              	.LBB349:
 467              	.LBI349:
  61:Looper.cpp    **** {
 468              		.loc 13 61 6 view .LVU132
 469              	.LBB350:
  63:Looper.cpp    ****     rec   = false;
 470              		.loc 13 63 5 view .LVU133
  63:Looper.cpp    ****     rec   = false;
 471              		.loc 13 63 11 is_stmt 0 view .LVU134
 472 002c 0023     		movs	r3, #0
 473 002e 284A     		ldr	r2, .L41+12
 474              	.LBB351:
  68:Looper.cpp    ****     {
 475              		.loc 13 68 22 view .LVU135
 476 0030 284C     		ldr	r4, .L41+16
 477              	.LBE351:
  65:Looper.cpp    ****     pos   = 0;
 478              		.loc 13 65 11 view .LVU136
 479 0032 0125     		movs	r5, #1
  63:Looper.cpp    ****     rec   = false;
ARM GAS  /tmp/ccbdW5h5.s 			page 22


 480              		.loc 13 63 11 view .LVU137
 481 0034 1370     		strb	r3, [r2]
  64:Looper.cpp    ****     first = true;
 482              		.loc 13 64 5 is_stmt 1 view .LVU138
  64:Looper.cpp    ****     first = true;
 483              		.loc 13 64 11 is_stmt 0 view .LVU139
 484 0036 284E     		ldr	r6, .L41+20
  66:Looper.cpp    ****     len   = 0;
 485              		.loc 13 66 11 view .LVU140
 486 0038 284A     		ldr	r2, .L41+24
 487              	.LBB352:
  68:Looper.cpp    ****     {
 488              		.loc 13 68 22 view .LVU141
 489 003a 2168     		ldr	r1, [r4]
 490              	.LBE352:
  64:Looper.cpp    ****     first = true;
 491              		.loc 13 64 11 view .LVU142
 492 003c 3370     		strb	r3, [r6]
  65:Looper.cpp    ****     pos   = 0;
 493              		.loc 13 65 5 is_stmt 1 view .LVU143
  66:Looper.cpp    ****     len   = 0;
 494              		.loc 13 66 11 is_stmt 0 view .LVU144
 495 003e 1360     		str	r3, [r2]
 496              	.LBB353:
  68:Looper.cpp    ****     {
 497              		.loc 13 68 22 view .LVU145
 498 0040 9942     		cmp	r1, r3
 499              	.LBE353:
  67:Looper.cpp    ****     for(int i = 0; i < mod; i++)
 500              		.loc 13 67 11 view .LVU146
 501 0042 274E     		ldr	r6, .L41+28
  65:Looper.cpp    ****     pos   = 0;
 502              		.loc 13 65 11 view .LVU147
 503 0044 274A     		ldr	r2, .L41+32
  67:Looper.cpp    ****     for(int i = 0; i < mod; i++)
 504              		.loc 13 67 11 view .LVU148
 505 0046 3360     		str	r3, [r6]
  65:Looper.cpp    ****     pos   = 0;
 506              		.loc 13 65 11 view .LVU149
 507 0048 1570     		strb	r5, [r2]
  66:Looper.cpp    ****     len   = 0;
 508              		.loc 13 66 5 is_stmt 1 view .LVU150
  67:Looper.cpp    ****     for(int i = 0; i < mod; i++)
 509              		.loc 13 67 5 view .LVU151
  68:Looper.cpp    ****     {
 510              		.loc 13 68 5 view .LVU152
 511              	.LVL11:
 512              	.LBB354:
  68:Looper.cpp    ****     {
 513              		.loc 13 68 22 view .LVU153
 514 004a 07DD     		ble	.L26
 515 004c 264B     		ldr	r3, .L41+36
 516 004e 03EB8101 		add	r1, r3, r1, lsl #2
 517              	.LVL12:
 518              	.L27:
  70:Looper.cpp    ****     }
 519              		.loc 13 70 9 view .LVU154
ARM GAS  /tmp/ccbdW5h5.s 			page 23


  70:Looper.cpp    ****     }
 520              		.loc 13 70 16 is_stmt 0 view .LVU155
 521 0052 0022     		movs	r2, #0
 522 0054 43F8042B 		str	r2, [r3], #4	@ float
  68:Looper.cpp    ****     {
 523              		.loc 13 68 5 is_stmt 1 view .LVU156
  68:Looper.cpp    ****     {
 524              		.loc 13 68 22 view .LVU157
 525 0058 8B42     		cmp	r3, r1
 526 005a FAD1     		bne	.L27
 527              	.L26:
 528              	.LBE354:
  72:Looper.cpp    **** }
 529              		.loc 13 72 5 view .LVU158
  72:Looper.cpp    **** }
 530              		.loc 13 72 9 is_stmt 0 view .LVU159
 531 005c 234A     		ldr	r2, .L41+40
 532              	.LBE350:
 533              	.LBE349:
  96:Looper.cpp    ****         res = false;
 534              		.loc 13 96 13 view .LVU160
 535 005e 0023     		movs	r3, #0
 536              	.LBB356:
 537              	.LBB355:
  72:Looper.cpp    **** }
 538              		.loc 13 72 9 view .LVU161
 539 0060 2260     		str	r2, [r4]
 540              	.LBE355:
 541              	.LBE356:
 542              		.loc 13 96 9 is_stmt 1 view .LVU162
 543              		.loc 13 96 13 is_stmt 0 view .LVU163
 544 0062 0370     		strb	r3, [r0]
  97:Looper.cpp    ****     }
  98:Looper.cpp    **** 
  99:Looper.cpp    ****     //button2 pressed and not empty buffer
 100:Looper.cpp    ****     if(pod.button1.RisingEdge() && !(!rec && first))
 545              		.loc 13 100 5 is_stmt 1 view .LVU164
 546              	.LVL13:
  69:../../libdaisy/src/hid/switch.h **** 
 547              		.loc 5 69 38 view .LVU165
 548              	.L18:
 101:Looper.cpp    ****     {
 102:Looper.cpp    ****         play = !play;
 103:Looper.cpp    ****         rec  = false;
 104:Looper.cpp    ****     }
 105:Looper.cpp    **** }
 549              		.loc 13 105 1 is_stmt 0 view .LVU166
 550 0064 F0BC     		pop	{r4, r5, r6, r7}
 551              		.cfi_remember_state
 552              		.cfi_restore 7
 553              		.cfi_restore 6
 554              		.cfi_restore 5
 555              		.cfi_restore 4
 556              		.cfi_def_cfa_offset 0
 557 0066 7047     		bx	lr
 558              	.LVL14:
 559              	.L40:
ARM GAS  /tmp/ccbdW5h5.s 			page 24


 560              		.cfi_restore_state
  80:Looper.cpp    ****         {
 561              		.loc 13 80 9 is_stmt 1 view .LVU167
 562 0068 1E48     		ldr	r0, .L41+32
 563 006a 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 564 006c CAB9     		cbnz	r2, .L20
 565 006e 1A4A     		ldr	r2, .L41+20
 566 0070 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 567              	.L21:
  87:Looper.cpp    ****         play = true;
 568              		.loc 13 87 9 view .LVU168
  87:Looper.cpp    ****         play = true;
 569              		.loc 13 87 14 is_stmt 0 view .LVU169
 570 0072 0120     		movs	r0, #1
  89:Looper.cpp    ****     }
 571              		.loc 13 89 16 view .LVU170
 572 0074 81F00101 		eor	r1, r1, #1
  87:Looper.cpp    ****         play = true;
 573              		.loc 13 87 14 view .LVU171
 574 0078 144D     		ldr	r5, .L41+8
  88:Looper.cpp    ****         rec  = !rec;
 575              		.loc 13 88 14 view .LVU172
 576 007a 154C     		ldr	r4, .L41+12
  89:Looper.cpp    ****     }
 577              		.loc 13 89 14 view .LVU173
 578 007c 1170     		strb	r1, [r2]
  87:Looper.cpp    ****         play = true;
 579              		.loc 13 87 14 view .LVU174
 580 007e 2870     		strb	r0, [r5]
  88:Looper.cpp    ****         rec  = !rec;
 581              		.loc 13 88 9 is_stmt 1 view .LVU175
  88:Looper.cpp    ****         rec  = !rec;
 582              		.loc 13 88 14 is_stmt 0 view .LVU176
 583 0080 2070     		strb	r0, [r4]
  89:Looper.cpp    ****     }
 584              		.loc 13 89 9 is_stmt 1 view .LVU177
  93:Looper.cpp    ****     {
 585              		.loc 13 93 5 view .LVU178
 586              	.LVL15:
 587              	.LBB357:
  84:../../libdaisy/src/hid/switch.h ****     {
 588              		.loc 5 84 18 view .LVU179
 589              	.LBB347:
 590              		.loc 5 86 9 view .LVU180
 591              		.loc 5 86 9 is_stmt 0 view .LVU181
 592              	.LBE347:
 593              	.LBE357:
  75:../../libdaisy/src/hid/switch.h **** 
 594              		.loc 5 75 35 is_stmt 1 view .LVU182
 595              	.L22:
 100:Looper.cpp    ****     {
 596              		.loc 13 100 5 view .LVU183
  69:../../libdaisy/src/hid/switch.h **** 
 597              		.loc 5 69 38 view .LVU184
 100:Looper.cpp    ****     {
 598              		.loc 13 100 33 is_stmt 0 view .LVU185
 599 0082 93F8A930 		ldrb	r3, [r3, #169]	@ zero_extendqisi2
ARM GAS  /tmp/ccbdW5h5.s 			page 25


 600 0086 7F2B     		cmp	r3, #127
 601 0088 ECD1     		bne	.L18
 100:Looper.cpp    ****     {
 602              		.loc 13 100 33 discriminator 1 view .LVU186
 603 008a 134A     		ldr	r2, .L41+20
 604 008c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 605 008e A3B1     		cbz	r3, .L29
 606              	.L30:
 102:Looper.cpp    ****         rec  = false;
 607              		.loc 13 102 9 is_stmt 1 view .LVU187
 102:Looper.cpp    ****         rec  = false;
 608              		.loc 13 102 14 is_stmt 0 view .LVU188
 609 0090 0F49     		ldr	r1, .L41+12
 103:Looper.cpp    ****     }
 610              		.loc 13 103 14 view .LVU189
 611 0092 0020     		movs	r0, #0
 102:Looper.cpp    ****         rec  = false;
 612              		.loc 13 102 16 view .LVU190
 613 0094 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 103:Looper.cpp    ****     }
 614              		.loc 13 103 14 view .LVU191
 615 0096 1070     		strb	r0, [r2]
 102:Looper.cpp    ****         rec  = false;
 616              		.loc 13 102 16 view .LVU192
 617 0098 83F00103 		eor	r3, r3, #1
 618              		.loc 13 105 1 view .LVU193
 619 009c F0BC     		pop	{r4, r5, r6, r7}
 620              		.cfi_remember_state
 621              		.cfi_restore 7
 622              		.cfi_restore 6
 623              		.cfi_restore 5
 624              		.cfi_restore 4
 625              		.cfi_def_cfa_offset 0
 102:Looper.cpp    ****         rec  = false;
 626              		.loc 13 102 14 view .LVU194
 627 009e 0B70     		strb	r3, [r1]
 103:Looper.cpp    ****     }
 628              		.loc 13 103 9 is_stmt 1 view .LVU195
 629              		.loc 13 105 1 is_stmt 0 view .LVU196
 630 00a0 7047     		bx	lr
 631              	.LVL16:
 632              	.L20:
 633              		.cfi_restore_state
  80:Looper.cpp    ****         {
 634              		.loc 13 80 18 discriminator 1 view .LVU197
 635 00a2 0D4A     		ldr	r2, .L41+20
 636 00a4 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 637 00a6 0029     		cmp	r1, #0
 638 00a8 E3D0     		beq	.L21
  82:Looper.cpp    ****             mod   = len;
 639              		.loc 13 82 13 is_stmt 1 view .LVU198
  83:Looper.cpp    ****             len   = 0;
 640              		.loc 13 83 19 is_stmt 0 view .LVU199
 641 00aa 0D4C     		ldr	r4, .L41+28
  82:Looper.cpp    ****             mod   = len;
 642              		.loc 13 82 19 view .LVU200
 643 00ac 0025     		movs	r5, #0
ARM GAS  /tmp/ccbdW5h5.s 			page 26


  83:Looper.cpp    ****             len   = 0;
 644              		.loc 13 83 19 view .LVU201
 645 00ae 094E     		ldr	r6, .L41+16
 646 00b0 2768     		ldr	r7, [r4]
  82:Looper.cpp    ****             mod   = len;
 647              		.loc 13 82 19 view .LVU202
 648 00b2 0570     		strb	r5, [r0]
  83:Looper.cpp    ****             len   = 0;
 649              		.loc 13 83 13 is_stmt 1 view .LVU203
  83:Looper.cpp    ****             len   = 0;
 650              		.loc 13 83 19 is_stmt 0 view .LVU204
 651 00b4 3760     		str	r7, [r6]
  84:Looper.cpp    ****         }
 652              		.loc 13 84 13 is_stmt 1 view .LVU205
  84:Looper.cpp    ****         }
 653              		.loc 13 84 19 is_stmt 0 view .LVU206
 654 00b6 2560     		str	r5, [r4]
 655 00b8 DBE7     		b	.L21
 656              	.LVL17:
 657              	.L29:
 100:Looper.cpp    ****     {
 658              		.loc 13 100 36 view .LVU207
 659 00ba 0A4B     		ldr	r3, .L41+32
 660 00bc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 661 00be 002B     		cmp	r3, #0
 662 00c0 E6D0     		beq	.L30
 663 00c2 CFE7     		b	.L18
 664              	.L42:
 665              		.align	2
 666              	.L41:
 667 00c4 00000000 		.word	_ZL3pod
 668 00c8 00007A44 		.word	1148846080
 669 00cc 00000000 		.word	.LANCHOR6
 670 00d0 00000000 		.word	.LANCHOR0
 671 00d4 00000000 		.word	.LANCHOR5
 672 00d8 00000000 		.word	.LANCHOR1
 673 00dc 00000000 		.word	.LANCHOR3
 674 00e0 00000000 		.word	.LANCHOR4
 675 00e4 00000000 		.word	.LANCHOR2
 676 00e8 00000000 		.word	buf
 677 00ec 00BADB00 		.word	14400000
 678              		.cfi_endproc
 679              	.LFE4222:
 681              		.section	.text._Z8Controlsv,"ax",%progbits
 682              		.align	1
 683              		.p2align 2,,3
 684              		.global	_Z8Controlsv
 685              		.syntax unified
 686              		.thumb
 687              		.thumb_func
 688              		.fpu fpv5-d16
 690              	_Z8Controlsv:
 691              	.LFB4223:
 106:Looper.cpp    **** 
 107:Looper.cpp    **** //Deals with analog controls
 108:Looper.cpp    **** void Controls()
 109:Looper.cpp    **** {
ARM GAS  /tmp/ccbdW5h5.s 			page 27


 692              		.loc 13 109 1 is_stmt 1 view -0
 693              		.cfi_startproc
 694              		@ args = 0, pretend = 0, frame = 8
 695              		@ frame_needed = 0, uses_anonymous_args = 0
 110:Looper.cpp    ****     pod.ProcessAnalogControls();
 696              		.loc 13 110 5 view .LVU209
 109:Looper.cpp    ****     pod.ProcessAnalogControls();
 697              		.loc 13 109 1 is_stmt 0 view .LVU210
 698 0000 00B5     		push	{lr}
 699              		.cfi_def_cfa_offset 4
 700              		.cfi_offset 14, -4
 701              		.loc 13 110 30 view .LVU211
 702 0002 1B48     		ldr	r0, .L49
 109:Looper.cpp    ****     pod.ProcessAnalogControls();
 703              		.loc 13 109 1 view .LVU212
 704 0004 2DED028B 		vpush.64	{d8}
 705              		.cfi_def_cfa_offset 12
 706              		.cfi_offset 80, -12
 707              		.cfi_offset 81, -8
 708 0008 83B0     		sub	sp, sp, #12
 709              		.cfi_def_cfa_offset 24
 111:Looper.cpp    ****     pod.ProcessDigitalControls();
 112:Looper.cpp    **** 
 113:Looper.cpp    ****     drywet = pod.knob1.Process();
 114:Looper.cpp    **** 
 115:Looper.cpp    ****     UpdateButtons();
 116:Looper.cpp    **** 
 117:Looper.cpp    ****     //leds
 118:Looper.cpp    ****     pod.led1.Set(0, play == true, 0);
 710              		.loc 13 118 17 view .LVU213
 711 000a B7EE008A 		vmov.f32	s16, #1.0e+0
 110:Looper.cpp    ****     pod.ProcessDigitalControls();
 712              		.loc 13 110 30 view .LVU214
 713 000e FFF7FEFF 		bl	_ZN5daisy8DaisyPod21ProcessAnalogControlsEv
 714              	.LVL18:
 111:Looper.cpp    ****     pod.ProcessDigitalControls();
 715              		.loc 13 111 5 is_stmt 1 view .LVU215
 111:Looper.cpp    ****     pod.ProcessDigitalControls();
 716              		.loc 13 111 31 is_stmt 0 view .LVU216
 717 0012 1748     		ldr	r0, .L49
 718 0014 FFF7FEFF 		bl	_ZN5daisy8DaisyPod22ProcessDigitalControlsEv
 719              	.LVL19:
 113:Looper.cpp    **** 
 720              		.loc 13 113 5 is_stmt 1 view .LVU217
 113:Looper.cpp    **** 
 721              		.loc 13 113 31 is_stmt 0 view .LVU218
 722 0018 1648     		ldr	r0, .L49+4
 723 001a FFF7FEFF 		bl	_ZN5daisy13AnalogControl7ProcessEv
 724              	.LVL20:
 113:Looper.cpp    **** 
 725              		.loc 13 113 12 view .LVU219
 726 001e 164B     		ldr	r3, .L49+8
 727              		.loc 13 118 17 view .LVU220
 728 0020 9FED161A 		vldr.32	s2, .L49+12
 113:Looper.cpp    **** 
 729              		.loc 13 113 12 view .LVU221
 730 0024 83ED000A 		vstr.32	s0, [r3]
ARM GAS  /tmp/ccbdW5h5.s 			page 28


 115:Looper.cpp    **** 
 731              		.loc 13 115 5 is_stmt 1 view .LVU222
 732              		.loc 13 118 17 is_stmt 0 view .LVU223
 733 0028 8DED011A 		vstr.32	s2, [sp, #4]	@ int
 115:Looper.cpp    **** 
 734              		.loc 13 115 18 view .LVU224
 735 002c FFF7FEFF 		bl	_Z13UpdateButtonsv
 736              	.LVL21:
 737              		.loc 13 118 5 is_stmt 1 view .LVU225
 738              		.loc 13 118 26 is_stmt 0 view .LVU226
 739 0030 134B     		ldr	r3, .L49+16
 740              		.loc 13 118 17 view .LVU227
 741 0032 9DED011A 		vldr.32	s2, [sp, #4]	@ int
 742 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 743 0038 B0EE410A 		vmov.f32	s0, s2
 744 003c 1148     		ldr	r0, .L49+20
 745 003e 002B     		cmp	r3, #0
 746 0040 41FE080A 		vseleq.f32	s1, s2, s16
 747 0044 FFF7FEFF 		bl	_ZN5daisy6RgbLed3SetEfff
 748              	.LVL22:
 119:Looper.cpp    ****     pod.led2.Set(rec == true, 0, 0);
 749              		.loc 13 119 5 is_stmt 1 view .LVU228
 750              		.loc 13 119 22 is_stmt 0 view .LVU229
 751 0048 0F4B     		ldr	r3, .L49+24
 752              		.loc 13 119 17 view .LVU230
 753 004a 9DED011A 		vldr.32	s2, [sp, #4]	@ int
 754 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 755 0050 F0EE410A 		vmov.f32	s1, s2
 756 0054 0D48     		ldr	r0, .L49+28
 757 0056 002B     		cmp	r3, #0
 758 0058 01FE080A 		vseleq.f32	s0, s2, s16
 759 005c FFF7FEFF 		bl	_ZN5daisy6RgbLed3SetEfff
 760              	.LVL23:
 120:Looper.cpp    **** 
 121:Looper.cpp    ****     pod.UpdateLeds();
 761              		.loc 13 121 5 is_stmt 1 view .LVU231
 762              		.loc 13 121 19 is_stmt 0 view .LVU232
 763 0060 0348     		ldr	r0, .L49
 122:Looper.cpp    **** }
 764              		.loc 13 122 1 view .LVU233
 765 0062 03B0     		add	sp, sp, #12
 766              		.cfi_def_cfa_offset 12
 767              		@ sp needed
 768 0064 BDEC028B 		vldm	sp!, {d8}
 769              		.cfi_restore 80
 770              		.cfi_restore 81
 771              		.cfi_def_cfa_offset 4
 772 0068 5DF804EB 		ldr	lr, [sp], #4
 773              		.cfi_restore 14
 774              		.cfi_def_cfa_offset 0
 121:Looper.cpp    **** }
 775              		.loc 13 121 19 view .LVU234
 776 006c FFF7FEBF 		b	_ZN5daisy8DaisyPod10UpdateLedsEv
 777              	.LVL24:
 778              	.L50:
 779              		.align	2
 780              	.L49:
ARM GAS  /tmp/ccbdW5h5.s 			page 29


 781 0070 00000000 		.word	_ZL3pod
 782 0074 5C000000 		.word	_ZL3pod+92
 783 0078 00000000 		.word	.LANCHOR7
 784 007c 00000000 		.word	0
 785 0080 00000000 		.word	.LANCHOR0
 786 0084 CC000000 		.word	_ZL3pod+204
 787 0088 00000000 		.word	.LANCHOR1
 788 008c 20010000 		.word	_ZL3pod+288
 789              		.cfi_endproc
 790              	.LFE4223:
 792              		.section	.text._Z11WriteBufferPKfj,"ax",%progbits
 793              		.align	1
 794              		.p2align 2,,3
 795              		.global	_Z11WriteBufferPKfj
 796              		.syntax unified
 797              		.thumb
 798              		.thumb_func
 799              		.fpu fpv5-d16
 801              	_Z11WriteBufferPKfj:
 802              	.LVL25:
 803              	.LFB4224:
 123:Looper.cpp    **** 
 124:Looper.cpp    **** void WriteBuffer(AudioHandle::InterleavingInputBuffer in, size_t i)
 125:Looper.cpp    **** {
 804              		.loc 13 125 1 is_stmt 1 view -0
 805              		.cfi_startproc
 806              		@ args = 0, pretend = 0, frame = 0
 807              		@ frame_needed = 0, uses_anonymous_args = 0
 808              		@ link register save eliminated.
 126:Looper.cpp    ****     buf[pos] = buf[pos] * 0.5 + in[i] * 0.5;
 809              		.loc 13 126 5 view .LVU236
 810              		.loc 13 126 37 is_stmt 0 view .LVU237
 811 0000 00EB8101 		add	r1, r0, r1, lsl #2
 812              	.LVL26:
 813              		.loc 13 126 23 view .LVU238
 814 0004 0F4A     		ldr	r2, .L56
 815              		.loc 13 126 39 view .LVU239
 816 0006 B6EE005B 		vmov.f64	d5, #5.0e-1
 817              		.loc 13 126 23 view .LVU240
 818 000a 0F4B     		ldr	r3, .L56+4
 819              		.loc 13 126 37 view .LVU241
 820 000c 91ED007A 		vldr.32	s14, [r1]
 821              		.loc 13 126 23 view .LVU242
 822 0010 1268     		ldr	r2, [r2]
 823              		.loc 13 126 37 view .LVU243
 824 0012 B7EEC77A 		vcvt.f64.f32	d7, s14
 825              		.loc 13 126 23 view .LVU244
 826 0016 03EB8203 		add	r3, r3, r2, lsl #2
 127:Looper.cpp    ****     if(first)
 827              		.loc 13 127 5 view .LVU245
 828 001a 0C4A     		ldr	r2, .L56+8
 126:Looper.cpp    ****     buf[pos] = buf[pos] * 0.5 + in[i] * 0.5;
 829              		.loc 13 126 39 view .LVU246
 830 001c 27EE057B 		vmul.f64	d7, d7, d5
 126:Looper.cpp    ****     buf[pos] = buf[pos] * 0.5 + in[i] * 0.5;
 831              		.loc 13 126 23 view .LVU247
 832 0020 93ED006A 		vldr.32	s12, [r3]
ARM GAS  /tmp/ccbdW5h5.s 			page 30


 833              		.loc 13 127 5 view .LVU248
 834 0024 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 126:Looper.cpp    ****     buf[pos] = buf[pos] * 0.5 + in[i] * 0.5;
 835              		.loc 13 126 23 view .LVU249
 836 0026 B7EEC66A 		vcvt.f64.f32	d6, s12
 126:Looper.cpp    ****     buf[pos] = buf[pos] * 0.5 + in[i] * 0.5;
 837              		.loc 13 126 31 view .LVU250
 838 002a A6EE057B 		vfma.f64	d7, d6, d5
 839 002e B7EEC77B 		vcvt.f32.f64	s14, d7
 840 0032 83ED007A 		vstr.32	s14, [r3]
 841              		.loc 13 127 5 is_stmt 1 view .LVU251
 842 0036 1AB1     		cbz	r2, .L51
 843              	.LBB360:
 844              	.LBI360:
 124:Looper.cpp    **** {
 845              		.loc 13 124 6 view .LVU252
 846              	.LVL27:
 847              	.LBB361:
 128:Looper.cpp    ****     {
 129:Looper.cpp    ****         len++;
 848              		.loc 13 129 9 view .LVU253
 849              		.loc 13 129 12 is_stmt 0 view .LVU254
 850 0038 054A     		ldr	r2, .L56+12
 851 003a 1368     		ldr	r3, [r2]
 852 003c 0133     		adds	r3, r3, #1
 853 003e 1360     		str	r3, [r2]
 854              	.LVL28:
 855              	.L51:
 856              		.loc 13 129 12 view .LVU255
 857              	.LBE361:
 858              	.LBE360:
 130:Looper.cpp    ****     }
 131:Looper.cpp    **** }
 859              		.loc 13 131 1 view .LVU256
 860 0040 7047     		bx	lr
 861              	.L57:
 862 0042 00BF     		.align	2
 863              	.L56:
 864 0044 00000000 		.word	.LANCHOR3
 865 0048 00000000 		.word	buf
 866 004c 00000000 		.word	.LANCHOR2
 867 0050 00000000 		.word	.LANCHOR4
 868              		.cfi_endproc
 869              	.LFE4224:
 871              		.section	.text._Z11NextSamplesRfPKfj,"ax",%progbits
 872              		.align	1
 873              		.p2align 2,,3
 874              		.global	_Z11NextSamplesRfPKfj
 875              		.syntax unified
 876              		.thumb
 877              		.thumb_func
 878              		.fpu fpv5-d16
 880              	_Z11NextSamplesRfPKfj:
 881              	.LVL29:
 882              	.LFB4225:
 132:Looper.cpp    **** 
 133:Looper.cpp    **** void NextSamples(float&                               output,
ARM GAS  /tmp/ccbdW5h5.s 			page 31


 134:Looper.cpp    ****                  AudioHandle::InterleavingInputBuffer in,
 135:Looper.cpp    ****                  size_t                               i)
 136:Looper.cpp    **** {
 883              		.loc 13 136 1 is_stmt 1 view -0
 884              		.cfi_startproc
 885              		@ args = 0, pretend = 0, frame = 0
 886              		@ frame_needed = 0, uses_anonymous_args = 0
 137:Looper.cpp    ****     if(rec)
 887              		.loc 13 137 5 view .LVU258
 136:Looper.cpp    ****     if(rec)
 888              		.loc 13 136 1 is_stmt 0 view .LVU259
 889 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 890              		.cfi_def_cfa_offset 24
 891              		.cfi_offset 4, -24
 892              		.cfi_offset 5, -20
 893              		.cfi_offset 6, -16
 894              		.cfi_offset 7, -12
 895              		.cfi_offset 8, -8
 896              		.cfi_offset 14, -4
 897              		.loc 13 137 5 view .LVU260
 898 0004 224D     		ldr	r5, .L71
 136:Looper.cpp    ****     if(rec)
 899              		.loc 13 136 1 view .LVU261
 900 0006 8046     		mov	r8, r0
 901 0008 0C46     		mov	r4, r1
 902 000a 1646     		mov	r6, r2
 903              		.loc 13 137 5 view .LVU262
 904 000c 2F78     		ldrb	r7, [r5]	@ zero_extendqisi2
 905 000e 002F     		cmp	r7, #0
 906 0010 37D1     		bne	.L70
 907              	.LVL30:
 908              	.L59:
 138:Looper.cpp    ****     {
 139:Looper.cpp    ****         WriteBuffer(in, i);
 140:Looper.cpp    ****     }
 141:Looper.cpp    **** 
 142:Looper.cpp    ****     output = buf[pos];
 909              		.loc 13 142 5 is_stmt 1 view .LVU263
 910              		.loc 13 142 21 is_stmt 0 view .LVU264
 911 0012 204A     		ldr	r2, .L71+4
 912 0014 204D     		ldr	r5, .L71+8
 913 0016 1368     		ldr	r3, [r2]
 143:Looper.cpp    **** 
 144:Looper.cpp    ****     //automatic looptime
 145:Looper.cpp    ****     if(len >= MAX_SIZE)
 914              		.loc 13 145 12 view .LVU265
 915 0018 2048     		ldr	r0, .L71+12
 142:Looper.cpp    **** 
 916              		.loc 13 142 21 view .LVU266
 917 001a 05EB8305 		add	r5, r5, r3, lsl #2
 918              		.loc 13 145 5 view .LVU267
 919 001e 2049     		ldr	r1, .L71+16
 920 0020 D0F800C0 		ldr	ip, [r0]
 142:Looper.cpp    **** 
 921              		.loc 13 142 21 view .LVU268
 922 0024 95ED007A 		vldr.32	s14, [r5]
 923              		.loc 13 145 5 view .LVU269
ARM GAS  /tmp/ccbdW5h5.s 			page 32


 924 0028 8C45     		cmp	ip, r1
 142:Looper.cpp    **** 
 925              		.loc 13 142 12 view .LVU270
 926 002a 88ED007A 		vstr.32	s14, [r8]
 927              		.loc 13 145 5 is_stmt 1 view .LVU271
 928 002e 09DB     		blt	.L60
 146:Looper.cpp    ****     {
 147:Looper.cpp    ****         first = false;
 929              		.loc 13 147 9 view .LVU272
 930              		.loc 13 147 15 is_stmt 0 view .LVU273
 931 0030 0025     		movs	r5, #0
 932 0032 DFF87CE0 		ldr	lr, .L71+32
 148:Looper.cpp    ****         mod   = MAX_SIZE;
 933              		.loc 13 148 15 view .LVU274
 934 0036 DFF870C0 		ldr	ip, .L71+24
 147:Looper.cpp    ****         mod   = MAX_SIZE;
 935              		.loc 13 147 15 view .LVU275
 936 003a 8EF80050 		strb	r5, [lr]
 937              		.loc 13 148 9 is_stmt 1 view .LVU276
 149:Looper.cpp    ****         len   = 0;
 938              		.loc 13 149 15 is_stmt 0 view .LVU277
 939 003e 0560     		str	r5, [r0]
 148:Looper.cpp    ****         mod   = MAX_SIZE;
 940              		.loc 13 148 15 view .LVU278
 941 0040 CCF80010 		str	r1, [ip]
 942              		.loc 13 149 9 is_stmt 1 view .LVU279
 943              	.L60:
 150:Looper.cpp    ****     }
 151:Looper.cpp    **** 
 152:Looper.cpp    ****     if(play)
 944              		.loc 13 152 5 view .LVU280
 945 0044 1749     		ldr	r1, .L71+20
 946 0046 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 947 0048 39B1     		cbz	r1, .L61
 153:Looper.cpp    ****     {
 154:Looper.cpp    ****         pos++;
 948              		.loc 13 154 9 view .LVU281
 155:Looper.cpp    ****         pos %= mod;
 949              		.loc 13 155 9 view .LVU282
 950              		.loc 13 155 13 is_stmt 0 view .LVU283
 951 004a 1749     		ldr	r1, .L71+24
 154:Looper.cpp    ****         pos %= mod;
 952              		.loc 13 154 12 view .LVU284
 953 004c 0133     		adds	r3, r3, #1
 954              		.loc 13 155 13 view .LVU285
 955 004e 0868     		ldr	r0, [r1]
 956 0050 93FBF0F1 		sdiv	r1, r3, r0
 957 0054 00FB1133 		mls	r3, r0, r1, r3
 958 0058 1360     		str	r3, [r2]
 959              	.L61:
 156:Looper.cpp    ****     }
 157:Looper.cpp    **** 
 158:Looper.cpp    ****     if(!rec)
 960              		.loc 13 158 5 is_stmt 1 view .LVU286
 961 005a 87B9     		cbnz	r7, .L58
 159:Looper.cpp    ****     {
 160:Looper.cpp    ****         output = output * drywet + in[i] * (1 - drywet);
ARM GAS  /tmp/ccbdW5h5.s 			page 33


 962              		.loc 13 160 9 view .LVU287
 963              		.loc 13 160 25 is_stmt 0 view .LVU288
 964 005c 134B     		ldr	r3, .L71+28
 965              		.loc 13 160 47 view .LVU289
 966 005e F7EE007A 		vmov.f32	s15, #1.0e+0
 967              		.loc 13 160 40 view .LVU290
 968 0062 04EB8604 		add	r4, r4, r6, lsl #2
 969              	.LVL31:
 970              		.loc 13 160 25 view .LVU291
 971 0066 D3ED006A 		vldr.32	s13, [r3]
 972              		.loc 13 160 42 view .LVU292
 973 006a 94ED006A 		vldr.32	s12, [r4]
 974              		.loc 13 160 47 view .LVU293
 975 006e 77EEE67A 		vsub.f32	s15, s15, s13
 976              		.loc 13 160 42 view .LVU294
 977 0072 67EE867A 		vmul.f32	s15, s15, s12
 978              		.loc 13 160 34 view .LVU295
 979 0076 E7EE267A 		vfma.f32	s15, s14, s13
 980              		.loc 13 160 16 view .LVU296
 981 007a C8ED007A 		vstr.32	s15, [r8]
 982              	.L58:
 161:Looper.cpp    ****     }
 162:Looper.cpp    **** }
 983              		.loc 13 162 1 view .LVU297
 984 007e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 985              	.LVL32:
 986              	.L70:
 139:Looper.cpp    ****     }
 987              		.loc 13 139 9 is_stmt 1 view .LVU298
 139:Looper.cpp    ****     }
 988              		.loc 13 139 20 is_stmt 0 view .LVU299
 989 0082 1146     		mov	r1, r2
 990              	.LVL33:
 139:Looper.cpp    ****     }
 991              		.loc 13 139 20 view .LVU300
 992 0084 2046     		mov	r0, r4
 993              	.LVL34:
 139:Looper.cpp    ****     }
 994              		.loc 13 139 20 view .LVU301
 995 0086 FFF7FEFF 		bl	_Z11WriteBufferPKfj
 996              	.LVL35:
 139:Looper.cpp    ****     }
 997              		.loc 13 139 20 view .LVU302
 998 008a 2F78     		ldrb	r7, [r5]	@ zero_extendqisi2
 999 008c C1E7     		b	.L59
 1000              	.L72:
 1001 008e 00BF     		.align	2
 1002              	.L71:
 1003 0090 00000000 		.word	.LANCHOR1
 1004 0094 00000000 		.word	.LANCHOR3
 1005 0098 00000000 		.word	buf
 1006 009c 00000000 		.word	.LANCHOR4
 1007 00a0 00BADB00 		.word	14400000
 1008 00a4 00000000 		.word	.LANCHOR0
 1009 00a8 00000000 		.word	.LANCHOR5
 1010 00ac 00000000 		.word	.LANCHOR7
 1011 00b0 00000000 		.word	.LANCHOR2
ARM GAS  /tmp/ccbdW5h5.s 			page 34


 1012              		.cfi_endproc
 1013              	.LFE4225:
 1015              		.section	.text._ZL13AudioCallbackPKfPfj,"ax",%progbits
 1016              		.align	1
 1017              		.p2align 2,,3
 1018              		.syntax unified
 1019              		.thumb
 1020              		.thumb_func
 1021              		.fpu fpv5-d16
 1023              	_ZL13AudioCallbackPKfPfj:
 1024              	.LVL36:
 1025              	.LFB4219:
  32:Looper.cpp    ****     float output = 0;
 1026              		.loc 13 32 1 is_stmt 1 view -0
 1027              		.cfi_startproc
 1028              		@ args = 0, pretend = 0, frame = 8
 1029              		@ frame_needed = 0, uses_anonymous_args = 0
  33:Looper.cpp    **** 
 1030              		.loc 13 33 5 view .LVU304
  32:Looper.cpp    ****     float output = 0;
 1031              		.loc 13 32 1 is_stmt 0 view .LVU305
 1032 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1033              		.cfi_def_cfa_offset 20
 1034              		.cfi_offset 4, -20
 1035              		.cfi_offset 5, -16
 1036              		.cfi_offset 6, -12
 1037              		.cfi_offset 7, -8
 1038              		.cfi_offset 14, -4
  33:Looper.cpp    **** 
 1039              		.loc 13 33 11 view .LVU306
 1040 0002 0023     		movs	r3, #0
  32:Looper.cpp    ****     float output = 0;
 1041              		.loc 13 32 1 view .LVU307
 1042 0004 83B0     		sub	sp, sp, #12
 1043              		.cfi_def_cfa_offset 32
  32:Looper.cpp    ****     float output = 0;
 1044              		.loc 13 32 1 view .LVU308
 1045 0006 1646     		mov	r6, r2
 1046 0008 0746     		mov	r7, r0
 1047 000a 0D46     		mov	r5, r1
  33:Looper.cpp    **** 
 1048              		.loc 13 33 11 view .LVU309
 1049 000c 0193     		str	r3, [sp, #4]	@ float
  35:Looper.cpp    **** 
 1050              		.loc 13 35 5 is_stmt 1 view .LVU310
  35:Looper.cpp    **** 
 1051              		.loc 13 35 13 is_stmt 0 view .LVU311
 1052 000e FFF7FEFF 		bl	_Z8Controlsv
 1053              	.LVL37:
  37:Looper.cpp    ****     {
 1054              		.loc 13 37 5 is_stmt 1 view .LVU312
 1055              	.LBB362:
  37:Looper.cpp    ****     {
 1056              		.loc 13 37 25 view .LVU313
 1057 0012 86B1     		cbz	r6, .L73
 1058 0014 013E     		subs	r6, r6, #1
 1059              	.LVL38:
ARM GAS  /tmp/ccbdW5h5.s 			page 35


  37:Looper.cpp    ****     {
 1060              		.loc 13 37 16 is_stmt 0 view .LVU314
 1061 0016 0024     		movs	r4, #0
 1062 0018 26F00106 		bic	r6, r6, #1
 1063              	.LVL39:
 1064              	.L75:
  39:Looper.cpp    **** 
 1065              		.loc 13 39 9 is_stmt 1 discriminator 2 view .LVU315
  39:Looper.cpp    **** 
 1066              		.loc 13 39 20 is_stmt 0 discriminator 2 view .LVU316
 1067 001c 2246     		mov	r2, r4
 1068 001e 3946     		mov	r1, r7
 1069 0020 01A8     		add	r0, sp, #4
 1070 0022 FFF7FEFF 		bl	_Z11NextSamplesRfPKfj
 1071              	.LVL40:
  42:Looper.cpp    ****     }
 1072              		.loc 13 42 9 is_stmt 1 discriminator 2 view .LVU317
  42:Looper.cpp    ****     }
 1073              		.loc 13 42 29 is_stmt 0 discriminator 2 view .LVU318
 1074 0026 019A     		ldr	r2, [sp, #4]	@ float
  37:Looper.cpp    ****     {
 1075              		.loc 13 37 25 discriminator 2 view .LVU319
 1076 0028 B442     		cmp	r4, r6
 1077 002a 04F10204 		add	r4, r4, #2
 1078              	.LVL41:
  42:Looper.cpp    ****     }
 1079              		.loc 13 42 29 discriminator 2 view .LVU320
 1080 002e 6A60     		str	r2, [r5, #4]	@ float
  42:Looper.cpp    ****     }
 1081              		.loc 13 42 16 discriminator 2 view .LVU321
 1082 0030 45F8082B 		str	r2, [r5], #8	@ float
  37:Looper.cpp    ****     {
 1083              		.loc 13 37 5 is_stmt 1 discriminator 2 view .LVU322
 1084              	.LVL42:
  37:Looper.cpp    ****     {
 1085              		.loc 13 37 25 discriminator 2 view .LVU323
 1086 0034 F2D1     		bne	.L75
 1087              	.L73:
  37:Looper.cpp    ****     {
 1088              		.loc 13 37 25 is_stmt 0 discriminator 2 view .LVU324
 1089              	.LBE362:
  44:Looper.cpp    **** 
 1090              		.loc 13 44 1 view .LVU325
 1091 0036 03B0     		add	sp, sp, #12
 1092              		.cfi_def_cfa_offset 20
 1093              		@ sp needed
 1094 0038 F0BD     		pop	{r4, r5, r6, r7, pc}
  44:Looper.cpp    **** 
 1095              		.loc 13 44 1 view .LVU326
 1096              		.cfi_endproc
 1097              	.LFE4219:
 1099 003a 00BF     		.section	.text.startup._GLOBAL__sub_I_first,"ax",%progbits
 1100              		.align	1
 1101              		.p2align 2,,3
 1102              		.syntax unified
 1103              		.thumb
 1104              		.thumb_func
ARM GAS  /tmp/ccbdW5h5.s 			page 36


 1105              		.fpu fpv5-d16
 1107              	_GLOBAL__sub_I_first:
 1108              	.LFB4783:
 1109              		.loc 13 162 1 is_stmt 1 view -0
 1110              		.cfi_startproc
 1111              		@ args = 0, pretend = 0, frame = 0
 1112              		@ frame_needed = 0, uses_anonymous_args = 0
 1113              		@ link register save eliminated.
 1114              	.LBB424:
 1115              	.LBI424:
 1116              		.loc 13 162 1 view .LVU328
 1117              	.LVL43:
 1118              	.LBB425:
 1119              	.LBB426:
 1120              	.LBI426:
  35:../../libdaisy/src/daisy_pod.h ****     ~DaisyPod() {}
 1121              		.loc 1 35 5 view .LVU329
 1122              	.LBB427:
 1123              	.LBB428:
 1124              	.LBI428:
  21:../../libdaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 1125              		.loc 8 21 5 view .LVU330
 1126              	.LBB429:
 1127              	.LBB430:
 1128              	.LBI430:
  62:../../libdaisy/src/hid/audio.h ****     ~AudioHandle() {}
 1129              		.loc 12 62 5 view .LVU331
 1130              	.LBE430:
 1131              	.LBE429:
 1132              	.LBE428:
 1133              	.LBB445:
 1134              	.LBB446:
 1135              	.LBB447:
 1136              	.LBB448:
 1137              	.LBB449:
 1138              	.LBB450:
 1139              	.LBB451:
  36:../../libdaisy/src/hid/midi.h ****             tx     = {DSY_GPIOB, 6};
 1140              		.loc 2 36 20 is_stmt 0 view .LVU332
 1141 0000 134A     		ldr	r2, .L83
 1142              	.LBE451:
 1143              	.LBE450:
 1144              	.LBE449:
 1145              	.LBE448:
 1146              	.LBE447:
 1147              	.LBE446:
 1148              	.LBE445:
 1149              	.LBB492:
 1150              	.LBB443:
 1151              	.LBB435:
 1152              	.LBB431:
 1153              	.LBB432:
  62:../../libdaisy/src/hid/audio.h ****     ~AudioHandle() {}
 1154              		.loc 12 62 35 view .LVU333
 1155 0002 0023     		movs	r3, #0
 1156 0004 1348     		ldr	r0, .L83+4
 1157              	.LBE432:
ARM GAS  /tmp/ccbdW5h5.s 			page 37


 1158              	.LBE431:
 1159              	.LBE435:
 1160              	.LBE443:
 1161              	.LBE492:
 1162              	.LBB493:
 1163              	.LBB489:
 1164              	.LBB486:
 1165              	.LBB467:
 1166              	.LBB462:
 1167              	.LBB457:
 1168              	.LBB452:
  35:../../libdaisy/src/hid/midi.h ****             rx     = {DSY_GPIOB, 7};
 1169              		.loc 2 35 20 view .LVU334
 1170 0006 49F21C21 		movw	r1, #37404
 1171              	.LBE452:
 1172              	.LBE457:
 1173              	.LBE462:
 1174              	.LBE467:
 1175              	.LBE486:
 1176              	.LBE489:
 1177              	.LBE493:
 1178              	.LBE427:
 1179              	.LBE426:
 1180              	.LBE425:
 1181              	.LBE424:
 1182              		.loc 13 162 1 view .LVU335
 1183 000a 70B4     		push	{r4, r5, r6}
 1184              		.cfi_def_cfa_offset 12
 1185              		.cfi_offset 4, -12
 1186              		.cfi_offset 5, -8
 1187              		.cfi_offset 6, -4
 1188              	.LBB518:
 1189              	.LBB516:
 1190              	.LBB515:
 1191              	.LBB514:
 1192              	.LBB494:
 1193              	.LBB490:
 1194              	.LBB487:
 1195              	.LBB468:
 1196              	.LBB463:
 1197              	.LBB458:
 1198              	.LBB453:
  36:../../libdaisy/src/hid/midi.h ****             tx     = {DSY_GPIOB, 6};
 1199              		.loc 2 36 20 view .LVU336
 1200 000c 1688     		ldrh	r6, [r2]
 1201 000e 49F22025 		movw	r5, #37408
  37:../../libdaisy/src/hid/midi.h ****         }
 1202              		.loc 2 37 20 view .LVU337
 1203 0012 49F22224 		movw	r4, #37410
 1204 0016 9288     		ldrh	r2, [r2, #4]
  36:../../libdaisy/src/hid/midi.h ****             tx     = {DSY_GPIOB, 6};
 1205              		.loc 2 36 20 view .LVU338
 1206 0018 4653     		strh	r6, [r0, r5]	@ movhi
 1207              	.LBE453:
 1208              	.LBE458:
 1209              	.LBE463:
 1210              	.LBE468:
ARM GAS  /tmp/ccbdW5h5.s 			page 38


 1211              	.LBB469:
 1212              	.LBB470:
 1213              	.LBB471:
 1214              	.LBB472:
 1215              		.file 14 "../../libdaisy/src/per/uart.h"
   1:../../libdaisy/src/per/uart.h **** /* 
   2:../../libdaisy/src/per/uart.h **** TODO
   3:../../libdaisy/src/per/uart.h **** - UART1 defaults to DMA, add flexible config for DMA on all periphs
   4:../../libdaisy/src/per/uart.h **** - Transmit function improvements.
   5:../../libdaisy/src/per/uart.h **** - Overflow handling, etc. for Rx Queue.
   6:../../libdaisy/src/per/uart.h **** */
   7:../../libdaisy/src/per/uart.h **** 
   8:../../libdaisy/src/per/uart.h **** #pragma once
   9:../../libdaisy/src/per/uart.h **** #ifndef DSY_UART_H
  10:../../libdaisy/src/per/uart.h **** #define DSY_UART_H /**< macro */
  11:../../libdaisy/src/per/uart.h **** #include "daisy_core.h"
  12:../../libdaisy/src/per/uart.h **** 
  13:../../libdaisy/src/per/uart.h **** 
  14:../../libdaisy/src/per/uart.h **** namespace daisy
  15:../../libdaisy/src/per/uart.h **** {
  16:../../libdaisy/src/per/uart.h **** /** @addtogroup serial
  17:../../libdaisy/src/per/uart.h ****     @{
  18:../../libdaisy/src/per/uart.h ****     */
  19:../../libdaisy/src/per/uart.h **** 
  20:../../libdaisy/src/per/uart.h **** /** 
  21:../../libdaisy/src/per/uart.h ****     Uart Peripheral
  22:../../libdaisy/src/per/uart.h ****     @author shensley
  23:../../libdaisy/src/per/uart.h ****     @date March 2020
  24:../../libdaisy/src/per/uart.h ****     */
  25:../../libdaisy/src/per/uart.h **** class UartHandler
  26:../../libdaisy/src/per/uart.h **** {
  27:../../libdaisy/src/per/uart.h ****   public:
  28:../../libdaisy/src/per/uart.h ****     struct Config
  29:../../libdaisy/src/per/uart.h ****     {
  30:../../libdaisy/src/per/uart.h ****         enum class Peripheral
  31:../../libdaisy/src/per/uart.h ****         {
  32:../../libdaisy/src/per/uart.h ****             USART_1,
  33:../../libdaisy/src/per/uart.h ****             USART_2,
  34:../../libdaisy/src/per/uart.h ****             USART_3,
  35:../../libdaisy/src/per/uart.h ****             UART_4,
  36:../../libdaisy/src/per/uart.h ****             UART_5,
  37:../../libdaisy/src/per/uart.h ****             USART_6,
  38:../../libdaisy/src/per/uart.h ****             UART_7,
  39:../../libdaisy/src/per/uart.h ****             UART_8,
  40:../../libdaisy/src/per/uart.h ****             LPUART_1,
  41:../../libdaisy/src/per/uart.h ****         };
  42:../../libdaisy/src/per/uart.h **** 
  43:../../libdaisy/src/per/uart.h ****         enum class StopBits
  44:../../libdaisy/src/per/uart.h ****         {
  45:../../libdaisy/src/per/uart.h ****             BITS_0_5,
  46:../../libdaisy/src/per/uart.h ****             BITS_1,
  47:../../libdaisy/src/per/uart.h ****             BITS_1_5,
  48:../../libdaisy/src/per/uart.h ****             BITS_2,
  49:../../libdaisy/src/per/uart.h ****         };
  50:../../libdaisy/src/per/uart.h **** 
  51:../../libdaisy/src/per/uart.h ****         enum class Parity
  52:../../libdaisy/src/per/uart.h ****         {
ARM GAS  /tmp/ccbdW5h5.s 			page 39


  53:../../libdaisy/src/per/uart.h ****             NONE,
  54:../../libdaisy/src/per/uart.h ****             EVEN,
  55:../../libdaisy/src/per/uart.h ****             ODD,
  56:../../libdaisy/src/per/uart.h ****         };
  57:../../libdaisy/src/per/uart.h **** 
  58:../../libdaisy/src/per/uart.h ****         enum class Mode
  59:../../libdaisy/src/per/uart.h ****         {
  60:../../libdaisy/src/per/uart.h ****             RX,
  61:../../libdaisy/src/per/uart.h ****             TX,
  62:../../libdaisy/src/per/uart.h ****             TX_RX,
  63:../../libdaisy/src/per/uart.h ****         };
  64:../../libdaisy/src/per/uart.h **** 
  65:../../libdaisy/src/per/uart.h ****         enum class WordLength
  66:../../libdaisy/src/per/uart.h ****         {
  67:../../libdaisy/src/per/uart.h ****             BITS_7,
  68:../../libdaisy/src/per/uart.h ****             BITS_8,
  69:../../libdaisy/src/per/uart.h ****             BITS_9,
  70:../../libdaisy/src/per/uart.h ****         };
  71:../../libdaisy/src/per/uart.h **** 
  72:../../libdaisy/src/per/uart.h ****         struct
  73:../../libdaisy/src/per/uart.h ****         {
  74:../../libdaisy/src/per/uart.h ****             dsy_gpio_pin tx; /**< & */
  75:../../libdaisy/src/per/uart.h ****             dsy_gpio_pin rx; /**< & */
  76:../../libdaisy/src/per/uart.h ****         } pin_config;        /**< & */
  77:../../libdaisy/src/per/uart.h **** 
  78:../../libdaisy/src/per/uart.h ****         Peripheral periph;
  79:../../libdaisy/src/per/uart.h ****         StopBits   stopbits;
  80:../../libdaisy/src/per/uart.h ****         Parity     parity;
  81:../../libdaisy/src/per/uart.h ****         Mode       mode;
  82:../../libdaisy/src/per/uart.h ****         WordLength wordlength;
  83:../../libdaisy/src/per/uart.h ****         uint32_t   baudrate;
  84:../../libdaisy/src/per/uart.h ****     };
  85:../../libdaisy/src/per/uart.h **** 
  86:../../libdaisy/src/per/uart.h **** 
  87:../../libdaisy/src/per/uart.h ****     UartHandler() : pimpl_(nullptr) {}
 1216              		.loc 14 87 35 view .LVU339
 1217 001a 49F22426 		movw	r6, #37412
 1218              	.LBE472:
 1219              	.LBE471:
 1220              	.LBE470:
 1221              	.LBE469:
 1222              	.LBB477:
 1223              	.LBB464:
 1224              	.LBB459:
 1225              	.LBB454:
  37:../../libdaisy/src/hid/midi.h ****         }
 1226              		.loc 2 37 20 view .LVU340
 1227 001e 0253     		strh	r2, [r0, r4]	@ movhi
 1228              	.LBE454:
 1229              	.LBE459:
 1230              	.LBE464:
 1231              	.LBE477:
  82:../../libdaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1232              		.loc 2 82 19 view .LVU341
 1233 0020 49F22824 		movw	r4, #37416
 1234 0024 0C4D     		ldr	r5, .L83+8
 1235 0026 49F22C22 		movw	r2, #37420
ARM GAS  /tmp/ccbdW5h5.s 			page 40


 1236              	.LBB478:
 1237              	.LBB465:
 1238              	.LBB460:
 1239              	.LBB455:
  35:../../libdaisy/src/hid/midi.h ****             rx     = {DSY_GPIOB, 7};
 1240              		.loc 2 35 20 view .LVU342
 1241 002a 4350     		str	r3, [r0, r1]
 1242              	.LBE455:
 1243              	.LBE460:
 1244              	.LBE465:
 1245              	.LBE478:
  82:../../libdaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1246              		.loc 2 82 19 view .LVU343
 1247 002c 4FF60F01 		movw	r1, #63503
 1248              	.LBB479:
 1249              	.LBB475:
 1250              	.LBB474:
 1251              	.LBB473:
 1252              		.loc 14 87 35 view .LVU344
 1253 0030 8351     		str	r3, [r0, r6]
 1254              	.LBE473:
 1255              	.LBE474:
 1256              	.LBE475:
 1257              	.LBE479:
  82:../../libdaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1258              		.loc 2 82 19 view .LVU345
 1259 0032 0551     		str	r5, [r0, r4]
 1260 0034 0724     		movs	r4, #7
 1261              	.LBE487:
 1262              	.LBE490:
 1263              	.LBE494:
 1264              	.LBB495:
 1265              	.LBB444:
 1266              	.LBB436:
 1267              	.LBB434:
 1268              	.LBB433:
  62:../../libdaisy/src/hid/audio.h ****     ~AudioHandle() {}
 1269              		.loc 12 62 35 view .LVU346
 1270 0036 4361     		str	r3, [r0, #20]
 1271              	.LVL44:
  62:../../libdaisy/src/hid/audio.h ****     ~AudioHandle() {}
 1272              		.loc 12 62 35 view .LVU347
 1273              	.LBE433:
 1274              	.LBE434:
 1275              	.LBE436:
 1276              	.LBB437:
 1277              	.LBI437:
  84:../../libdaisy/src/per/adc.h ****     ~AdcHandle() {}
 1278              		.loc 11 84 5 is_stmt 1 view .LVU348
  84:../../libdaisy/src/per/adc.h ****     ~AdcHandle() {}
 1279              		.loc 11 84 5 is_stmt 0 view .LVU349
 1280              	.LBE437:
 1281              	.LBB438:
 1282              	.LBI438:
 1283              		.file 15 "../../libdaisy/src/per/dac.h"
   1:../../libdaisy/src/per/dac.h **** #pragma once
   2:../../libdaisy/src/per/dac.h **** #ifndef DSY_DAC_H
ARM GAS  /tmp/ccbdW5h5.s 			page 41


   3:../../libdaisy/src/per/dac.h **** #define DSY_DAC_H
   4:../../libdaisy/src/per/dac.h **** 
   5:../../libdaisy/src/per/dac.h **** #include "daisy_core.h"
   6:../../libdaisy/src/per/dac.h **** 
   7:../../libdaisy/src/per/dac.h **** namespace daisy
   8:../../libdaisy/src/per/dac.h **** {
   9:../../libdaisy/src/per/dac.h **** /** DAC handle for Built-in DAC Peripheral 
  10:../../libdaisy/src/per/dac.h ****  ** 
  11:../../libdaisy/src/per/dac.h ****  ** For now only Normal Mode is supported,
  12:../../libdaisy/src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  13:../../libdaisy/src/per/dac.h ****  **
  14:../../libdaisy/src/per/dac.h ****  ** For now connecting the DAC through other internal periphearls is also not supported.
  15:../../libdaisy/src/per/dac.h ****  **
  16:../../libdaisy/src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  17:../../libdaisy/src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  18:../../libdaisy/src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  19:../../libdaisy/src/per/dac.h ****  ***/
  20:../../libdaisy/src/per/dac.h **** class DacHandle
  21:../../libdaisy/src/per/dac.h **** {
  22:../../libdaisy/src/per/dac.h ****   public:
  23:../../libdaisy/src/per/dac.h ****     /** Return Values for the DacHandle class */
  24:../../libdaisy/src/per/dac.h ****     enum class Result
  25:../../libdaisy/src/per/dac.h ****     {
  26:../../libdaisy/src/per/dac.h ****         OK,
  27:../../libdaisy/src/per/dac.h ****         ERR,
  28:../../libdaisy/src/per/dac.h ****     };
  29:../../libdaisy/src/per/dac.h **** 
  30:../../libdaisy/src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  31:../../libdaisy/src/per/dac.h ****     enum class Channel
  32:../../libdaisy/src/per/dac.h ****     {
  33:../../libdaisy/src/per/dac.h ****         ONE,
  34:../../libdaisy/src/per/dac.h ****         TWO,
  35:../../libdaisy/src/per/dac.h ****         BOTH,
  36:../../libdaisy/src/per/dac.h ****     };
  37:../../libdaisy/src/per/dac.h **** 
  38:../../libdaisy/src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  39:../../libdaisy/src/per/dac.h ****      **
  40:../../libdaisy/src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  41:../../libdaisy/src/per/dac.h ****      **
  42:../../libdaisy/src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  43:../../libdaisy/src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  44:../../libdaisy/src/per/dac.h ****      ***/
  45:../../libdaisy/src/per/dac.h ****     enum class Mode
  46:../../libdaisy/src/per/dac.h ****     {
  47:../../libdaisy/src/per/dac.h ****         POLLING,
  48:../../libdaisy/src/per/dac.h ****         DMA,
  49:../../libdaisy/src/per/dac.h ****     };
  50:../../libdaisy/src/per/dac.h **** 
  51:../../libdaisy/src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  52:../../libdaisy/src/per/dac.h ****      ** The output range will be: 0V - VDDA
  53:../../libdaisy/src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  54:../../libdaisy/src/per/dac.h ****      ***/
  55:../../libdaisy/src/per/dac.h ****     enum class BitDepth
  56:../../libdaisy/src/per/dac.h ****     {
  57:../../libdaisy/src/per/dac.h ****         BITS_8,
  58:../../libdaisy/src/per/dac.h ****         BITS_12
  59:../../libdaisy/src/per/dac.h ****     };
ARM GAS  /tmp/ccbdW5h5.s 			page 42


  60:../../libdaisy/src/per/dac.h **** 
  61:../../libdaisy/src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  62:../../libdaisy/src/per/dac.h ****     enum class BufferState
  63:../../libdaisy/src/per/dac.h ****     {
  64:../../libdaisy/src/per/dac.h ****         ENABLED,
  65:../../libdaisy/src/per/dac.h ****         DISABLED,
  66:../../libdaisy/src/per/dac.h ****     };
  67:../../libdaisy/src/per/dac.h **** 
  68:../../libdaisy/src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  69:../../libdaisy/src/per/dac.h ****     struct Config
  70:../../libdaisy/src/per/dac.h ****     {
  71:../../libdaisy/src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  72:../../libdaisy/src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  73:../../libdaisy/src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  74:../../libdaisy/src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  75:../../libdaisy/src/per/dac.h ****         uint32_t target_samplerate;
  76:../../libdaisy/src/per/dac.h **** 
  77:../../libdaisy/src/per/dac.h ****         Channel     chn;
  78:../../libdaisy/src/per/dac.h ****         Mode        mode;
  79:../../libdaisy/src/per/dac.h ****         BitDepth    bitdepth;
  80:../../libdaisy/src/per/dac.h ****         BufferState buff_state;
  81:../../libdaisy/src/per/dac.h ****     };
  82:../../libdaisy/src/per/dac.h **** 
  83:../../libdaisy/src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 1284              		.loc 15 83 5 is_stmt 1 view .LVU350
 1285              	.LBB439:
 1286              	.LBB440:
 1287              		.loc 15 83 33 is_stmt 0 view .LVU351
 1288 0038 0362     		str	r3, [r0, #32]
 1289              	.LVL45:
 1290              		.loc 15 83 33 view .LVU352
 1291              	.LBE440:
 1292              	.LBE439:
 1293              	.LBE438:
 1294              	.LBB441:
 1295              	.LBI441:
  40:../../libdaisy/src/hid/usb.h **** 
 1296              		.loc 10 40 5 is_stmt 1 view .LVU353
  40:../../libdaisy/src/hid/usb.h **** 
 1297              		.loc 10 40 5 is_stmt 0 view .LVU354
 1298              	.LBE441:
 1299              	.LBB442:
 1300              	.LBI442:
  58:../../libdaisy/src/sys/system.h ****     ~System() {}
 1301              		.loc 9 58 5 is_stmt 1 view .LVU355
  58:../../libdaisy/src/sys/system.h ****     ~System() {}
 1302              		.loc 9 58 5 is_stmt 0 view .LVU356
 1303              	.LBE442:
 1304              	.LBE444:
 1305              	.LBE495:
 1306              	.LBB496:
 1307              	.LBI496:
  20:../../libdaisy/src/hid/encoder.h ****     ~Encoder() {}
 1308              		.loc 7 20 5 is_stmt 1 view .LVU357
 1309              	.LBB497:
 1310              	.LBB498:
 1311              	.LBI498:
ARM GAS  /tmp/ccbdW5h5.s 			page 43


  40:../../libdaisy/src/hid/switch.h ****     ~Switch() {}
 1312              		.loc 5 40 5 view .LVU358
  40:../../libdaisy/src/hid/switch.h ****     ~Switch() {}
 1313              		.loc 5 40 5 is_stmt 0 view .LVU359
 1314              	.LBE498:
 1315              	.LBE497:
 1316              	.LBE496:
 1317              	.LBB499:
 1318              	.LBI499:
  21:../../libdaisy/src/hid/ctrl.h ****     /** destructor */
 1319              		.loc 6 21 5 is_stmt 1 view .LVU360
  21:../../libdaisy/src/hid/ctrl.h ****     /** destructor */
 1320              		.loc 6 21 5 is_stmt 0 view .LVU361
 1321              	.LBE499:
 1322              	.LBB500:
 1323              	.LBI500:
  21:../../libdaisy/src/hid/ctrl.h ****     /** destructor */
 1324              		.loc 6 21 5 is_stmt 1 view .LVU362
  21:../../libdaisy/src/hid/ctrl.h ****     /** destructor */
 1325              		.loc 6 21 5 is_stmt 0 view .LVU363
 1326              	.LBE500:
 1327              	.LBB501:
 1328              	.LBI501:
  40:../../libdaisy/src/hid/switch.h ****     ~Switch() {}
 1329              		.loc 5 40 5 is_stmt 1 view .LVU364
  40:../../libdaisy/src/hid/switch.h ****     ~Switch() {}
 1330              		.loc 5 40 5 is_stmt 0 view .LVU365
 1331              	.LBE501:
 1332              	.LBB502:
 1333              	.LBI502:
  40:../../libdaisy/src/hid/switch.h ****     ~Switch() {}
 1334              		.loc 5 40 5 is_stmt 1 view .LVU366
  40:../../libdaisy/src/hid/switch.h ****     ~Switch() {}
 1335              		.loc 5 40 5 is_stmt 0 view .LVU367
 1336              	.LBE502:
 1337              	.LBB503:
 1338              	.LBI503:
  17:../../libdaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
 1339              		.loc 3 17 5 is_stmt 1 view .LVU368
 1340              	.LBB504:
 1341              	.LBB505:
 1342              	.LBI505:
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
 1343              		.loc 4 24 5 view .LVU369
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
 1344              		.loc 4 24 5 is_stmt 0 view .LVU370
 1345              	.LBE505:
 1346              	.LBB506:
 1347              	.LBI506:
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
 1348              		.loc 4 24 5 is_stmt 1 view .LVU371
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
 1349              		.loc 4 24 5 is_stmt 0 view .LVU372
 1350              	.LBE506:
 1351              	.LBB507:
 1352              	.LBI507:
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
ARM GAS  /tmp/ccbdW5h5.s 			page 44


 1353              		.loc 4 24 5 is_stmt 1 view .LVU373
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
 1354              		.loc 4 24 5 is_stmt 0 view .LVU374
 1355              	.LBE507:
 1356              	.LBE504:
 1357              	.LBE503:
 1358              	.LBB508:
 1359              	.LBI508:
  17:../../libdaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
 1360              		.loc 3 17 5 is_stmt 1 view .LVU375
 1361              	.LBB509:
 1362              	.LBB510:
 1363              	.LBI510:
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
 1364              		.loc 4 24 5 view .LVU376
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
 1365              		.loc 4 24 5 is_stmt 0 view .LVU377
 1366              	.LBE510:
 1367              	.LBB511:
 1368              	.LBI511:
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
 1369              		.loc 4 24 5 is_stmt 1 view .LVU378
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
 1370              		.loc 4 24 5 is_stmt 0 view .LVU379
 1371              	.LBE511:
 1372              	.LBB512:
 1373              	.LBI512:
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
 1374              		.loc 4 24 5 is_stmt 1 view .LVU380
  24:../../libdaisy/src/hid/led.h ****     ~Led() {}
 1375              		.loc 4 24 5 is_stmt 0 view .LVU381
 1376              	.LBE512:
 1377              	.LBE509:
 1378              	.LBE508:
 1379              	.LBB513:
 1380              	.LBI445:
  82:../../libdaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1381              		.loc 2 82 5 is_stmt 1 view .LVU382
 1382              	.LBB491:
 1383              	.LBB488:
 1384              	.LBB480:
 1385              	.LBI480:
 1386              		.loc 14 87 5 view .LVU383
 1387              	.LBB481:
 1388              	.LBB482:
 1389              		.loc 14 87 35 is_stmt 0 view .LVU384
 1390 003a C0F87431 		str	r3, [r0, #372]
 1391              	.LVL46:
 1392              		.loc 14 87 35 view .LVU385
 1393              	.LBE482:
 1394              	.LBE481:
 1395              	.LBE480:
 1396              	.LBB483:
 1397              	.LBI483:
 1398              		.file 16 "../../libdaisy/src/util/ringbuffer.h"
   1:../../libdaisy/src/util/ringbuffer.h **** #pragma once
   2:../../libdaisy/src/util/ringbuffer.h **** #ifndef DSY_RINGBUFFER_H
ARM GAS  /tmp/ccbdW5h5.s 			page 45


   3:../../libdaisy/src/util/ringbuffer.h **** #define DSY_RINGBUFFER_H
   4:../../libdaisy/src/util/ringbuffer.h **** 
   5:../../libdaisy/src/util/ringbuffer.h **** #include <algorithm>
   6:../../libdaisy/src/util/ringbuffer.h **** 
   7:../../libdaisy/src/util/ringbuffer.h **** namespace daisy
   8:../../libdaisy/src/util/ringbuffer.h **** {
   9:../../libdaisy/src/util/ringbuffer.h **** /** @addtogroup utility
  10:../../libdaisy/src/util/ringbuffer.h ****     @{
  11:../../libdaisy/src/util/ringbuffer.h **** */
  12:../../libdaisy/src/util/ringbuffer.h **** 
  13:../../libdaisy/src/util/ringbuffer.h **** /**
  14:../../libdaisy/src/util/ringbuffer.h **** Utility Ring Buffer \n 
  15:../../libdaisy/src/util/ringbuffer.h **** imported from pichenettes/stmlib
  16:../../libdaisy/src/util/ringbuffer.h **** */
  17:../../libdaisy/src/util/ringbuffer.h **** template <typename T, size_t size>
  18:../../libdaisy/src/util/ringbuffer.h **** class RingBuffer
  19:../../libdaisy/src/util/ringbuffer.h **** {
  20:../../libdaisy/src/util/ringbuffer.h ****   public:
  21:../../libdaisy/src/util/ringbuffer.h ****     RingBuffer() {}
 1399              		.loc 16 21 5 is_stmt 1 view .LVU386
 1400              		.loc 16 21 5 is_stmt 0 view .LVU387
 1401              	.LBE483:
 1402              	.LBB484:
 1403              	.LBI448:
  84:../../libdaisy/src/hid/midi.h **** 
  85:../../libdaisy/src/hid/midi.h ****     struct Config
 1404              		.loc 2 85 12 is_stmt 1 view .LVU388
 1405              	.LBB466:
 1406              	.LBI449:
  33:../../libdaisy/src/hid/midi.h ****         {
 1407              		.loc 2 33 9 view .LVU389
 1408              	.LBB461:
 1409              	.LBB456:
  35:../../libdaisy/src/hid/midi.h ****             rx     = {DSY_GPIOB, 7};
 1410              		.loc 2 35 13 view .LVU390
  36:../../libdaisy/src/hid/midi.h ****             tx     = {DSY_GPIOB, 6};
 1411              		.loc 2 36 13 view .LVU391
  37:../../libdaisy/src/hid/midi.h ****         }
 1412              		.loc 2 37 13 view .LVU392
  37:../../libdaisy/src/hid/midi.h ****         }
 1413              		.loc 2 37 13 is_stmt 0 view .LVU393
 1414              	.LBE456:
 1415              	.LBE461:
 1416              	.LBE466:
 1417              	.LBE484:
 1418              	.LBB485:
 1419              	.LBI469:
  24:../../libdaisy/src/hid/midi.h ****     ~MidiUartTransport() {}
 1420              		.loc 2 24 5 is_stmt 1 view .LVU394
 1421              	.LBB476:
 1422              	.LBI470:
 1423              		.loc 14 87 5 view .LVU395
 1424              		.loc 14 87 5 is_stmt 0 view .LVU396
 1425              	.LBE476:
 1426              	.LBE485:
  82:../../libdaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1427              		.loc 2 82 19 view .LVU397
ARM GAS  /tmp/ccbdW5h5.s 			page 46


 1428 003e 49F22E23 		movw	r3, #37422
 1429 0042 8152     		strh	r1, [r0, r2]	@ movhi
 1430 0044 C454     		strb	r4, [r0, r3]
 1431              	.LVL47:
  82:../../libdaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1432              		.loc 2 82 19 view .LVU398
 1433              	.LBE488:
 1434              	.LBE491:
 1435              	.LBE513:
 1436              	.LBE514:
 1437              	.LBE515:
   9:Looper.cpp    **** 
 1438              		.loc 13 9 17 view .LVU399
 1439 0046 054A     		ldr	r2, .L83+12
 1440 0048 0549     		ldr	r1, .L83+16
 1441              	.LBE516:
 1442              	.LBE518:
 1443              		.loc 13 162 1 view .LVU400
 1444 004a 70BC     		pop	{r4, r5, r6}
 1445              		.cfi_restore 6
 1446              		.cfi_restore 5
 1447              		.cfi_restore 4
 1448              		.cfi_def_cfa_offset 0
 1449              	.LBB519:
 1450              	.LBB517:
   9:Looper.cpp    **** 
 1451              		.loc 13 9 17 view .LVU401
 1452 004c FFF7FEBF 		b	__aeabi_atexit
 1453              	.LVL48:
 1454              	.L84:
 1455              		.align	2
 1456              	.L83:
 1457 0050 00000000 		.word	.LANCHOR8
 1458 0054 00000000 		.word	_ZL3pod
 1459 0058 80707FF0 		.word	-260083584
 1460 005c 00000000 		.word	__dso_handle
 1461 0060 00000000 		.word	_ZN5daisy8DaisyPodD1Ev
 1462              	.LBE517:
 1463              	.LBE519:
 1464              		.cfi_endproc
 1465              	.LFE4783:
 1467              		.section	.init_array,"aw",%init_array
 1468              		.align	2
 1469 0000 00000000 		.word	_GLOBAL__sub_I_first(target1)
 1470              		.global	res
 1471              		.global	drywet
 1472              		.global	len
 1473              		.global	mod
 1474              		.global	buf
 1475              		.global	pos
 1476              		.global	play
 1477              		.global	rec
 1478              		.global	first
 1479              		.section	.rodata
 1480              		.align	2
 1481              		.set	.LANCHOR8,. + 0
 1482              	.LC0:
ARM GAS  /tmp/ccbdW5h5.s 			page 47


 1483 0000 01       		.byte	1
 1484 0001 07       		.byte	7
 1485 0002 0000     		.space	2
 1486              	.LC1:
 1487 0004 01       		.byte	1
 1488 0005 06       		.byte	6
 1489              		.section	.bss._ZL3pod,"aw",%nobits
 1490              		.align	2
 1493              	_ZL3pod:
 1494 0000 00000000 		.space	37424
 1494      00000000 
 1494      00000000 
 1494      00000000 
 1494      00000000 
 1495              		.section	.bss.drywet,"aw",%nobits
 1496              		.align	2
 1497              		.set	.LANCHOR7,. + 0
 1500              	drywet:
 1501 0000 00000000 		.space	4
 1502              		.section	.bss.len,"aw",%nobits
 1503              		.align	2
 1504              		.set	.LANCHOR4,. + 0
 1507              	len:
 1508 0000 00000000 		.space	4
 1509              		.section	.bss.play,"aw",%nobits
 1510              		.set	.LANCHOR0,. + 0
 1513              	play:
 1514 0000 00       		.space	1
 1515              		.section	.bss.pos,"aw",%nobits
 1516              		.align	2
 1517              		.set	.LANCHOR3,. + 0
 1520              	pos:
 1521 0000 00000000 		.space	4
 1522              		.section	.bss.rec,"aw",%nobits
 1523              		.set	.LANCHOR1,. + 0
 1526              	rec:
 1527 0000 00       		.space	1
 1528              		.section	.bss.res,"aw",%nobits
 1529              		.set	.LANCHOR6,. + 0
 1532              	res:
 1533 0000 00       		.space	1
 1534              		.section	.data.first,"aw"
 1535              		.set	.LANCHOR2,. + 0
 1538              	first:
 1539 0000 01       		.byte	1
 1540              		.section	.data.mod,"aw"
 1541              		.align	2
 1542              		.set	.LANCHOR5,. + 0
 1545              	mod:
 1546 0000 00BADB00 		.word	14400000
 1547              		.section	.sdram_bss,"aw"
 1548              		.align	2
 1551              	buf:
 1552 0000 00000000 		.space	57600000
 1552      00000000 
 1552      00000000 
 1552      00000000 
ARM GAS  /tmp/ccbdW5h5.s 			page 48


 1552      00000000 
 1553              		.text
 1554              	.Letext0:
 1555              		.file 17 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 1556              		.file 18 "../../libdaisy/Drivers/CMSIS/Include/core_cm7.h"
 1557              		.file 19 "../../libdaisy/Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 1558              		.file 20 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 1559              		.file 21 "/usr/include/newlib/c++/9.2.1/cmath"
 1560              		.file 22 "/usr/include/newlib/c++/9.2.1/bits/std_abs.h"
 1561              		.file 23 "/usr/include/newlib/c++/9.2.1/cstdint"
 1562              		.file 24 "/usr/include/newlib/c++/9.2.1/cstdlib"
 1563              		.file 25 "/usr/include/newlib/c++/9.2.1/type_traits"
 1564              		.file 26 "/usr/include/newlib/c++/9.2.1/arm-none-eabi/thumb/v7e-m+dp/hard/bits/c++config.h"
 1565              		.file 27 "/usr/include/newlib/c++/9.2.1/bits/stl_pair.h"
 1566              		.file 28 "/usr/include/newlib/c++/9.2.1/debug/debug.h"
 1567              		.file 29 "/usr/include/newlib/c++/9.2.1/cwchar"
 1568              		.file 30 "/usr/include/newlib/c++/9.2.1/bits/exception_ptr.h"
 1569              		.file 31 "/usr/include/newlib/c++/9.2.1/new"
 1570              		.file 32 "/usr/include/newlib/c++/9.2.1/clocale"
 1571              		.file 33 "/usr/include/newlib/c++/9.2.1/cstdio"
 1572              		.file 34 "/usr/include/newlib/c++/9.2.1/bits/basic_string.h"
 1573              		.file 35 "/usr/include/newlib/c++/9.2.1/bits/uniform_int_dist.h"
 1574              		.file 36 "/usr/include/newlib/c++/9.2.1/bits/random.h"
 1575              		.file 37 "/usr/include/newlib/c++/9.2.1/cstring"
 1576              		.file 38 "/usr/include/newlib/c++/9.2.1/bits/algorithmfwd.h"
 1577              		.file 39 "/usr/include/newlib/c++/9.2.1/cstdarg"
 1578              		.file 40 "/usr/include/newlib/c++/9.2.1/bits/predefined_ops.h"
 1579              		.file 41 "/usr/include/newlib/c++/9.2.1/ext/new_allocator.h"
 1580              		.file 42 "/usr/include/newlib/c++/9.2.1/ext/numeric_traits.h"
 1581              		.file 43 "/usr/include/newlib/sys/_types.h"
 1582              		.file 44 "<built-in>"
 1583              		.file 45 "/usr/include/newlib/sys/reent.h"
 1584              		.file 46 "/usr/include/newlib/sys/lock.h"
 1585              		.file 47 "/usr/include/newlib/math.h"
 1586              		.file 48 "/usr/include/newlib/stdlib.h"
 1587              		.file 49 "/usr/include/newlib/c++/9.2.1/math.h"
 1588              		.file 50 "../../libdaisy/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 1589              		.file 51 "../../libdaisy/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 1590              		.file 52 "../../DaisySP/Source/Control/adenv.h"
 1591              		.file 53 "../../DaisySP/Source/Utility/dsp.h"
 1592              		.file 54 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdarg.h"
 1593              		.file 55 "/usr/include/newlib/wchar.h"
 1594              		.file 56 "/usr/include/newlib/locale.h"
 1595              		.file 57 "/usr/include/newlib/ctype.h"
 1596              		.file 58 "/usr/include/newlib/stdio.h"
 1597              		.file 59 "/usr/include/newlib/sys/errno.h"
 1598              		.file 60 "/usr/include/newlib/c++/9.2.1/stdlib.h"
 1599              		.file 61 "/usr/include/newlib/string.h"
 1600              		.file 62 "../../libdaisy/src/daisy_core.h"
 1601              		.file 63 "../../libdaisy/src/per/tim.h"
 1602              		.file 64 "../../libdaisy/src/per/sai.h"
 1603              		.file 65 "../../libdaisy/src/hid/MidiEvent.h"
 1604              		.file 66 "../../libdaisy/src/util/wav_format.h"
 1605              		.file 67 "../../libdaisy/src/util/color.h"
 1606              		.file 68 "../../libdaisy/src/per/qspi.h"
 1607              		.file 69 "../../libdaisy/src/per/gpio.h"
 1608              		.file 70 "../../libdaisy/src/dev/sdram.h"
ARM GAS  /tmp/ccbdW5h5.s 			page 49


 1609              		.file 71 "/usr/include/newlib/sys/unistd.h"
 1610              		.file 72 "../../libdaisy/src/util/oled_fonts.h"
 1611              		.file 73 "../../libdaisy/Middlewares/Third_Party/FatFs/src/integer.h"
 1612              		.file 74 "../../libdaisy/Middlewares/Third_Party/FatFs/src/ff.h"
 1613              		.file 75 "../../libdaisy/Middlewares/Third_Party/FatFs/src/diskio.h"
 1614              		.file 76 "../../libdaisy/Middlewares/Third_Party/FatFs/src/ff_gen_drv.h"
 1615              		.file 77 "../../libdaisy/src/util/sd_diskio.h"
 1616              		.file 78 "../../libdaisy/src/sys/fatfs.h"
 1617              		.file 79 "../../libdaisy/src/dev/sr_595.h"
ARM GAS  /tmp/ccbdW5h5.s 			page 50


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Looper.cpp
     /tmp/ccbdW5h5.s:17     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 $t
     /tmp/ccbdW5h5.s:26     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 _ZN5daisy8DaisyPodD2Ev
     /tmp/ccbdW5h5.s:26     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 _ZN5daisy8DaisyPodD1Ev
     /tmp/ccbdW5h5.s:154    .text.startup.main:0000000000000000 $t
     /tmp/ccbdW5h5.s:162    .text.startup.main:0000000000000000 main
     /tmp/ccbdW5h5.s:282    .text.startup.main:0000000000000050 $d
     /tmp/ccbdW5h5.s:1493   .bss._ZL3pod:0000000000000000 _ZL3pod
     /tmp/ccbdW5h5.s:1551   .sdram_bss:0000000000000000 buf
     /tmp/ccbdW5h5.s:1023   .text._ZL13AudioCallbackPKfPfj:0000000000000000 _ZL13AudioCallbackPKfPfj
     /tmp/ccbdW5h5.s:296    .text._Z11ResetBufferv:0000000000000000 $t
     /tmp/ccbdW5h5.s:304    .text._Z11ResetBufferv:0000000000000000 _Z11ResetBufferv
     /tmp/ccbdW5h5.s:390    .text._Z11ResetBufferv:000000000000003c $d
     /tmp/ccbdW5h5.s:402    .text._Z13UpdateButtonsv:0000000000000000 $t
     /tmp/ccbdW5h5.s:410    .text._Z13UpdateButtonsv:0000000000000000 _Z13UpdateButtonsv
     /tmp/ccbdW5h5.s:667    .text._Z13UpdateButtonsv:00000000000000c4 $d
     /tmp/ccbdW5h5.s:682    .text._Z8Controlsv:0000000000000000 $t
     /tmp/ccbdW5h5.s:690    .text._Z8Controlsv:0000000000000000 _Z8Controlsv
     /tmp/ccbdW5h5.s:781    .text._Z8Controlsv:0000000000000070 $d
     /tmp/ccbdW5h5.s:793    .text._Z11WriteBufferPKfj:0000000000000000 $t
     /tmp/ccbdW5h5.s:801    .text._Z11WriteBufferPKfj:0000000000000000 _Z11WriteBufferPKfj
     /tmp/ccbdW5h5.s:864    .text._Z11WriteBufferPKfj:0000000000000044 $d
     /tmp/ccbdW5h5.s:872    .text._Z11NextSamplesRfPKfj:0000000000000000 $t
     /tmp/ccbdW5h5.s:880    .text._Z11NextSamplesRfPKfj:0000000000000000 _Z11NextSamplesRfPKfj
     /tmp/ccbdW5h5.s:1003   .text._Z11NextSamplesRfPKfj:0000000000000090 $d
     /tmp/ccbdW5h5.s:1016   .text._ZL13AudioCallbackPKfPfj:0000000000000000 $t
     /tmp/ccbdW5h5.s:1100   .text.startup._GLOBAL__sub_I_first:0000000000000000 $t
     /tmp/ccbdW5h5.s:1107   .text.startup._GLOBAL__sub_I_first:0000000000000000 _GLOBAL__sub_I_first
     /tmp/ccbdW5h5.s:1457   .text.startup._GLOBAL__sub_I_first:0000000000000050 $d
     /tmp/ccbdW5h5.s:1468   .init_array:0000000000000000 $d
     /tmp/ccbdW5h5.s:1532   .bss.res:0000000000000000 res
     /tmp/ccbdW5h5.s:1500   .bss.drywet:0000000000000000 drywet
     /tmp/ccbdW5h5.s:1507   .bss.len:0000000000000000 len
     /tmp/ccbdW5h5.s:1545   .data.mod:0000000000000000 mod
     /tmp/ccbdW5h5.s:1520   .bss.pos:0000000000000000 pos
     /tmp/ccbdW5h5.s:1513   .bss.play:0000000000000000 play
     /tmp/ccbdW5h5.s:1526   .bss.rec:0000000000000000 rec
     /tmp/ccbdW5h5.s:1538   .data.first:0000000000000000 first
     /tmp/ccbdW5h5.s:1480   .rodata:0000000000000000 $d
     /tmp/ccbdW5h5.s:1490   .bss._ZL3pod:0000000000000000 $d
     /tmp/ccbdW5h5.s:1496   .bss.drywet:0000000000000000 $d
     /tmp/ccbdW5h5.s:1503   .bss.len:0000000000000000 $d
     /tmp/ccbdW5h5.s:1514   .bss.play:0000000000000000 $d
     /tmp/ccbdW5h5.s:1516   .bss.pos:0000000000000000 $d
     /tmp/ccbdW5h5.s:1527   .bss.rec:0000000000000000 $d
     /tmp/ccbdW5h5.s:1533   .bss.res:0000000000000000 $d
     /tmp/ccbdW5h5.s:1541   .data.mod:0000000000000000 $d
     /tmp/ccbdW5h5.s:1548   .sdram_bss:0000000000000000 $d
                           .group:0000000000000000 _ZN5daisy8DaisyPodD5Ev

UNDEFINED SYMBOLS
_ZN5daisy8DaisyPod4InitEb
_ZN5daisy8DaisyPod8StartAdcEv
_ZN5daisy8DaisyPod10StartAudioEPFvPKfPfjE
_ZN5daisy8DaisyPod21ProcessAnalogControlsEv
_ZN5daisy8DaisyPod22ProcessDigitalControlsEv
ARM GAS  /tmp/ccbdW5h5.s 			page 51


_ZN5daisy13AnalogControl7ProcessEv
_ZN5daisy6RgbLed3SetEfff
_ZN5daisy8DaisyPod10UpdateLedsEv
__aeabi_atexit
__dso_handle
